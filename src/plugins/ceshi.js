
!function (e) {
    function t(t) {
        for (var r, a, s = t[0], l = t[1], u = t[2], d = 0, f = []; d < s.length; d++)
            a = s[d],
                Object.prototype.hasOwnProperty.call(i, a) && i[a] && f.push(i[a][0]),
                i[a] = 0;
        for (r in l)
            Object.prototype.hasOwnProperty.call(l, r) && (e[r] = l[r]);
        for (c && c(t); f.length;)
            f.shift()();
        return o.push.apply(o, u || []),
            n()
    }
    function n() {
        for (var e, t = 0; t < o.length; t++) {
            for (var n = o[t], r = !0, s = 1; s < n.length; s++) {
                var l = n[s];
                0 !== i[l] && (r = !1)
            }
            r && (o.splice(t--, 1),
                e = a(a.s = n[0]))
        }
        return e
    }
    var r = {}
        , i = {
            0: 0
        }
        , o = [];
    function a(t) {
        if (r[t])
            return r[t].exports;
        var n = r[t] = {
            i: t,
            l: !1,
            exports: {}
        };
        return e[t].call(n.exports, n, n.exports, a),
            n.l = !0,
            n.exports
    }
    a.m = e,
        a.c = r,
        a.d = function (e, t, n) {
            a.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: n
            })
        }
        ,
        a.r = function (e) {
            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
        }
        ,
        a.t = function (e, t) {
            if (1 & t && (e = a(e)),
                8 & t)
                return e;
            if (4 & t && "object" == typeof e && e && e.__esModule)
                return e;
            var n = Object.create(null);
            if (a.r(n),
                Object.defineProperty(n, "default", {
                    enumerable: !0,
                    value: e
                }),
                2 & t && "string" != typeof e)
                for (var r in e)
                    a.d(n, r, function (t) {
                        return e[t]
                    }
                        .bind(null, r));
            return n
        }
        ,
        a.n = function (e) {
            var t = e && e.__esModule ? function () {
                return e.default
            }
                : function () {
                    return e
                }
                ;
            return a.d(t, "a", t),
                t
        }
        ,
        a.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        a.p = "";
    var s = window.webpackJsonp = window.webpackJsonp || []
        , l = s.push.bind(s);
    s.push = t,
        s = s.slice();
    for (var u = 0; u < s.length; u++)
        t(s[u]);
    var c = l;
    o.push([59, 1]),
        n()
}([, function (e, t, n) {
    "use strict";
    var r = this && this.__decorate || function (e, t, n, r) {
        var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
            a = Reflect.decorate(e, t, n, r);
        else
            for (var s = e.length - 1; s >= 0; s--)
                (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
        return o > 3 && a && Object.defineProperty(t, n, a),
            a
    }
        , i = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
        ;
    Object.defineProperty(t, "__esModule", {
        value: !0
    });
    var o = n(3)
        , a = i(n(35))
        , s = n(66)
        , l = i(n(74))
        , u = n(92)
        , c = i(n(2))
        , d = new (function () {
            function e() {
                var e = this;
                this.SDK = l.default.getInst(),
                    this.timer = null,
                    this.emotionCache = new s.EmotionCache,
                    this.scrollCache = new s.ScrollCache,
                    this.msgTipCache = new s.MsgTipCache,
                    this.bottomCache = new s.BottomStatusCache,
                    this.mouseCache = new s.MouseStatusCache,
                    this.msgInvokingWay = new s.MsgInvokingWay,
                    this.msgCurInvokingWay = new s.MsgCurInvokingWay,
                    this.perfRecord = new s.PerfRecord,
                    this.perfTimeStore = new a.default(50),
                    this.dxContentStore = new a.default(50),
                    this.dxCountStore = new a.default(200),
                    this.isPreview = !1,
                    this.msgContainer = {},
                    this.network = !0,
                    this.cacheClear = {},
                    this.hasMore = !0,
                    this.allowScroll = !0,
                    this.changeStart = !1,
                    this.getNewMsging = !1,
                    this.getRemoteMsging = !1,
                    this.getLocalMsging = !1,
                    this.maxLength = 360,
                    this.loginID = {},
                    this.conversationID = {},
                    this.timeRecord = {
                        conversationChange: 0
                    },
                    this.waitingBeReadingMap = new Map,
                    this.ownerBeReadingMap = new Map,
                    this.selectList = new Map,
                    this.selectNickList = new Map,
                    this.selectType = new Map,
                    this.conversationStateMap = new u.LruCache({
                        max: 50,
                        dispose: function (t, n) {
                            console.log("当前会话lru------", t, "被汰换"),
                                e.SDK.messageChannel.DB.msgDataMap.delete(t),
                                e.SDK.messageChannel.DB.msgIdCache.delete(t)
                        },
                        noDisposeOnSet: !0
                    }),
                    this.cursor = new Map,
                    this.showAudioToText = !0,
                    this.fontConfig = {},
                    this.skinConfig = {},
                    this.audioConfig = !1,
                    this.isClose = !1,
                    this.pending = !1,
                    this.isBubble = !0,
                    this.entering = !1,
                    this.chatType = "single",
                    this.msgList = [],
                    this.selectModal = !1,
                    this.selectBox = !1,
                    this.quoteModal = !1,
                    this.quoteMsg = {},
                    this.ariaHelp = !1,
                    this.isOverseaUser = !1,
                    this.abuseList = new Map
            }
            return e.prototype.clearUICache = function () {
                this.emotionCache.clear(),
                    this.scrollCache.clear(),
                    this.bottomCache.clear(),
                    this.mouseCache.clear(),
                    this.msgTipCache.clear(),
                    this.perfRecord.clear(),
                    this.perfTimeStore.reset(),
                    this.dxCountStore.reset()
            }
                ,
                Object.defineProperty(e.prototype, "total", {
                    get: function () {
                        return this.msgList.length
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                Object.defineProperty(e.prototype, "isBottom", {
                    get: function () {
                        var e = this.bottomCache.get(this.conversationID.ccode);
                        return void 0 === e || e
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.updateBottomStatus = function (e) {
                    this.bottomCache.set(this.conversationID.ccode, e)
                }
                ,
                Object.defineProperty(e.prototype, "isMouse", {
                    get: function () {
                        var e = this.mouseCache.get(this.conversationID.ccode);
                        return void 0 !== e && e
                    },
                    enumerable: !1,
                    configurable: !0
                }),
                e.prototype.updateMouseStatus = function (e) {
                    this.mouseCache.set(this.conversationID.ccode, e)
                }
                ,
                e.prototype.updateFontConfig = function (e) {
                    this.fontConfig = e || {}
                }
                ,
                e.prototype.updateSkinConfig = function (e) {
                    this.skinConfig = e || {}
                }
                ,
                e.prototype.updateAudioConfig = function (e) {
                    this.audioConfig = e
                }
                ,
                e.prototype.updateConversationID = function (e) {
                    this.conversationID = e
                }
                ,
                e.prototype.updateBubbleMode = function (e) {
                    this.isBubble = e
                }
                ,
                e.prototype.updateEnterStatus = function (e) {
                    this.entering = e
                }
                ,
                e.prototype.updatePending = function (e) {
                    this.pending = e
                }
                ,
                e.prototype.updateSelectModal = function (e) {
                    this.selectModal = e
                }
                ,
                e.prototype.updateSelectBox = function (e) {
                    this.selectBox = e
                }
                ,
                e.prototype.updateQuoteModal = function (e) {
                    this.quoteModal = e
                }
                ,
                e.prototype.updateQuoteMsg = function (e) {
                    this.quoteMsg = e
                }
                ,
                e.prototype.updateAria = function (e) {
                    this.ariaHelp = e
                }
                ,
                e.prototype.updateIsOverseaUser = function (e) {
                    this.isOverseaUser = e
                }
                ,
                e.prototype.updateMessageList = function (e) {
                    void 0 === e && (e = []),
                        this.msgList = e;
                    var t = c.default.getccode(this.conversationID);
                    t && this.msgList && this.msgList.length && this.ownerBeReadingMap.set(t, e.filter((function (e) {
                        return !e.isside && !e.selfReadflag && "file" !== e.msgtype && "voice" !== e.msgtype && "video" !== e.msgtype
                    }
                    )))
                }
                ,
                e.prototype.getTimestamp = function () {
                    return this.SDK.getServerTime().then((function (e) {
                        return parseFloat(e.result)
                    }
                    ))
                }
                ,
                e.prototype.scrollToBottom = function () {
                    var e = this
                        , t = document.getElementById("J_msgContainer");
                    if (t) {
                        var n = t.offsetHeight;
                        clearTimeout(this.timer),
                            this.timer = setInterval((function () {
                                var r = t.offsetHeight;
                                console.log("top--", t.scrollTop, "height", r),
                                    r === n && (t.scrollTop = 99999,
                                        clearTimeout(e.timer)),
                                    n = r
                            }
                            ), 300),
                            t.scrollTop = 99999
                    }
                }
                ,
                e.prototype.scrollToTop = function () {
                    setTimeout((function () {
                        var e = document.getElementById("J_msgContainer");
                        e && (e.scrollTop = 10)
                    }
                    ), 10)
                }
                ,
                r([o.observable], e.prototype, "fontConfig", void 0),
                r([o.observable], e.prototype, "skinConfig", void 0),
                r([o.observable], e.prototype, "audioConfig", void 0),
                r([o.observable], e.prototype, "isClose", void 0),
                r([o.observable], e.prototype, "pending", void 0),
                r([o.observable], e.prototype, "isBubble", void 0),
                r([o.observable], e.prototype, "entering", void 0),
                r([o.observable], e.prototype, "chatType", void 0),
                r([o.observable], e.prototype, "msgList", void 0),
                r([o.observable], e.prototype, "selectModal", void 0),
                r([o.observable], e.prototype, "selectBox", void 0),
                r([o.observable], e.prototype, "quoteModal", void 0),
                r([o.observable], e.prototype, "quoteMsg", void 0),
                r([o.observable], e.prototype, "ariaHelp", void 0),
                r([o.observable], e.prototype, "isOverseaUser", void 0),
                r([o.observable], e.prototype, "abuseList", void 0),
                r([o.computed], e.prototype, "total", null),
                r([o.computed], e.prototype, "isBottom", null),
                r([o.action], e.prototype, "updateBottomStatus", null),
                r([o.computed], e.prototype, "isMouse", null),
                r([o.action], e.prototype, "updateMouseStatus", null),
                r([o.action], e.prototype, "updateFontConfig", null),
                r([o.action], e.prototype, "updateSkinConfig", null),
                r([o.action], e.prototype, "updateAudioConfig", null),
                r([o.action], e.prototype, "updateConversationID", null),
                r([o.action], e.prototype, "updateBubbleMode", null),
                r([o.action], e.prototype, "updateEnterStatus", null),
                r([o.action], e.prototype, "updatePending", null),
                r([o.action], e.prototype, "updateSelectModal", null),
                r([o.action], e.prototype, "updateSelectBox", null),
                r([o.action], e.prototype, "updateQuoteModal", null),
                r([o.action], e.prototype, "updateQuoteMsg", null),
                r([o.action], e.prototype, "updateAria", null),
                r([o.action], e.prototype, "updateIsOverseaUser", null),
                r([o.action], e.prototype, "updateMessageList", null),
                e
        }());
    window._vs = d,
        t.default = d
}
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = n(16);
        t.default = {
            getccode: function (e) {
                return e.ccode || ""
            },
            getCID: function (e) {
                return {
                    ccode: e.ccode
                }
            },
            dateFormatter: function (e) {
                var t = new Date(parseInt(e, 10));
                return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate() + " " + this.timeFormatter(e)
            },
            timeFormatter: function (e) {
                var t = new Date(parseInt(e, 10));
                return this.numberify(t.getHours()) + ":" + this.numberify(t.getMinutes()) + ":" + this.numberify(t.getSeconds())
            },
            numberify: function (e) {
                return e > 9 ? e : "0" + e
            },
            getFileSize: function (e) {
                for (var t = parseInt(e), n = 0; t > 1024;)
                    t /= 1024,
                        n++;
                return t.toFixed(1) + {
                    0: "B",
                    1: "KB",
                    2: "MB",
                    3: "GB"
                }[n]
            },
            getStrLen: function (e) {
                for (var t = /[\u4e00-\u9fa5]/, n = 0, r = 0, i = e.length; r < i; r++)
                    n += t.test(e.charAt[r]) ? 2 : 1;
                return n
            },
            getStrByLen: function (e, t, n) {
                var r = /[\u4e00-\u9fa5]/;
                n || (n = 2);
                for (var i = 0, o = !1, a = e.length, s = 0, l = e.substring(a - n, a), u = this.getStrLen(l); s < a; s++)
                    if ((i += r.test(e.charAt[s]) ? 2 : 1) >= t - u - 3) {
                        i > t - u - 3 && s--,
                            s < a - 2 && (o = !0);
                        break
                    }
                return o ? e.substring(0, s) + "..." + l : e
            },
            htmlEncode: function (e) {
                return e = (e = (e = (e = (e = e.replace(/&/g, "&amp;")).replace(/>/g, "&gt;")).replace(/</g, "&lt;")).replace(/"/g, "&quot;")).replace(/'/g, "&#39;")
            },
            cssToJS: function (e) {
                e.replace(/\-(\w)/g, (function (e, t) {
                    return t.toUpperCase()
                }
                ));
                var t = {}
                    , n = e.split(";");
                return n.forEach((function (e) {
                    var r, i;
                    try {
                        r = e.split(":")[0].replace(/\-(\w)/g, (function (e, t) {
                            return t.toUpperCase()
                        }
                        )),
                            i = e.substring(e.indexOf(":") + 1),
                            t[r] = i
                    } catch (e) {
                        console.log("cssToJS error!", e, n)
                    }
                }
                )),
                    t
            },
            isArray: function (e) {
                return "[object Array]" === Object.prototype.toString.call(e)
            },
            isObject: function (e) {
                return "[object Object]" === Object.prototype.toString.call(e)
            },
            parents: function (e, t) {
                if (!e || !t)
                    return null;
                for (var n = e; n && (!n.classList || !n.classList.contains(t));)
                    if (!(n = n.parentNode) || !n.tagName || "BODY" === n.tagName.toUpperCase()) {
                        n = null;
                        break
                    }
                return n
            },
            logger: function (e) {
                window.JSTracker2 && window.JSTracker2.push && window.JSTracker2.push(e)
            },
            imageScroll: function (e) {
                e && e.forEach((function (e) {
                    var t = e.mcode ? e.mcode.messageId || e.mcode.clientId : e.messageId || e.clientId
                        , n = document.getElementById(t);
                    n && n.querySelectorAll("img") && n.querySelectorAll("img").forEach((function (e) {
                        e.onload = function () {
                            e.setAttribute("hold-on-key", (new Date).getTime() + ""),
                                i.default.scrollToBottom()
                        }
                    }
                    ))
                }
                ))
            },
            compareVersion: function (e) {
                try {
                    for (var t = o.getAppVersion().replace("QNM", ""), n = e && e.split("||"), r = n && n[0] || "", i = r.slice(r.indexOf(">=") + 2, r.indexOf("&&")), a = String(t), s = String(i), l = a.split("."), u = s.split("."), c = 0, d = Math.max(l.length, u.length); c < d; c++) {
                        if (l[c] && !u[c] && parseInt(l[c]) > 0 || parseInt(l[c]) > parseInt(u[c]))
                            return 1;
                        if (u[c] && !l[c] && parseInt(u[c]) > 0 || parseInt(l[c]) < parseInt(u[c]))
                            return -1
                    }
                    return 0
                } catch (e) {
                    return -1
                }
            },
            getIsDXCard: function (e) {
                var t, n, r, i, o = this;
                try {
                    var a = (null === (t = null == e ? void 0 : e.extLocal) || void 0 === t ? void 0 : t.msgExtraInfo) || "[]"
                        , s = JSON.parse(a) || []
                        , l = (null === (n = null == e ? void 0 : e.ext) || void 0 === n ? void 0 : n.dynamic_msg_content) || [];
                    if (console.debug(a, s, l),
                        !this.isArray(s) || !s.length)
                        return !1;
                    if (!this.isArray(l) || !l.length)
                        return a.includes('"layoutStyle":"card"');
                    if (s.length !== l.length)
                        return !1;
                    var u = l.map((function (e, t) {
                        var n = (null == s ? void 0 : s[t]) || {};
                        return e.extraInfo = n,
                            e
                    }
                    )).filter((function (e) {
                        return 2 !== e.platform
                    }
                    ));
                    if (!u.length)
                        return !1;
                    var c = 0;
                    return u.forEach((function (e, t) {
                        var n = null == e ? void 0 : e.expression;
                        o.compareVersion(n) >= 0 && (c = t)
                    }
                    )),
                        "card" === (null === (i = null === (r = null == u ? void 0 : u[c]) || void 0 === r ? void 0 : r.extraInfo) || void 0 === i ? void 0 : i.layoutStyle)
                } catch (e) {
                    return !1
                }
            }
        }
    }
    , , , function (e, t, n) {
        (function (t) {
            var n = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
                , r = /^\w*$/
                , i = /^\./
                , o = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
                , a = /\\(\\)?/g
                , s = /^\[object .+?Constructor\]$/
                , l = "object" == typeof t && t && t.Object === Object && t
                , u = "object" == typeof self && self && self.Object === Object && self
                , c = l || u || Function("return this")();
            var d, f = Array.prototype, p = Function.prototype, g = Object.prototype, m = c["__core-js_shared__"], h = (d = /[^.]+$/.exec(m && m.keys && m.keys.IE_PROTO || "")) ? "Symbol(src)_1." + d : "", v = p.toString, y = g.hasOwnProperty, b = g.toString, _ = RegExp("^" + v.call(y).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), w = c.Symbol, x = f.splice, O = N(c, "Map"), S = N(Object, "create"), M = w ? w.prototype : void 0, P = M ? M.toString : void 0;
            function E(e) {
                var t = -1
                    , n = e ? e.length : 0;
                for (this.clear(); ++t < n;) {
                    var r = e[t];
                    this.set(r[0], r[1])
                }
            }
            function k(e) {
                var t = -1
                    , n = e ? e.length : 0;
                for (this.clear(); ++t < n;) {
                    var r = e[t];
                    this.set(r[0], r[1])
                }
            }
            function I(e) {
                var t = -1
                    , n = e ? e.length : 0;
                for (this.clear(); ++t < n;) {
                    var r = e[t];
                    this.set(r[0], r[1])
                }
            }
            function C(e, t) {
                for (var n, r, i = e.length; i--;)
                    if ((n = e[i][0]) === (r = t) || n != n && r != r)
                        return i;
                return -1
            }
            function T(e, t) {
                for (var i, o = 0, a = (t = function (e, t) {
                    if (B(e))
                        return !1;
                    var i = typeof e;
                    if ("number" == i || "symbol" == i || "boolean" == i || null == e || F(e))
                        return !0;
                    return r.test(e) || !n.test(e) || null != t && e in Object(t)
                }(t, e) ? [t] : B(i = t) ? i : A(i)).length; null != e && o < a;)
                    e = e[R(t[o++])];
                return o && o == a ? e : void 0
            }
            function D(e) {
                return !(!U(e) || (t = e,
                    h && h in t)) && (function (e) {
                        var t = U(e) ? b.call(e) : "";
                        return "[object Function]" == t || "[object GeneratorFunction]" == t
                    }(e) || function (e) {
                        var t = !1;
                        if (null != e && "function" != typeof e.toString)
                            try {
                                t = !!(e + "")
                            } catch (e) { }
                        return t
                    }(e) ? _ : s).test(function (e) {
                        if (null != e) {
                            try {
                                return v.call(e)
                            } catch (e) { }
                            try {
                                return e + ""
                            } catch (e) { }
                        }
                        return ""
                    }(e));
                var t
            }
            function j(e, t) {
                var n, r, i = e.__data__;
                return ("string" == (r = typeof (n = t)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof t ? "string" : "hash"] : i.map
            }
            function N(e, t) {
                var n = function (e, t) {
                    return null == e ? void 0 : e[t]
                }(e, t);
                return D(n) ? n : void 0
            }
            E.prototype.clear = function () {
                this.__data__ = S ? S(null) : {}
            }
                ,
                E.prototype.delete = function (e) {
                    return this.has(e) && delete this.__data__[e]
                }
                ,
                E.prototype.get = function (e) {
                    var t = this.__data__;
                    if (S) {
                        var n = t[e];
                        return "__lodash_hash_undefined__" === n ? void 0 : n
                    }
                    return y.call(t, e) ? t[e] : void 0
                }
                ,
                E.prototype.has = function (e) {
                    var t = this.__data__;
                    return S ? void 0 !== t[e] : y.call(t, e)
                }
                ,
                E.prototype.set = function (e, t) {
                    return this.__data__[e] = S && void 0 === t ? "__lodash_hash_undefined__" : t,
                        this
                }
                ,
                k.prototype.clear = function () {
                    this.__data__ = []
                }
                ,
                k.prototype.delete = function (e) {
                    var t = this.__data__
                        , n = C(t, e);
                    return !(n < 0) && (n == t.length - 1 ? t.pop() : x.call(t, n, 1),
                        !0)
                }
                ,
                k.prototype.get = function (e) {
                    var t = this.__data__
                        , n = C(t, e);
                    return n < 0 ? void 0 : t[n][1]
                }
                ,
                k.prototype.has = function (e) {
                    return C(this.__data__, e) > -1
                }
                ,
                k.prototype.set = function (e, t) {
                    var n = this.__data__
                        , r = C(n, e);
                    return r < 0 ? n.push([e, t]) : n[r][1] = t,
                        this
                }
                ,
                I.prototype.clear = function () {
                    this.__data__ = {
                        hash: new E,
                        map: new (O || k),
                        string: new E
                    }
                }
                ,
                I.prototype.delete = function (e) {
                    return j(this, e).delete(e)
                }
                ,
                I.prototype.get = function (e) {
                    return j(this, e).get(e)
                }
                ,
                I.prototype.has = function (e) {
                    return j(this, e).has(e)
                }
                ,
                I.prototype.set = function (e, t) {
                    return j(this, e).set(e, t),
                        this
                }
                ;
            var A = L((function (e) {
                var t;
                e = null == (t = e) ? "" : function (e) {
                    if ("string" == typeof e)
                        return e;
                    if (F(e))
                        return P ? P.call(e) : "";
                    var t = e + "";
                    return "0" == t && 1 / e == -1 / 0 ? "-0" : t
                }(t);
                var n = [];
                return i.test(e) && n.push(""),
                    e.replace(o, (function (e, t, r, i) {
                        n.push(r ? i.replace(a, "$1") : t || e)
                    }
                    )),
                    n
            }
            ));
            function R(e) {
                if ("string" == typeof e || F(e))
                    return e;
                var t = e + "";
                return "0" == t && 1 / e == -1 / 0 ? "-0" : t
            }
            function L(e, t) {
                if ("function" != typeof e || t && "function" != typeof t)
                    throw new TypeError("Expected a function");
                var n = function () {
                    var r = arguments
                        , i = t ? t.apply(this, r) : r[0]
                        , o = n.cache;
                    if (o.has(i))
                        return o.get(i);
                    var a = e.apply(this, r);
                    return n.cache = o.set(i, a),
                        a
                };
                return n.cache = new (L.Cache || I),
                    n
            }
            L.Cache = I;
            var B = Array.isArray;
            function U(e) {
                var t = typeof e;
                return !!e && ("object" == t || "function" == t)
            }
            function F(e) {
                return "symbol" == typeof e || function (e) {
                    return !!e && "object" == typeof e
                }(e) && "[object Symbol]" == b.call(e)
            }
            e.exports = function (e, t, n) {
                var r = null == e ? void 0 : T(e, t);
                return void 0 === r ? n : r
            }
        }
        ).call(this, n(22))
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = {
            count: 20,
            SCROLL_DELAY: 300,
            FILE_MAX_LEN: 25,
            TEMP20014_SMALL_MAX_WIDTH: 264,
            TEMP20014_MIDDLE_MAX_WIDTH: 324,
            TEMP20014_LARGE_MAX_WIDTH: 396,
            RECALL_LIMIT: 12e4,
            NOT_SUPPORT_MSG: "暂不支持的消息类型",
            PREVIEW_FILE: "预览",
            OPEN_FILE: "打开文件夹",
            CANCEL_UPLOAD: "取消上传",
            CANCEL_DOWNLOAD: "取消下载",
            ONLY_DOWNLOAD_FILE: "下载文件",
            RE_DOWNLOAD_FILE: "重新下载",
            PERSONAL_CARD: "名片",
            MENU_COPY: "复制",
            MENU_FORWARD: "转发",
            MENU_TRANSLATE: "翻译",
            MENU_RECALL: "撤回",
            MENU_REPORT: "举报",
            MENU_PHOTO_SEE: "图片查看",
            MENU_PHOTO_EDIT: "图片编辑",
            MENU_PHOTO_SAVE: "图片另存为",
            MENU_ADD_EMOJI: "添加为表情",
            MENU_FIX_EMOJI: "修改表情",
            MENU_VOICE_2_TEXT: "语音转文字",
            MENU_MULTIPLE_CHOICE: "多选",
            MENU_REPLY: "回复",
            MENU_SEE_ORIGINAL_TEXT: "查看原文",
            MENU_MESSAGE_SOURCE: "消息来源",
            MENU_QUICK_LANGUAGE: "添加快捷短语",
            MENU_ROBOT_REPLY: "加到机器人回复",
            NEW_MSG_TIP: "新消息",
            DOWNLOAD_FILE: "下载文件",
            ADD_EXPRESSION: "添加表情",
            SAVE_PICTURE: "保存图片",
            EDIT_PICTURE: "编辑图片",
            singleImageToolBoxButton: [{
                text: "添加表情",
                action: "im.bizutil.DoMessageCommand",
                cls: "emot-icon"
            }, {
                text: "保存图片",
                action: "im.bizutil.DoMessageCommand",
                cls: "save-icon"
            }, {
                text: "编辑图片",
                action: "im.bizutil.DoMessageCommand",
                cls: "edit-icon"
            }],
            OPEN: "打开",
            REPORT: "举报",
            COPY: "复制",
            SAFE_LINK_OPEN: "安全链接，请放心打开",
            UNKNOWN_LINK_CAREFUL: "未知链接，请谨慎打开！",
            HOW_IDENTIFY_LINK: "如何识别可疑链接?",
            DO_WX_ACTION_ERROR: "处理旺action错误",
            Event: r(n(97)).default,
            AUTO_REPLAY_LIST: ["robot-reply", "auto-reply"]
        };
        window._dangerousChangePCodeString = function (e) {
            "number" == typeof e && (i.count = e)
        }
            ,
            t.default = i
    }
    , function (e, t, n) {
        "use strict";
        n.r(t),
            n.d(t, "createLogger", (function () {
                return a
            }
            )),
            n.d(t, "Logger", (function () {
                return o
            }
            ));
        var r = n(58)
            , i = n.n(r)
            , o = function () {
                function e(e, t) {
                    var n = this;
                    void 0 === t && (t = !0),
                        this.namespace = e,
                        this.limit = t,
                        this._debug = void 0,
                        this.fmt = "yyyy-MM-dd hh:mm:ss",
                        this.format = function (e, t) {
                            void 0 === t && (t = n.fmt);
                            var r = {
                                "M+": e.getMonth() + 1,
                                "d+": e.getDate(),
                                "h+": e.getHours(),
                                "m+": e.getMinutes(),
                                "s+": e.getSeconds(),
                                "q+": Math.floor((e.getMonth() + 3) / 3),
                                S: e.getMilliseconds()
                            };
                            for (var i in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "").substr(4 - RegExp.$1.length))),
                                r)
                                new RegExp("(" + i + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? r[i] : ("00" + r[i]).substr(("" + r[i]).length)));
                            return t
                        }
                        ,
                        this._debug = i()(e),
                        this._debug.enabled = !0,
                        this._debug.log = console.log
                }
                var t = e.prototype;
                return t.shouldSlice = function () {
                    return !!this.limit
                }
                    ,
                    t.writeLog = function () {
                        if (window.workbench) {
                            var e = this.stringify.apply(this, arguments);
                            this.shouldSlice() && (e = e.slice(0, 200)),
                                window.workbench.im.log(0, "[" + this.namespace + "]: " + e)
                        }
                    }
                    ,
                    t.stringify = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        var r = t.map((function (e) {
                            if ("string" == typeof e)
                                return e;
                            try {
                                return JSON.stringify(e)
                            } catch (t) {
                                return String(e)
                            }
                        }
                        ));
                        return r.join(" ")
                    }
                    ,
                    t.color = function (e) {
                        this._debug.color = e
                    }
                    ,
                    t.log = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        this._debug.apply(this, [].concat(t, [this.format(new Date)])),
                            this.writeLog.apply(this, t)
                    }
                    ,
                    t.consoleLog = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        this._debug.apply(this, [].concat(t, [this.format(new Date)]))
                    }
                    ,
                    e
            }()
            , a = function (e) {
                return function (t, n) {
                    return void 0 === n && (n = !0),
                        new o("message:" + e + ":" + t, n)
                }
            }
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var r = n(134);
        Object.keys(r).forEach((function (e) {
            "default" !== e && "__esModule" !== e && (e in t && t[e] === r[e] || (t[e] = r[e]))
        }
        ))
    }
    , function (e, t, n) {
        "use strict";
        var r = n(47)
            , i = Object.prototype.toString;
        function o(e) {
            return "[object Array]" === i.call(e)
        }
        function a(e) {
            return void 0 === e
        }
        function s(e) {
            return null !== e && "object" == typeof e
        }
        function l(e) {
            return "[object Function]" === i.call(e)
        }
        function u(e, t) {
            if (null != e)
                if ("object" != typeof e && (e = [e]),
                    o(e))
                    for (var n = 0, r = e.length; n < r; n++)
                        t.call(null, e[n], n, e);
                else
                    for (var i in e)
                        Object.prototype.hasOwnProperty.call(e, i) && t.call(null, e[i], i, e)
        }
        e.exports = {
            isArray: o,
            isArrayBuffer: function (e) {
                return "[object ArrayBuffer]" === i.call(e)
            },
            isBuffer: function (e) {
                return null !== e && !a(e) && null !== e.constructor && !a(e.constructor) && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e)
            },
            isFormData: function (e) {
                return "undefined" != typeof FormData && e instanceof FormData
            },
            isArrayBufferView: function (e) {
                return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer
            },
            isString: function (e) {
                return "string" == typeof e
            },
            isNumber: function (e) {
                return "number" == typeof e
            },
            isObject: s,
            isUndefined: a,
            isDate: function (e) {
                return "[object Date]" === i.call(e)
            },
            isFile: function (e) {
                return "[object File]" === i.call(e)
            },
            isBlob: function (e) {
                return "[object Blob]" === i.call(e)
            },
            isFunction: l,
            isStream: function (e) {
                return s(e) && l(e.pipe)
            },
            isURLSearchParams: function (e) {
                return "undefined" != typeof URLSearchParams && e instanceof URLSearchParams
            },
            isStandardBrowserEnv: function () {
                return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && ("undefined" != typeof window && "undefined" != typeof document)
            },
            forEach: u,
            merge: function e() {
                var t = {};
                function n(n, r) {
                    "object" == typeof t[r] && "object" == typeof n ? t[r] = e(t[r], n) : t[r] = n
                }
                for (var r = 0, i = arguments.length; r < i; r++)
                    u(arguments[r], n);
                return t
            },
            deepMerge: function e() {
                var t = {};
                function n(n, r) {
                    "object" == typeof t[r] && "object" == typeof n ? t[r] = e(t[r], n) : t[r] = "object" == typeof n ? e({}, n) : n
                }
                for (var r = 0, i = arguments.length; r < i; r++)
                    u(arguments[r], n);
                return t
            },
            extend: function (e, t, n) {
                return u(t, (function (t, i) {
                    e[i] = n && "function" == typeof t ? r(t, n) : t
                }
                )),
                    e
            },
            trim: function (e) {
                return e.replace(/^\s*/, "").replace(/\s*$/, "")
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.removeAriaClickMenu = t.addAriaClickMenu = t.getOnKeyUp = t.setStyle = t.getTabIndex = void 0;
        var i = r(n(1));
        t.getTabIndex = function () {
            return i.default.ariaHelp ? {
                tabIndex: 0
            } : {}
        }
            ,
            t.setStyle = function (e) {
                i.default.ariaHelp && e.target.parentElement.setAttribute("style", "visibility: hidden")
            }
            ,
            t.getOnKeyUp = function (e) {
                return i.default.ariaHelp ? {
                    onKeyUp: function (t) {
                        13 === t.keyCode && e(t)
                    }
                } : {}
            }
            ;
        var o = function (e) {
            if (i.default.ariaHelp && "bubble-menu-trigger" !== e.target.className)
                for (var t = document.querySelectorAll(".bubble-menu-list"), n = document.getElementsByClassName("bubble-menu-list"), r = 0; r < t.length; r++)
                    n[r].setAttribute("style", "visibility: hidden")
        };
        t.addAriaClickMenu = function () {
            i.default.ariaHelp && document.addEventListener("click", o)
        }
            ,
            t.removeAriaClickMenu = function () {
                i.default.ariaHelp && document.removeEventListener("click", o)
            }
    }
    , , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.onAudioConfigChange = t.handleBubbleMenu = t.onSkinConfigChange = t.onFontConfigChange = t.setMsgReadStatusByScroll = t.handleTempClick = t.onUpdateCloudFileMeta = t.handleResend = t.handleRecall = t.handleForward = t.handleCopy = t.onUpdateTransferInfo = t.onChatDlgActive = t.onMessageReadStatus = t.setMsgReadStatus = t.getMoreHistoryMsg = t.onMessageRevoke = t.onProfileUpdate = t.onMessageDel = t.onMessageUpdate = t.onMsgSendUpdate = t.onSendNewMsg = t.onReceiveNewMsg = t.jsViewUpdate = t.conversationClose = t.conversationChange = void 0;
        var i = r(n(98));
        t.conversationChange = i.default;
        var o = r(n(103));
        t.conversationClose = o.default;
        var a = r(n(104));
        t.jsViewUpdate = a.default;
        var s = r(n(105));
        t.onReceiveNewMsg = s.default;
        var l = r(n(106));
        t.onMsgSendUpdate = l.default;
        var u = r(n(107));
        t.onProfileUpdate = u.default;
        var c = r(n(108));
        t.onMessageRevoke = c.default;
        var d = r(n(109));
        t.getMoreHistoryMsg = d.default;
        var f = r(n(110));
        t.setMsgReadStatus = f.default;
        var p = r(n(111));
        t.onMessageReadStatus = p.default;
        var g = r(n(112));
        t.onChatDlgActive = g.default;
        var m = r(n(113));
        t.onSendNewMsg = m.default;
        var h = r(n(114));
        t.onMessageUpdate = h.default;
        var v = r(n(115));
        t.onMessageDel = v.default;
        var y = r(n(116));
        t.onUpdateTransferInfo = y.default;
        var b = r(n(117));
        t.onUpdateCloudFileMeta = b.default;
        var _ = r(n(118));
        t.handleCopy = _.default;
        var w = r(n(119));
        t.handleForward = w.default;
        var x = r(n(120));
        t.handleRecall = x.default;
        var O = r(n(121));
        t.handleResend = O.default;
        var S = r(n(122));
        t.handleTempClick = S.default;
        var M = r(n(43));
        t.setMsgReadStatusByScroll = M.default;
        var P = r(n(125));
        t.onFontConfigChange = P.default;
        var E = r(n(126));
        t.onSkinConfigChange = E.default;
        var k = r(n(127));
        t.onAudioConfigChange = k.default;
        var I = r(n(128));
        t.handleBubbleMenu = I.default
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__exportStar || function (e, t) {
                for (var n in e)
                    "default" === n || t.hasOwnProperty(n) || r(t, e, n)
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            i(n(101), t),
            i(n(102), t)
    }
    , function (e, t) {
        e.exports = function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.MCache = void 0;
        var r = function () {
            function e() {
                this.store = new Map
            }
            return e.prototype.has = function (e) {
                return this.store.has(e)
            }
                ,
                e.prototype.get = function (e, t) {
                    return !this.store.has(e) && t && this.store.set(e, t),
                        this.store.get(e)
                }
                ,
                e.prototype.set = function (e, t) {
                    this.store.set(e, t)
                }
                ,
                e.prototype.clear = function () {
                    this.store.clear()
                }
                ,
                e.prototype.delete = function (e) {
                    this.store.delete(e)
                }
                ,
                e
        }();
        t.MCache = r
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0,
            t.tracker = t.getParam = t.getDateLocaleString = t.getAppVersion = void 0;
        t.tracker = function (e) {
            window.JSTracker2 && window.JSTracker2.push && window.JSTracker2.push(e)
        }
            ,
            t.getParam = function (e) {
                var t, n = {};
                e && e.split("&").forEach((function (e) {
                    t = e.split("=");
                    try {
                        n[t[0]] = decodeURIComponent(t[1])
                    } catch (e) {
                        n[t[0]] = t[1]
                    }
                }
                ));
                return n
            }
            ,
            t.getDateLocaleString = function () {
                var e = new Date
                    , t = e.toString();
                try {
                    t = e.toLocaleString("chinese", {
                        hourCycle: "h23",
                        hour12: !1
                    })
                } catch (e) {
                    var n = e.stack || e.toString();
                    try {
                        window && window.tracker && window.tracker.log({
                            code: 19,
                            msg: "toLocaleString失败",
                            sampleRate: 1,
                            c1: window && window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                            c2: r(),
                            c3: JSON.stringify(n)
                        })
                    } catch (e) { }
                }
                return t
            }
            ;
        var r = t.getAppVersion = function () {
            var e = "unknown";
            try {
                e = window.navigator.userAgent.match(/Qianniu\/([\w\W]+)\s+/)[1]
            } catch (e) { }
            return e
        }
    }
    , , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(42))
            , o = r(n(6))
            , a = {
                config: {},
                popupOver: {},
                __isShow: !1,
                init: function () {
                    var e = this;
                    return this.config = {
                        visible: !1,
                        x: -5,
                        y: -5,
                        cls: "imui-msg-new-msg-box J_newMsgTip",
                        tpl: o.default.NEW_MSG_TIP,
                        html: ""
                    },
                        this.popupOver = new i.default(this.getContainer(), this.config),
                        this.popupOver.render(this.config),
                        this.popupOver.box.onclick = function (t) {
                            e.hide(),
                                e.getContainer().scrollTop = e.getContainer().scrollHeight
                        }
                        ,
                        this
                },
                show: function () {
                    this.isShow() || (this.__isShow = !0,
                        this.config.visible = !0,
                        this.popupOver.render(this.config))
                },
                hide: function () {
                    this.isShow() && (this.__isShow = !1,
                        this.config.visible = !1,
                        this.popupOver.render(this.config))
                },
                isShow: function () {
                    return this.__isShow
                },
                getContainer: function () {
                    return document.getElementById("J_msgContainer")
                }
            };
        t.default = a
    }
    , function (e, t) {
        e.exports = function (e) {
            function t(r) {
                if (n[r])
                    return n[r].exports;
                var i = n[r] = {
                    exports: {},
                    id: r,
                    loaded: !1
                };
                return e[r].call(i.exports, i, i.exports, t),
                    i.loaded = !0,
                    i.exports
            }
            var n = {};
            return t.m = e,
                t.c = n,
                t.p = "",
                t(0)
        }([function (e, t, n) {
            e.exports = n(1)
        }
            , function (e, t, n) {
                t.aplus_universal = n(2),
                    t.AplusWeb = n(7),
                    t.AplusWeex = n(10),
                    t.AplusWindmill = n(13),
                    t.AplusWindmillAlipay = n(14),
                    t.AplusWindmillAppx = n(17)
            }
            , function (e, t, n) {
                (function (t) {
                    "use strict";
                    var r, i, o, a, s = n(3), l = n(4), u = l.isWeex, c = l.isWeb;
                    try {
                        r = my
                    } catch (e) { }
                    try {
                        i = wx
                    } catch (e) { }
                    try {
                        o = tt
                    } catch (e) { }
                    try {
                        a = swan
                    } catch (e) { }
                    var d = r || i || o || a
                        , f = !1;
                    "object" == typeof d && (f = !(!d.request && !d.httpRequest || !d.getSystemInfo));
                    var p, g = {
                        AplusWeb: n(7),
                        AplusWeex: n(10),
                        AplusWindmill: n(13),
                        AplusWindmillAlipay: n(14),
                        Common: n(8)
                    }, m = function () {
                        if (u)
                            return "AplusWeex";
                        if (c)
                            return "AplusWeb";
                        if (f)
                            return s.isTB() ? "AplusWindmill" : "AplusWindmillAlipay";
                        try {
                            t.window || (t.window = {})
                        } catch (e) { }
                        return "Common"
                    }();
                    try {
                        var h = g[m = m || "Common"];
                        p = s.createGoldlogInstance(h)
                    } catch (e) {
                        console && console.log(e),
                            p = {}
                    }
                    e.exports = p
                }
                ).call(t, function () {
                    return this
                }())
            }
            , function (e, t) {
                "use strict";
                function n(e) {
                    for (var t = [], n = 0; n < e.length; n++) {
                        var r = e[n][0]
                            , i = e[n][1];
                        t.push(r + "=" + encodeURIComponent(i))
                    }
                    return t.join("&")
                }
                function r() {
                    var e = function () { }
                        , t = {
                            getSystemInfo: e,
                            setStorageSync: e,
                            getStorage: e
                        }
                        , n = t;
                    try {
                        n = dd
                    } catch (e) {
                        try {
                            n = my
                        } catch (e) {
                            try {
                                n = ks
                            } catch (e) {
                                try {
                                    n = wx
                                } catch (e) {
                                    try {
                                        n = tt
                                    } catch (e) {
                                        try {
                                            n = swan
                                        } catch (e) {
                                            n = t
                                        }
                                    }
                                }
                            }
                        }
                    }
                    return n
                }
                t.getAplusUniversalVersion = function () {
                    return "4.7.9"
                }
                    ,
                    t.paramsToObj = function (e) {
                        for (var t = {}, n = (e = "string" == typeof e ? e : "").split("&"), r = 0; r < n.length; r++) {
                            var i = n[r]
                                , o = i.split("=")
                                , a = o[0]
                                , s = "";
                            if (2 === o.length)
                                s = o[1];
                            else if (o.length > 2) {
                                var l = i.indexOf("=");
                                s = i.slice(l + 1)
                            }
                            a && (t[a] = s)
                        }
                        return t
                    }
                    ,
                    t.objToParams = function (e, t) {
                        var n = [];
                        for (var r in e) {
                            var i = r
                                , o = t ? encodeURIComponent(e[r]) : e[r];
                            n.push(i + "=" + o)
                        }
                        return n.join("&")
                    }
                    ,
                    t.getParamFromURL = function (e, t) {
                        var n = "";
                        (t || (t = "spm"),
                            e) && (e.split("?")[1] || "").split("&").forEach((function (e) {
                                0 === e.indexOf(t + "=") && (n = e.substr(t.length + 1))
                            }
                            ));
                        return n
                    }
                    ,
                    t.simplifyURL = function (e) {
                        e || (e = "");
                        var t = "_wx_tpl=";
                        return e.indexOf(t) > -1 && (e = e.substring(e.indexOf(t) + t.length, e.indexOf(".js") + ".js".length)),
                            e.split("?")[0]
                    }
                    ,
                    t.getLocation = function () {
                        var e;
                        try {
                            e = location || {}
                        } catch (t) {
                            e = {}
                        }
                        return e
                    }
                    ,
                    t.getCurrentPage = function () {
                        var e = getCurrentPages();
                        return e[e.length - 1] || {}
                    }
                    ,
                    t.getPVLogUrl = function (e) {
                        var t = "";
                        return t = /^\/\/\w+/.test(e) ? "https:" + e : "https://" + e,
                            /\w+\.gif$/.test(e) || (t += "/vx.gif"),
                            t
                    }
                    ,
                    t.getEtagUrl = function (e) {
                        return (/^\/\/\w+/.test(e) ? "https:" + e : "https://" + e) + "/eg.js"
                    }
                    ,
                    t.getGoldlogUrl = function (e) {
                        return /^\/\/\w+/.test(e) ? "https:" + e : "https://" + e
                    }
                    ,
                    t.makeCacheNum = function () {
                        return Math.floor(268435456 * Math.random()).toString(16)
                    }
                    ,
                    t.makeUrl = function (e) {
                        return [e.preParams ? n(e.preParams) : "", "&aplus&", e.endParams ? n(e.endParams) : ""].join("")
                    }
                    ,
                    t.hostValidity = function (e) {
                        return /^(\/\/){0,1}(\w+\.){1,}\w+((\/\w+){1,})?$/.test(e)
                    }
                    ,
                    t.vhostValidity = function (e) {
                        return /^(\/\/){0,1}(\w+\.){1,}\w+\/\w+\.gif$/.test(e)
                    }
                    ,
                    t.getContext = r,
                    t.getAppInfo = function () {
                        var e = {};
                        return function () {
                            if (e.appId)
                                return e;
                            try {
                                var t = r();
                                if (t.getAccountInfoSync && t.canIUse("getAccountInfoSync")) {
                                    var n = t.getAccountInfoSync()
                                        , i = n.miniProgram || {}
                                        , o = n.plugin || {};
                                    e.appId = i.appId,
                                        e.appVersion = i.version || i.envVersion,
                                        e.pluginAppId = o.appId,
                                        e.pluginAppVersion = o.version
                                } else if (t.getAppIdSync && t.canIUse("getAppIdSync")) {
                                    var a = t.getAppIdSync() || {};
                                    e.appId = a.appId || ""
                                }
                            } catch (e) { }
                            return e
                        }
                    }(),
                    t.isTriver = function () {
                        try {
                            var e = navigator ? navigator.userAgent || navigator.swuserAgent : "";
                            return /Triver/g.test(e)
                        } catch (e) {
                            return !1
                        }
                    }
                    ,
                    t.isTB = function () {
                        var e = !1;
                        try {
                            var t = navigator ? navigator.userAgent || navigator.swuserAgent : "";
                            if (e = !!/AliApp/i.test(t),
                                /AliApp\((AP|DingTalk|AMAP|UC|QUARK)/i.test(t) && (e = !1),
                                e) {
                                var n = r();
                                "function" == typeof n.canIUse && (e = !!n.canIUse("callUserTrack"))
                            }
                        } catch (e) { }
                        return e
                    }
                    ;
                var i = {
                    CLK: {
                        name: "click",
                        alias: "CLK",
                        id: "2101"
                    },
                    EXP: {
                        name: "expose",
                        alias: "EXP",
                        id: "2201"
                    },
                    IMPEXP: {
                        name: "expose",
                        alias: "IMPEXP",
                        id: "2202"
                    },
                    OTHER: {
                        name: "other",
                        alias: "OTHER",
                        id: "19999"
                    }
                };
                t.getGmObj = function (e) {
                    var t = i[e] || i.OTHER;
                    if ("19999" === t.id)
                        try {
                            var n = parseInt(e);
                            if (n + "" != "NaN" && n > 3e3 && n < 19999) {
                                var r = e + "";
                                t = {
                                    name: r,
                                    alias: r,
                                    id: r
                                }
                            }
                        } catch (e) { }
                    return t
                }
                    ,
                    t.createGoldlogInstance = function (e, t) {
                        var n = "object" == typeof t ? t : {};
                        return e.default ? e.default.create(n) : e.create(n)
                    }
            }
            , function (e, t, n) {
                "use strict";
                t.__esModule = !0;
                var r = n(5);
                Object.keys(r).forEach((function (e) {
                    "default" !== e && "__esModule" !== e && (e in t && t[e] === r[e] || (t[e] = r[e]))
                }
                ))
            }
            , function (e, t, n) {
                (function (e, n) {
                    "use strict";
                    t.__esModule = !0,
                        t.isWindVane = t.isWeex = t.isWeb = t.isWeChatMiniProgram = t.isQuickApp = t.isPHA = t.isNode = t.isMiniApp = t.isKuaiShouMiniProgram = t.isKraken = t.isFRM = t.isByteDanceMicroApp = t.isBaiduSmartProgram = t.default = void 0;
                    var r = "undefined" != typeof window && "onload" in window;
                    t.isWeb = r;
                    var i = void 0 !== e && !(!e.versions || !e.versions.node);
                    t.isNode = i;
                    var o = "undefined" != typeof WXEnvironment && "Web" !== WXEnvironment.platform;
                    t.isWeex = o;
                    var a = "undefined" != typeof __kraken__;
                    t.isKraken = a;
                    var s = "undefined" != typeof my && null !== my && void 0 !== my.alert;
                    t.isMiniApp = s;
                    var l = "undefined" != typeof tt && null !== tt && void 0 !== tt.showToast;
                    t.isByteDanceMicroApp = l;
                    var u = "undefined" != typeof swan && null !== swan && void 0 !== swan.showToast;
                    t.isBaiduSmartProgram = u;
                    var c = "undefined" != typeof ks && null !== ks && void 0 !== ks.showToast;
                    t.isKuaiShouMiniProgram = c;
                    var d = !l && "undefined" != typeof wx && null !== wx && (void 0 !== wx.request || void 0 !== wx.miniProgram);
                    t.isWeChatMiniProgram = d;
                    var f = null != n && void 0 !== n.callNative && !o;
                    t.isQuickApp = f;
                    var p = r && "object" == typeof pha;
                    t.isPHA = p;
                    var g = s && r && my.isFRM;
                    t.isFRM = g;
                    var m = "object" == typeof navigator ? navigator.userAgent || navigator.swuserAgent : ""
                        , h = /.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(m) && r && "undefined" != typeof WindVane && void 0 !== WindVane.call;
                    t.isWindVane = h;
                    var v = {
                        isWeb: r,
                        isNode: i,
                        isWeex: o,
                        isKraken: a,
                        isMiniApp: s,
                        isByteDanceMicroApp: l,
                        isBaiduSmartProgram: u,
                        isKuaiShouMiniProgram: c,
                        isWeChatMiniProgram: d,
                        isQuickApp: f,
                        isPHA: p,
                        isWindVane: h,
                        isFRM: g
                    };
                    t.default = v
                }
                ).call(t, n(6), function () {
                    return this
                }())
            }
            , function (e, t) {
                function n() {
                    throw new Error("setTimeout has not been defined")
                }
                function r() {
                    throw new Error("clearTimeout has not been defined")
                }
                function i(e) {
                    if (u === setTimeout)
                        return setTimeout(e, 0);
                    if ((u === n || !u) && setTimeout)
                        return u = setTimeout,
                            setTimeout(e, 0);
                    try {
                        return u(e, 0)
                    } catch (t) {
                        try {
                            return u.call(null, e, 0)
                        } catch (t) {
                            return u.call(this, e, 0)
                        }
                    }
                }
                function o() {
                    g && f && (g = !1,
                        f.length ? p = f.concat(p) : m = -1,
                        p.length && a())
                }
                function a() {
                    if (!g) {
                        var e = i(o);
                        g = !0;
                        for (var t = p.length; t;) {
                            for (f = p,
                                p = []; ++m < t;)
                                f && f[m].run();
                            m = -1,
                                t = p.length
                        }
                        f = null,
                            g = !1,
                            function (e) {
                                if (c === clearTimeout)
                                    return clearTimeout(e);
                                if ((c === r || !c) && clearTimeout)
                                    return c = clearTimeout,
                                        clearTimeout(e);
                                try {
                                    c(e)
                                } catch (t) {
                                    try {
                                        return c.call(null, e)
                                    } catch (t) {
                                        return c.call(this, e)
                                    }
                                }
                            }(e)
                    }
                }
                function s(e, t) {
                    this.fun = e,
                        this.array = t
                }
                function l() { }
                var u, c, d = e.exports = {};
                !function () {
                    try {
                        u = "function" == typeof setTimeout ? setTimeout : n
                    } catch (e) {
                        u = n
                    }
                    try {
                        c = "function" == typeof clearTimeout ? clearTimeout : r
                    } catch (e) {
                        c = r
                    }
                }();
                var f, p = [], g = !1, m = -1;
                d.nextTick = function (e) {
                    var t = new Array(arguments.length - 1);
                    if (arguments.length > 1)
                        for (var n = 1; n < arguments.length; n++)
                            t[n - 1] = arguments[n];
                    p.push(new s(e, t)),
                        1 !== p.length || g || i(a)
                }
                    ,
                    s.prototype.run = function () {
                        this.fun.apply(null, this.array)
                    }
                    ,
                    d.title = "browser",
                    d.browser = !0,
                    d.env = {},
                    d.argv = [],
                    d.version = "",
                    d.versions = {},
                    d.on = l,
                    d.addListener = l,
                    d.once = l,
                    d.off = l,
                    d.removeListener = l,
                    d.removeAllListeners = l,
                    d.emit = l,
                    d.prependListener = l,
                    d.prependOnceListener = l,
                    d.listeners = function (e) {
                        return []
                    }
                    ,
                    d.binding = function (e) {
                        throw new Error("process.binding is not supported")
                    }
                    ,
                    d.cwd = function () {
                        return "/"
                    }
                    ,
                    d.chdir = function (e) {
                        throw new Error("process.chdir is not supported")
                    }
                    ,
                    d.umask = function () {
                        return 0
                    }
            }
            , function (e, t, n) {
                "use strict";
                var r = n(3).objToParams
                    , i = n(8).extend({
                        _ENV: "Web",
                        setPageSPM: function (e, t, n) {
                            this.spmAB = [e, t],
                                (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                    action: "goldlog.setPageSPM",
                                    arguments: [e, t]
                                }),
                                "function" == typeof n && n()
                        },
                        getPageSPM: function () {
                            return this.spmAB
                        },
                        getPageSPMStr: function () {
                            return this.spmAB.join(".")
                        },
                        record: function (e, t, n, i) {
                            return n = "string" == typeof n ? n : r(n, !0),
                                n = this.getUserInjectGokey({
                                    logkey: e,
                                    gmkey: t,
                                    gokey: n
                                }),
                                (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                    action: "goldlog.record",
                                    arguments: [e, t, n, i || "POST"]
                                }),
                                !0
                        },
                        enter: function (e, t) {
                            e || (e = {}),
                                t || (t = {});
                            var n = {
                                is_auto: !1,
                                page_id: ""
                            };
                            return t.page_id && (n.page_id = t.page_id,
                                delete t.page_id),
                                (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                    action: "goldlog.sendPV",
                                    arguments: [n, t]
                                }),
                                !0
                        },
                        setMetaInfo: function (e, t, n) {
                            (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                action: "goldlog.setMetaInfo",
                                arguments: [e, t, n]
                            })
                        },
                        getMetaInfo: function (e, t) {
                            (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                action: "goldlog.aplus_pubsub.subscribe",
                                arguments: ["aplusReady", function (n) {
                                    var r = window.goldlog;
                                    "complete" === n && r && "function" == typeof r.getMetaInfo && "function" == typeof t && t(r.getMetaInfo(e))
                                }
                                ]
                            })
                        },
                        updateSessionProperties: function (e) {
                            "object" == typeof e && (window.goldlog_queue || (window.goldlog_queue = [])).push({
                                action: "goldlog.setMetaInfo",
                                arguments: ["_session_args", e]
                            })
                        }
                    });
                e.exports = i
            }
            , function (e, t, n) {
                "use strict";
                function r(e) {
                    return "function" == typeof e
                }
                function i(e) {
                    if (!r(e))
                        throw new TypeError(e + " is not a function");
                    return e
                }
                var o = n(3)
                    , a = n(9)
                    , s = function () { }
                    , l = function (e) {
                        for (var t = e.length, n = new Array(t - 1), r = 1; r < t; r++)
                            n[r - 1] = e[r];
                        return n
                    }
                    , u = a.extend({
                        _ENV: "Node",
                        spmAB: ["0", "0"],
                        spmUrl: "",
                        spmPre: "",
                        pageName: "",
                        isPageDisAppear: !0,
                        isPageAppear: !1,
                        _meta_info: {},
                        record: s,
                        setPageSPM: s,
                        getPageSPM: s,
                        enter: s,
                        setHandlers: function (e) {
                            this.handlers = e
                        },
                        subscribe: function (e, t) {
                            i(t);
                            var n = this
                                , r = (n.pubs || {})[e] || [];
                            if (r)
                                for (var o = 0; o < r.length; o++) {
                                    var a = r[o]();
                                    t.apply(n, a)
                                }
                            var s = n.handlers || [];
                            return e in s || (s[e] = []),
                                s[e].push(t),
                                n.setHandlers(s),
                                n
                        },
                        subscribeOnce: function (e, t) {
                            i(t);
                            var n, r = this;
                            return this.subscribe.call(this, e, n = function () {
                                r.unsubscribe.call(r, e, n);
                                var i = Array.prototype.slice.call(arguments);
                                t.apply(r, i)
                            }
                            ),
                                this
                        },
                        unsubscribe: function (e, t) {
                            i(t);
                            var n = this.handlers[e];
                            if (!n)
                                return this;
                            if ("object" == typeof n && n.length > 0) {
                                for (var r = 0; r < n.length; r++) {
                                    t.toString() === n[r].toString() && n.splice(r, 1)
                                }
                                this.handlers[e] = n
                            } else
                                delete this.handlers[e];
                            return this
                        },
                        publish: function (e) {
                            var t = l(arguments)
                                , n = this.handlers || []
                                , i = n[e] ? n[e].length : 0;
                            if (i > 0)
                                for (var o = 0; o < i; o++) {
                                    var a = n[e][o];
                                    r(a) && a.apply(this, t)
                                }
                            return this
                        },
                        cachePubs: function (e) {
                            var t = this.pubs || {}
                                , n = l(arguments);
                            t[e] || (t[e] = []),
                                t[e].push((function () {
                                    return n
                                }
                                ))
                        },
                        updatePageProperties: function (e) {
                            "object" == typeof e && this.setMetaInfo("aplus-cpvdata", e)
                        },
                        updateNextPageProperties: s,
                        updatePageUtparam: s,
                        updateNextPageUtparam: s,
                        skipPage: s,
                        pageAppear: s,
                        pageDisappear: s,
                        setExposureView: s,
                        updateSessionProperties: s,
                        getPageSpmUrl: s,
                        getPageSpmPre: s,
                        getUserInjectGokey: function (e) {
                            var t = this.getMetaInfo("aplus-inject-record-gokey");
                            return "function" == typeof t ? t(e) : e.gokey
                        },
                        setMetaInfo: function (e, t) {
                            switch (e) {
                                case "aplus-rhost-v":
                                case "aplus-rhost-g":
                                    var n = o.hostValidity(t);
                                    n || "aplus-rhost-v" !== e || (n = o.vhostValidity(t)),
                                        n ? this._meta_info[e] = t : this.catchException("sorry, metaValue of " + t + " is not legality!");
                                    break;
                                case "aplus-exdata":
                                case "aplus-cpvdata":
                                case "aplus-request-extinfo":
                                    "object" == typeof t ? this._meta_info[e] = t : this.catchException("sorry, type of " + t + "  must be object!");
                                    break;
                                case "aplus-channel":
                                    this._meta_info[e] = t;
                                    break;
                                case "aplus-inject-record-gokey":
                                    "function" == typeof t ? this._meta_info[e] = t : this.catchException("sorry, type of " + t + "  must be function!");
                                    break;
                                default:
                                    this.catchException("sorry, aplus do not support the metaKey of " + e)
                            }
                        },
                        appendMetaInfo: function (e, t) {
                            switch (e) {
                                case "aplus-exdata":
                                case "aplus-cpvdata":
                                    if ("object" == typeof t) {
                                        var n = this._meta_info[e];
                                        this._meta_info[e] = Object.assign(n, t)
                                    } else
                                        this.catchException("sorry, type of " + t + "  must be object!");
                                    break;
                                default:
                                    this.setMetaInfo(e, t)
                            }
                        },
                        getMetaInfo: function (e, t) {
                            var n = this._meta_info[e];
                            return "function" != typeof t ? n : void t(n)
                        },
                        catchException: function (e) {
                            try {
                                console && console.error(e)
                            } catch (e) { }
                        }
                    });
                e.exports = u
            }
            , function (e, t) {
                "use strict";
                function n() { }
                n.prototype.extend = function () { }
                    ,
                    n.prototype.create = function () { }
                    ,
                    n.extend = function (e) {
                        return this.prototype.extend.call(this, e)
                    }
                    ,
                    n.prototype.create = function (e) {
                        var t = new this;
                        for (var n in e)
                            t[n] = e[n];
                        return t
                    }
                    ,
                    n.prototype.extend = function (e) {
                        var t = function () { };
                        try {
                            for (var n in "function" != typeof Object.create && (Object.create = function (e) {
                                function t() { }
                                return t.prototype = e,
                                    new t
                            }
                            ),
                                t.prototype = Object.create(this.prototype),
                                e)
                                t.prototype[n] = e[n];
                            t.prototype.constructor = t,
                                t.extend = t.prototype.extend,
                                t.create = t.prototype.create
                        } catch (e) {
                            t = function () { }
                        }
                        return t
                    }
                    ,
                    e.exports = n
            }
            , function (e, t, n) {
                "use strict";
                var r = n(4).isWeex
                    , i = n(11)
                    , o = n(12).requireModule
                    , a = i.extend({
                        _ENV: "weex",
                        getUT: function () {
                            try {
                                var e = this.UserTrack || {};
                                "function" != typeof e.enterEvent && "function" != typeof e.commit && (e = o("userTrack") || n(!function () {
                                    var e = new Error('Cannot find module "@weex-module/userTrack"');
                                    throw e.code = "MODULE_NOT_FOUND",
                                    e
                                }())),
                                    this.UserTrack = e || {}
                            } catch (e) {
                                this.UserTrack = {}
                            }
                            return this.UserTrack
                        },
                        create: function (e) {
                            var t = new this;
                            for (var n in e)
                                t[n] = e[n];
                            return t.isThirdGroupAPI = function () {
                                var e = "undefined" != typeof __weex_options__ && __weex_options__.weex
                                    , t = !1;
                                if (r && "object" == typeof e && "windmill" === e.config.container)
                                    try {
                                        "function" == typeof o("keyboard").hideKeyboard && (t = !0)
                                    } catch (e) { }
                                return t
                            }(),
                                t.getUT(),
                                t
                        },
                        record: function (e, t, n) {
                            n = this.getUserInjectGokey({
                                logkey: e,
                                gmkey: t,
                                gokey: n
                            });
                            var r = this._getRecordParams(e, t, n)
                                , i = r.gmObj || {}
                                , o = this.getUT();
                            return this.isThirdGroupAPI ? (r.args.isThirdGroupAPI = "1",
                                o.commitut && o.commitut({
                                    type: i.name,
                                    eventId: i.id,
                                    eventid: i.id,
                                    name: r.pageName,
                                    pageName: r.pageName,
                                    arg1: r.arg1,
                                    arg2: r.arg2,
                                    arg3: r.arg3,
                                    param: r.args,
                                    params: r.args
                                })) : o.customAdvance ? o.customAdvance(r.pageName, i.id, r.arg1, r.arg2, r.arg3, r.args) : o.commitut && o.commitut(i.name, i.id, r.pageName, "", r.arg1, r.arg2, r.arg3, r.args),
                                !0
                        },
                        enter: function (e, t) {
                            var n = this.getUT();
                            e || (e = {}),
                                t || (t = {});
                            var r = this._getEnterParams(e, t)
                                , i = r.args || {};
                            return this.isThirdGroupAPI && n.commitut ? (i.isThirdGroupAPI = "1",
                                n.commitut({
                                    type: "enter",
                                    eventId: "-1",
                                    eventid: "-1",
                                    name: r.pageName,
                                    pageName: r.pageName,
                                    comName: i.url,
                                    arg1: "",
                                    arg2: "",
                                    arg3: "",
                                    param: i,
                                    params: i
                                })) : n.enterEvent ? n.enterEvent(r.pageName, i) : n.commit && n.commit("enter", r.pageName, i.url, i),
                                !0
                        },
                        updateNextPageProperties: function (e) {
                            var t = this.getUT();
                            "object" == typeof e && t.commitut && (this.isThirdGroupAPI ? t.commitut({
                                type: "updateNextProp",
                                eventId: -1,
                                eventid: -1,
                                name: "",
                                pageName: "",
                                comName: "",
                                arg1: "",
                                arg2: "",
                                arg3: "",
                                param: e,
                                params: e
                            }) : t.commitut("updateNextProp", -1, "", "", "", "", "", e))
                        },
                        updatePageUtparam: function (e) {
                            var t = this.getUT();
                            "object" == typeof e && t.updatePageUtparam && (this.isThirdGroupAPI ? t.updatePageUtparam({
                                utParamJson: JSON.stringify(e)
                            }) : t.updatePageUtparam(JSON.stringify(e)))
                        },
                        updateNextPageUtparam: function (e) {
                            var t = this.getUT();
                            "object" == typeof e && t.updateNextPageUtparam && (this.isThirdGroupAPI ? t.updateNextPageUtparam({
                                utParamJson: JSON.stringify(e)
                            }) : t.updateNextPageUtparam(JSON.stringify(e)))
                        },
                        skipPage: function () {
                            var e = this.getUT();
                            e.skipPage && e.skipPage()
                        },
                        pageAppear: function () {
                            var e = this.getUT();
                            e.pageAppear && this.isPageDisAppear && (this.isPageDisAppear = !1,
                                this.isPageAppear = !0,
                                e.pageAppear())
                        },
                        pageDisappear: function () {
                            var e = this.getUT();
                            e.pageDisAppear && this.isPageAppear && (this.isPageDisAppear = !0,
                                this.isPageAppear = !1,
                                e.pageDisAppear())
                        },
                        setExposureView: function (e, t, n) {
                            var r = this.getUT()
                                , i = !1;
                            return r && r.setExposureView && (r.setExposureView(e, t, n),
                                i = !0),
                                i
                        }
                    });
                e.exports = a
            }
            , function (e, t, n) {
                "use strict";
                var r = n(12).requireModule
                    , i = n(8)
                    , o = n(3)
                    , a = o.paramsToObj
                    , s = o.objToParams
                    , l = o.getParamFromURL
                    , u = o.simplifyURL
                    , c = o.getAplusUniversalVersion
                    , d = o.getLocation
                    , f = i.extend({
                        create: function (e) {
                            var t = new this;
                            for (var n in e)
                                t[n] = e[n];
                            try {
                                t.UserTrack = r("userTrack")
                            } catch (e) {
                                t.UserTrack = {}
                            }
                            return t._meta_info || (t._meta_info = {}),
                                t
                        },
                        setPageSPM: function (e, t, n) {
                            if (e && t) {
                                var r = [];
                                r.push(e),
                                    r.push(t),
                                    this.spmAB = r,
                                    this.pageName = ""
                            }
                            "function" == typeof n && n()
                        },
                        getPageSPM: function () {
                            return this.spmAB
                        },
                        _updateNextPageSpm: function (e) {
                            e && (this.spmPre = this.spmUrl,
                                this.spmUrl = e["spm-url"] || e.spmUrl)
                        },
                        getPageSPMStr: function (e, t) {
                            var n = this.spmAB.join(".");
                            if (!n || "0.0" === n)
                                try {
                                    if (console && console.warn) {
                                        var r = "object" == typeof t ? JSON.stringify(t) : "";
                                        console.warn("please setPageSPM before " + e + " about " + r)
                                    }
                                } catch (e) { }
                            return n
                        },
                        _getRecordParams: function (e, t, n) {
                            n || (n = "");
                            var r = this.getMetaInfo("aplus-exdata");
                            if (r)
                                if ("string" == typeof n) {
                                    var i = [];
                                    for (var l in r)
                                        i.push(l + "=" + r[l]);
                                    if (i.length > 0)
                                        n += (n ? "&" : "") + i.join("&")
                                } else
                                    "object" == typeof n && (n = Object.assign({}, r, n));
                            var f = d()
                                , p = "string" == typeof n ? a(n) : n
                                , g = p.url || f.currentpagename || f.href || ""
                                , m = o.getGmObj(t);
                            this.pageName || (this.pageName = p.pageName || f.currentpagename || u(g) || "");
                            var h = {
                                jsver: "aplus_universal",
                                lver: c(),
                                weex: "1",
                                functype: "ctrl",
                                funcId: m.id,
                                _toUT: "2",
                                logkey: e,
                                gokey: "string" == typeof n ? encodeURIComponent(n) : encodeURIComponent(s(n, !1)),
                                gmkey: m.alias,
                                urlpagename: this.pageName,
                                url: g
                            };
                            this.spmUrl && (h["spm-url"] = this.spmUrl),
                                this.spmPre && (h["spm-pre"] = this.spmPre);
                            var v = this.getPageSPMStr("record", h);
                            return v && "0.0" !== v && (h["spm-cnt"] = v + ".0.0"),
                            {
                                pageName: this.pageName,
                                gmObj: m,
                                arg1: e,
                                arg2: "",
                                arg3: "",
                                args: h
                            }
                        },
                        _getEnterParams: function (e, t) {
                            e || (e = {}),
                                t || (t = {});
                            var n = this.getMetaInfo("aplus-cpvdata");
                            n && (t = Object.assign({}, n, t));
                            var r = {
                                width: "0",
                                height: "0"
                            };
                            try {
                                r = screen
                            } catch (e) { }
                            try {
                                __windmill_environment__ && (r.width = __windmill_environment__.screenWidth,
                                    r.height = __windmill_environment__.screenHeight)
                            } catch (e) { }
                            var i = d();
                            t.url = e.pageUrl || i.currentpagename || i.href || "";
                            var o = (t = Object.assign(t, {
                                functype: "page",
                                funcId: "2001",
                                isonepage: e.isonepage ? 1 : -1,
                                scr: r.width + "x" + r.height,
                                jsver: "aplus_universal",
                                lver: c(),
                                weex: "1",
                                _toUT: "2"
                            })).scm || l(t.url, "scm") || "";
                            o && (t.scm = o);
                            var a = e.pageId ? "/" + e.pageId : ""
                                , s = this.getPageSPMStr("enter", t);
                            return s && "0.0" !== s && (t["spm-cnt"] = s + "" + a + ".0.0"),
                                this.spmUrl = e.spmUrl || e["spm-url"] || l(t.url, "spm") || this.spmUrl || "",
                                this.spmUrl && (t["spm-url"] = this.spmUrl),
                                this.spmPre = e.spmPre || e["spm-pre"] || l(e.referrer, "spm") || this.spmPre || "",
                                this.spmPre && (t["spm-pre"] = this.spmPre),
                                this.pageName = e.pageName || i.currentpagename || u(t.url) || "",
                            {
                                pageName: this.pageName,
                                args: t
                            }
                        }
                    });
                e.exports = f
            }
            , function (e, t, n) {
                "use strict";
                function r(e) {
                    return e && void 0 !== e
                }
                t.requireModule = function (e) {
                    var t;
                    try {
                        r(__weex_require__) && (t = __weex_require__(e))
                    } catch (e) {
                        t = null
                    }
                    if (!t)
                        try {
                            r(weex) && "function" == typeof weex.requireModule && (t = weex.requireModule(e))
                        } catch (e) {
                            t = null
                        }
                    if (!t)
                        try {
                            t = !function () {
                                var e = new Error('Cannot find module "@weex-module"');
                                throw e.code = "MODULE_NOT_FOUND",
                                e
                            }()
                        } catch (e) {
                            t = null
                        }
                    return t
                }
            }
            , function (e, t, n) {
                "use strict";
                var r = n(3)
                    , i = n(11)
                    , o = function (e, t) {
                        my && my.call && "function" == typeof t && my.call("handleLoggingAction", {
                            type: "behavior",
                            subType: e.subType
                        }, (function (n) {
                            t({
                                spmUrl: n[e.spmType]
                            })
                        }
                        ))
                    }
                    , a = i.extend({
                        _ENV: "windmill",
                        create: function (e) {
                            var t = new this;
                            for (var n in e)
                                t[n] = e[n];
                            return t
                        },
                        record: function (e, t, n, r) {
                            n = this.getUserInjectGokey({
                                logkey: e,
                                gmkey: t,
                                gokey: n
                            });
                            var i = this._getRecordParams(e, t, n);
                            delete i.args.weex,
                                i.args.windmill = "1";
                            var o = i.gmObj || {};
                            if (my) {
                                var a = {
                                    type: o.name,
                                    eventId: o.id,
                                    comName: i.arg1,
                                    arg1: i.arg1,
                                    arg2: i.arg2,
                                    arg3: i.arg3,
                                    param: i.args
                                };
                                i.pageName && (a.name = i.pageName,
                                    a.pageName = i.pageName),
                                    my.callUserTrack ? my.callUserTrack("customAdvance", a) : my.reportAnalytics && my.reportAnalytics("customAdvance", a)
                            }
                        },
                        enter: function (e, t) {
                            e || (e = {}),
                                t || (t = {});
                            var n = this._getEnterParams(e, t);
                            if (delete n.args.weex,
                                n.args.windmill = "1",
                                my) {
                                var r = {
                                    type: "enter",
                                    eventId: "2001",
                                    eventid: "-1",
                                    pageName: n.pageName,
                                    name: n.pageName,
                                    comName: n.args.url,
                                    arg1: n.arg1,
                                    arg2: n.arg2,
                                    arg3: n.arg3,
                                    param: n.args
                                };
                                my.callUserTrack ? my.callUserTrack("commitut", r) : my.reportAnalytics && my.reportAnalytics("enter", r)
                            }
                        },
                        updatePageProperties: function (e) {
                            "object" == typeof e && (r.isTriver() && my.reportAnalytics("updatePageProperties", e),
                                this.setMetaInfo("aplus-cpvdata", e))
                        },
                        updateNextPageProperties: function (e) {
                            if (e || (e = {}),
                                this._updateNextPageSpm(e),
                                my) {
                                var t = {
                                    type: "updateNextProp",
                                    eventId: -1,
                                    eventid: -1,
                                    name: "",
                                    pageName: "",
                                    comName: "",
                                    arg1: "",
                                    arg2: "",
                                    arg3: "",
                                    param: e,
                                    params: e
                                };
                                my.callUserTrack ? my.callUserTrack("commitut", t) : my.reportAnalytics && my.reportAnalytics("enter", t)
                            }
                        },
                        updatePageUtparam: function (e) {
                            e || (e = {}),
                                my && my.callUserTrack && my.callUserTrack("updatePageUtparam", {
                                    utParamJson: JSON.stringify(e)
                                })
                        },
                        updateNextPageUtparam: function (e) {
                            e || (e = {}),
                                my && my.callUserTrack && my.callUserTrack("updateNextPageUtparam", {
                                    utParamJson: JSON.stringify(e)
                                })
                        },
                        skipPage: function () {
                            my && my.callUserTrack && my.callUserTrack("skipPage")
                        },
                        pageAppear: function () {
                            my && my.callUserTrack && this.isPageDisAppear && (this.isPageDisAppear = !1,
                                this.isPageAppear = !0,
                                my.callUserTrack("pageAppear"))
                        },
                        pageDisappear: function () {
                            my && my.callUserTrack && this.isPageAppear && (this.isPageDisAppear = !0,
                                this.isPageAppear = !1,
                                my.callUserTrack("pageDisappear"))
                        },
                        updateSessionProperties: function (e) {
                            my && my.call && my.call("handleLoggingAction", {
                                type: "behavior",
                                subType: "updateSessionProperties",
                                extData: e
                            })
                        },
                        getPageSpmUrl: function (e) {
                            o({
                                subType: "getPageSpmUrl",
                                spmType: "spmUrl"
                            }, e)
                        },
                        getPageSpmPre: function (e) {
                            o({
                                subType: "getPageSpmPre",
                                spmType: "spmPre"
                            }, e)
                        }
                    });
                e.exports = a
            }
            , function (e, t, n) {
                "use strict";
                var r = n(3)
                    , i = n(15)
                    , o = "__ETAG__CNA__ID__"
                    , a = n(16)
                    , s = "EMPTY_CNA"
                    , l = a.extend({
                        aplus_queue: [],
                        CNA: "",
                        hasSyncCna: !1,
                        syncLaunchOptions: !1,
                        _ENV: "windmill_alipay",
                        _syncEtag: function (e) {
                            var t = this.method || "request"
                                , n = function (t) {
                                    var n = t && t.data ? t.data.cna : "";
                                    n ? e(n) : a()
                                }
                                , a = function () {
                                    var n = r.getEtagUrl("log.mmstat.com");
                                    n ? i.get(n, {
                                        dataType: "text",
                                        requestMethodName: t
                                    }, (function (t) {
                                        var n = "";
                                        try {
                                            if (!t.failure) {
                                                var i = (t ? t.data : "").split(";");
                                                if (i.length > 1)
                                                    n = (n = i[1].split("=")[1] || "").replace(/\"/g, ""),
                                                        r.getContext().setStorage({
                                                            key: o,
                                                            data: {
                                                                cna: n
                                                            }
                                                        })
                                            }
                                        } catch (e) { }
                                        n || (n = s),
                                            e(n)
                                    }
                                    )) : e(s)
                                }
                                , l = r.getContext();
                            l && l.getStorage && l.getStorage({
                                key: o,
                                success: function (e) {
                                    n(e)
                                },
                                fail: function (e) {
                                    n(e)
                                }
                            })
                        },
                        _addDetailParam: function (e) {
                            return e.itemId ? {
                                _p_typ: "pdp",
                                _p_item: e.itemId,
                                _p_ispdp: "1"
                            } : {}
                        },
                        _addSellerParam: function (e) {
                            return e.sellerId ? {
                                _p_typ: e.itemId ? "pdp" : "slr",
                                _p_slr: e.sellerId,
                                _p_isdpp: "1"
                            } : {}
                        },
                        tryAyncEtag: function () {
                            var e = this;
                            this.hasSyncCna && e.CNA !== s || (this.hasSyncCna = !0,
                                this._syncEtag((function (t) {
                                    e.CNA = t,
                                        t && e.publish("cnaReady", t)
                                }
                                )))
                        },
                        getLaunchOptionsSync: function () {
                            var e = this;
                            if (!e.syncLaunchOptions) {
                                e.syncLaunchOptions = !0;
                                var t = r.getContext();
                                if (t && t.getLaunchOptionsSync) {
                                    var n = t.getLaunchOptionsSync()
                                        , i = n && n.query || {};
                                    if (i.miniappDebugId) {
                                        var o = i.miniappDebugId.trim()
                                            , a = o.split("_")
                                            , s = {
                                                aplus_work_no: a.length > 2 ? a[1] : o,
                                                aplus_track_debug_id: o,
                                                aplus_flag: "aplus_test"
                                            };
                                        e.setMetaInfo("aplus-exdata", s),
                                            e.setMetaInfo("aplus-cpvdata", s)
                                    }
                                }
                            }
                        },
                        subscribeCna: function () {
                            var e = this;
                            this.subscribe("cnaReady", (function (t) {
                                if (t && e.aplus_queue && e.aplus_queue.length > 0)
                                    for (; e.aplus_queue.length > 0;) {
                                        e.aplus_queue.pop().call(e, t)
                                    }
                            }
                            ))
                        },
                        logQueue: function (e) {
                            "function" == typeof e && (this.CNA ? e(this.CNA !== s ? this.CNA : "") : this.aplus_queue.push(e))
                        },
                        record: function (e, t, n, o) {
                            var a = this;
                            a.getLaunchOptionsSync(),
                                n = this.getUserInjectGokey({
                                    logkey: e,
                                    gmkey: t,
                                    gokey: n
                                });
                            var s = a.method || "request"
                                , l = function (l) {
                                    var u = r.getGoldlogUrl(a._meta_info["aplus-rhost-g"])
                                        , c = a._getRecordParams(t, n, l);
                                    if (u && c) {
                                        0 !== e.indexOf("/vx") && (e = "/vx" + e),
                                            u += /^\//.test(e) ? e : "/" + e;
                                        var d = [];
                                        for (var f in c)
                                            d.push(f + "=" + c[f]);
                                        u = u + "?" + d.join("&"),
                                            i.get(u, {
                                                method: o,
                                                requestMethodName: s,
                                                data: c,
                                                _extInfo: a.getMetaInfo("aplus-request-extinfo")
                                            }, (function (e) { }
                                            ))
                                    }
                                };
                            a.tryAyncEtag(),
                                a.logQueue((function (e) {
                                    l(e)
                                }
                                ))
                        },
                        enter: function (e, t) {
                            this.getLaunchOptionsSync(),
                                e || (e = {}),
                                t || (t = {});
                            var n = this
                                , o = n.method || "request";
                            r.getPVLogUrl(n._meta_info["aplus-rhost-v"]) && (n.tryAyncEtag(),
                                n.logQueue((function (a) {
                                    t.cna = a,
                                        n._getEnterParams(e, t, (function (e) {
                                            var t = r.getPVLogUrl(n._meta_info["aplus-rhost-v"]);
                                            t && i.get(t + "?" + r.makeUrl(e), {
                                                requestMethodName: o,
                                                _extInfo: n.getMetaInfo("aplus-request-extinfo")
                                            }, (function (e) { }
                                            ))
                                        }
                                        ))
                                }
                                )))
                        },
                        updateNextPageProperties: function (e) {
                            e || (e = {}),
                                this._updateNextPageSpm(e)
                        }
                    });
                e.exports = l
            }
            , function (e, t, n) {
                "use strict";
                var r = n(3)
                    , i = "httpRequest"
                    , o = "request";
                t.get = function (e, t, n) {
                    var a = r.getContext() || {}
                        , s = t.requestMethodName || o
                        , l = a[s];
                    "function" != typeof l && s !== o && (l = a[s = o]),
                        "function" != typeof l && s !== i && (console && console.warn('方法"' + s + '"不存在!'),
                            l = a[s = i]);
                    var u, c, d = t && t.dataType ? t.dataType : "base64", f = t && t.timeout ? t.timeout : 3e3, p = t && t._extInfo ? t._extInfo : null, g = t.method || "GET";
                    if ("function" == typeof l) {
                        var m = {
                            url: e,
                            method: g,
                            dataType: d,
                            timeout: f,
                            success: function (e) {
                                u || (u = !0,
                                    n(e))
                            },
                            fail: function (t) {
                                console && console.warn('aplus日志请求"' + e + '"失败，原因：' + JSON.stringify(t)),
                                    u || (u = !0,
                                        n({
                                            failure: !0,
                                            data: t
                                        }))
                            }
                        };
                        "POST" === g && "object" == typeof t.data && (m.url = m.url.split("?")[0],
                            i === s ? (m.headers = {
                                "Content-Type": "application/json"
                            },
                                m.dataType = "json",
                                m.data = JSON.stringify(t.data)) : m.data = t.data),
                            p && (m._extInfo = p),
                            l(m)
                    } else
                        c = '方法"' + s + '"不存在!',
                            console && console.warn(c),
                            u || (u = !0,
                                n({
                                    failure: !0,
                                    data: c
                                }));
                    setTimeout((function () {
                        u || (u = !0,
                            c = 'aplus日志请求"' + e + '超时", 超时时长' + f + "ms",
                            console && console.warn(c),
                            n({
                                failure: !0,
                                data: c
                            }))
                    }
                    ), f)
                }
                    ,
                    t.sendBeacon = function (e, t) {
                        for (var n in t)
                            "cna" !== n && (t[n] = encodeURIComponent(t[n]));
                        return navigator.sendBeacon(e, JSON.stringify(t)),
                            e
                    }
            }
            , function (e, t, n) {
                "use strict";
                function r(e) {
                    var t = "";
                    try {
                        if (!(t = h[e ? e.app || e.appName : ""] || "")) {
                            var n = !1;
                            try {
                                n = !!dd
                            } catch (e) { }
                            var r = !1;
                            try {
                                r = !!swan
                            } catch (e) { }
                            var i = !1;
                            try {
                                i = !!ks
                            } catch (e) { }
                            var o = !1;
                            try {
                                o = !!tt
                            } catch (e) { }
                            var a = !1;
                            try {
                                a = !!wx
                            } catch (e) { }
                            var s = "";
                            try {
                                s = navigator ? navigator.userAgent || navigator.swuserAgent : ""
                            } catch (e) { }
                            if (!s)
                                try {
                                    s = clientInformation ? clientInformation.appVersion : ""
                                } catch (e) { }
                            n || /AliApp\(DingTalk/i.test(s) ? t = "dd" : r ? t = "swan" : o ? t = "tt" : i ? t = "ks" : a ? t = "wx" : /AliApp\(TB/i.test(s) ? t = "tb" : /AliApp\(AP/i.test(s) && (t = "my")
                        }
                    } catch (e) { }
                    return t
                }
                function i(e) {
                    var t = "";
                    return e && (t = {
                        iphone: "ios",
                        ipad: "ios",
                        ios: "ios",
                        android: "andr",
                        yunos: "yun",
                        wp: "wp",
                        linux: "linux",
                        unix: "unix",
                        macos: "mac",
                        windows: "win"
                    }[e.toLowerCase()] || ""),
                        t
                }
                function o() {
                    return function (e) {
                        function t(e) {
                            return 1 === e ? "0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60 * Math.random()), 1) : 2 === e ? "0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60 * Math.random()), 1) : "0"
                        }
                        for (var n, r = "", i = !1; r.length < e;)
                            n = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62 * Math.random()), 1),
                                !i && r.length <= 2 && ("g" === n.toLowerCase() || "l" === n.toLowerCase()) && (0 === r.length && "g" === n.toLowerCase() ? Math.random() < .5 && (n = t(1),
                                    i = !0) : 1 === r.length && "l" === n.toLowerCase() && "g" === r.charAt(0).toLowerCase() && (n = t(2),
                                        i = !0)),
                                r += n;
                        return r
                    }(14)
                }
                var a = n(8)
                    , s = n(3)
                    , l = s.paramsToObj
                    , u = s.objToParams
                    , c = s.getParamFromURL
                    , d = s.simplifyURL
                    , f = s.getAplusUniversalVersion
                    , p = s.getLocation
                    , g = s.getCurrentPage
                    , m = s.getAppInfo().appId
                    , h = {
                        alipay: "my",
                        TB: "tb",
                        Weixin: "wx",
                        Dingtalk: "dd",
                        ALIDATA: "alidata",
                        Toutiao: "tt",
                        SWAN: "swan"
                    }
                    , v = a.extend({
                        create: function (e) {
                            var t = new this;
                            for (var n in e)
                                t[n] = e[n];
                            try {
                                t._meta_info = Object.assign({
                                    "aplus-rhost-v": "log.mmstat.com",
                                    "aplus-rhost-g": "wgo.mmstat.com",
                                    "aplus-channel": "GET"
                                }, t._meta_info || {})
                            } catch (e) {
                                t._meta_info = {},
                                    console && console.log(e)
                            }
                            return t.subscribeCna(),
                                t
                        },
                        subscribeCna: function () { },
                        setPageSPM: function (e, t, n) {
                            if (e && t) {
                                var r = [];
                                r.push(e),
                                    r.push(t),
                                    this.spmAB = r,
                                    this.pageName = "",
                                    this.pageId = "",
                                    this.pvid = o()
                            }
                            "function" == typeof n && n()
                        },
                        _updateNextPageSpm: function (e) {
                            e && (this.spmPre = this.spmUrl,
                                this.spmUrl = e["spm-url"] || e.spmUrl)
                        },
                        getPageSPM: function () {
                            return this.spmAB
                        },
                        getPageSPMStr: function () {
                            return this.spmAB.join(".")
                        },
                        _getPageSpmInfo: function (e, t) {
                            this.pvid || (this.pvid = o()),
                                "enter" === e.from && (this.pageId = e.pageId ? "/" + e.pageId : "");
                            var n = this.getPageSPMStr();
                            if (!n || "0.0" === n)
                                try {
                                    if (console && console.warn) {
                                        var r = "object" == typeof t ? JSON.stringify(t) : "";
                                        console.warn("please setPageSPM before " + e.from + " about " + r)
                                    }
                                } catch (e) { }
                            return n + "" + (this.pageId || "") + ".0.0." + this.pvid
                        },
                        _getRecordParams: function (e, t, n) {
                            var r = p()
                                , i = g()
                                , o = this.getMetaInfo("aplus-exdata");
                            if (o)
                                if ("string" == typeof t) {
                                    var a = [];
                                    for (var d in o)
                                        a.push(d + "=" + o[d]);
                                    if (a.length > 0)
                                        t += (t ? "&" : "") + a.join("&")
                                } else
                                    "object" == typeof t && (t = Object.assign({}, o, t));
                            var h = "string" == typeof t ? l(t) : t;
                            "object" == typeof h && h || (h = {},
                                console && console.log("typeof gokey must be object or string"));
                            var v = h.url || r.currentpagename || r.href || "https://" + m + "_" + i.route || "";
                            this.spmUrl || (this.spmUrl = c(v, "spm") || ""),
                                this.spmPre || (this.spmPre = c(h.referrer, "spm") || "");
                            var y = s.getGmObj(e);
                            return (h = Object.assign({}, h, {
                                pc_i: h.pc_i || "",
                                ps_i: h.ps_i || "",
                                pu_i: h.pu_i || "",
                                _p_url: v,
                                _p_ref: h.pre || "",
                                "spm-url": this.spmUrl,
                                "spm-pre": this.spmPre,
                                jsver: "aplus_universal",
                                lver: f(),
                                windmill: "1",
                                cache: s.makeCacheNum(),
                                mini_app_id: m
                            }))._g_encode || (h._g_encode = "utf-8"),
                                h["spm-cnt"] = this._getPageSpmInfo({
                                    from: "record"
                                }, h),
                            {
                                logtype: "2",
                                cna: n,
                                gokey: encodeURIComponent(u(h, !1)),
                                gmkey: y.alias
                            }
                        },
                        _addDetailParam: function (e) {
                            return e.itemId ? {
                                _p_typ: "pdp",
                                _p_item: e.itemId,
                                _p_ispdp: "1"
                            } : {}
                        },
                        _initPageSpmParams: function (e, t) {
                            var n = e.spmUrl || e["spm-url"] || c(e.pageUrl, "spm") || this.spmUrl || ""
                                , r = e.spmPre || e["spm-pre"] || c(e.referrer, "spm") || this.spmPre || ""
                                , i = p()
                                , o = e.pageName || i.currentpagename || d(e.pageUrl) || ""
                                , a = g()
                                , s = e.pageUrl || "https://" + m + "_" + a.route || "";
                            this.spmUrl = n,
                                this.spmPre = r,
                                this.pageName = o,
                                this.pageUrl = s;
                            var l = {
                                pageName: o,
                                pageUrl: s,
                                spmUrl: n,
                                spmPre: r
                            };
                            return l.spmCnt = this._getPageSpmInfo({
                                from: "enter",
                                pageId: e.pageId
                            }, l),
                                l
                        },
                        _addSellerParam: function (e) {
                            return e.sellerId ? {
                                _p_typ: e.itemId ? "pdp" : "slr",
                                _p_slr: e.sellerId,
                                _p_isdpp: "1"
                            } : {}
                        },
                        _appendParamsIntoArray: function (e, t) {
                            return e && t && Object.keys(t).forEach((function (n) {
                                e.push([n, t[n]])
                            }
                            )),
                                e
                        },
                        _appendUserParams: function (e, t) {
                            return Object.keys(t).forEach((function (n) {
                                e.push([n, t[n]])
                            }
                            )),
                                e
                        },
                        _getSystemInfo: function (e) {
                            var t = this
                                , n = {}
                                , r = t.SYSTEM_INFO || {};
                            if (r && r.version)
                                e(t.SYSTEM_INFO);
                            else
                                try {
                                    s.getContext().getSystemInfo({
                                        complete: function (r) {
                                            r && r.version ? (t.SYSTEM_INFO = r,
                                                e(r)) : e(n)
                                        }
                                    })
                                } catch (t) {
                                    e(n)
                                }
                        },
                        _getEnterParams: function (e, t, n) {
                            e || (e = {}),
                                t || (t = {});
                            var o = this._initPageSpmParams(e, t)
                                , a = [["logtype", "1"], ["title", encodeURIComponent(o.pageName)], ["cna", t.cna || ""]]
                                , l = this;
                            l._getSystemInfo((function (u) {
                                var c = [["_p_url", o.pageUrl], ["_p_ref", e.referrer || ""], ["_p_os", i(u.platform) || ""], ["_p_scr", u.screenWidth + "x" + u.screenHeight], ["_p_pf", r(u)], ["spm-cnt", o.spmCnt], ["spm-url", o.spmUrl], ["spm-pre", o.spmPre], ["mini_app_id", m]];
                                c["spm-url"] && (l.spmUrl = c["spm-url"]),
                                    c["spm-pre"] && (l.spmPre = c["spm-pre"]);
                                var d = l.getMetaInfo("aplus-cpvdata");
                                if (d && "object" == typeof d && (c = l._appendParamsIntoArray(c, d)),
                                    c = l._appendParamsIntoArray(c, l._addDetailParam(t)),
                                    c = l._appendParamsIntoArray(c, l._addSellerParam(t)),
                                    c = l._appendUserParams(c, t),
                                    c = l._appendParamsIntoArray(c, {
                                        jsver: "aplus_universal",
                                        lver: f(),
                                        windmill: "1",
                                        cache: s.makeCacheNum()
                                    }),
                                    "function" == typeof n) {
                                    var p = {
                                        pageName: o.pageName,
                                        preParams: a,
                                        endParams: c
                                    };
                                    n(p)
                                }
                            }
                            ))
                        }
                    });
                e.exports = v
            }
            , function (e, t, n) {
                "use strict";
                function r(e, t) {
                    void 0 === e && (e = {}),
                        b("updatePageName", {
                            commonData: e,
                            pageName: t
                        }),
                        g({
                            type: x,
                            subType: "updatePageName",
                            commonData: e,
                            extData: {
                                pageName: t
                            }
                        })
                }
                function i(e, t, n) {
                    void 0 === e && (e = {}),
                        void 0 === t && (t = {}),
                        void 0 === n && (n = {});
                    var r = {
                        developerVersion: m.developerVersion,
                        miniappVtDebugId: m.miniappVtDebugId,
                        miniappVtEnv: m.miniappVtEnv,
                        miniappVtWsToken: m.miniappVtWsToken,
                        miniappVtAppId: m.miniappVtAppId,
                        hostAppName: m.hostAppName,
                        appVersion: m.appVersion,
                        appxUtdid: m.appxUtdid,
                        sourceType: m.sourceType
                    }
                        , i = p(p({}, r), t);
                    for (var o in n)
                        i[o] = n[o];
                    var a = m.scm || "";
                    return !i.scm && a && (i.scm = a),
                        i.pageName = t.pageName || t.name || e.appId + "_" + e.currentPagePath,
                        i.currentPagePath = t.pageUrl || e.currentPagePath,
                        i.jsver || (i.jsver = _),
                        i.lver || (i.lver = w),
                        i._lver = w,
                        i.windmill = "2",
                        i._p_seid = M,
                        i.mini_app_id = e.appId,
                        i.appxVersion = e.appxVersion || "",
                        i
                }
                function o(e, t) {
                    var n = !1;
                    g({
                        type: x,
                        subType: "spmPre" === e ? "getPageSpmPre" : "getPageSpmUrl"
                    }, (function (r) {
                        if (void 0 === r && (r = {}),
                            n = !0,
                            r && "success" === r.status) {
                            var i = {
                                status: r.status
                            };
                            i[e] = m.spm || r[e],
                                t(i)
                        } else
                            t(r)
                    }
                    )),
                        setTimeout((function () {
                            if (!n) {
                                var r = {
                                    status: "timeout"
                                };
                                r[e] = m.spm,
                                    t(r)
                            }
                        }
                        ), 300)
                }
                function a(e, t, n) {
                    void 0 === e && (e = {}),
                        void 0 === t && (t = {}),
                        void 0 === n && (n = {});
                    var r = i(e, t, n);
                    b("updatePageProperties", {
                        updatePageProperties: r
                    }),
                        g({
                            type: x,
                            subType: "updatePageProperties",
                            commonData: e,
                            extData: r
                        })
                }
                function s(e, t, n, r) {
                    if (void 0 === t && (t = {}),
                        void 0 === n && (n = {}),
                        e && n && (n.logkey || n.arg1)) {
                        var o = S[e] || ""
                            , a = n.eventId
                            , s = o || a
                            , l = void 0
                            , u = 19999;
                        try {
                            (l = parseInt(s)) + "" == "NaN" && (l = u)
                        } catch (e) {
                            l = u
                        }
                        -1 === [u, 2201, 2101, 2202].indexOf(l) && (l < 2900 || l > u) && (s = O);
                        var c = i(t, n, n.param ? n.param : null);
                        g({
                            type: x,
                            subType: "customAdvance",
                            commonData: t,
                            extData: {
                                eventId: s,
                                pageName: r,
                                arg1: n.logkey || n.arg1,
                                arg2: "",
                                arg3: "",
                                args: c
                            }
                        })
                    }
                }
                function l(e) {
                    if (void 0 === e && (e = []),
                        0 === I.length || JSON.stringify(e) !== JSON.stringify(I)) {
                        var t = [];
                        e.forEach((function (e) {
                            var n = k ? k.find((function (t) {
                                return t.viewId === e
                            }
                            )) : "";
                            t.push(n || {
                                viewId: e
                            })
                        }
                        )),
                            k = t,
                            I = e
                    }
                    return k
                }
                function u(e) {
                    void 0 === e && (e = {});
                    var t = {}
                        , n = e.param || {}
                        , r = e.pageName || e.name || n.pageName || n.name || ""
                        , i = e.activityId || n.activityId;
                    if (i && (r += "_" + i),
                        k.length > 0) {
                        if (t._spmCnt = k[k.length - 1]._appxUTSpm,
                            1 === k.length && E && (t._spmUrl = k[0] ? k[0]._appxUTSpmUrl : ""),
                            k.length >= 2) {
                            var o = k[k.length - 2] || {};
                            t._spmUrl = o._appxUTTapSpm || o._appxUTSpm || "",
                                2 === k.length && m.spm && (t._spmPre = m.spm)
                        }
                        if (k.length >= 3) {
                            var a = k[k.length - 3] || {};
                            t._spmPre = a._appxUTTapSpm || a._appxUTSpm || ""
                        }
                    }
                    return t.pageName = r,
                        t
                }
                function c(e) {
                    k[k.length - 1]._appxUTTapSpm = e
                }
                function d(e, t, n) {
                    void 0 === t && (t = {}),
                        void 0 === n && (n = {});
                    try {
                        for (var r in n)
                            T[r] = n[r];
                        C = JSON.stringify(T).length
                    } catch (e) { }
                    C > 1024 ? "object" == typeof console && console.log && console.log("updateSessionProperties max length is 1024!") : g({
                        type: x,
                        subType: e,
                        commonData: t,
                        extData: n
                    })
                }
                function f(e) {
                    void 0 === e && (e = {});
                    var t = e.commonData
                        , n = e.pageName
                        , r = e.pluginIds;
                    (void 0 === r ? [] : r).forEach((function (e) {
                        if (void 0 === e && (e = ""),
                            e) {
                            var r = i(t, {
                                pluginId: e
                            }, {});
                            g({
                                type: x,
                                subType: "customAdvance",
                                commonData: t,
                                extData: {
                                    eventId: "2201",
                                    pageName: n,
                                    arg1: "/miniapp_plugin_exp",
                                    arg2: "",
                                    arg3: "",
                                    args: r
                                }
                            })
                        }
                    }
                    ))
                }
                var p = this && this.__assign || function () {
                    return (p = Object.assign || function (e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                            for (var i in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e
                    }
                    ).apply(this, arguments)
                }
                    ;
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }),
                    t.AplusWindmillAppx = void 0;
                var g, m, h = n(18), v = h.default.getRandomId, y = h.default.isDebug, b = h.default.aplusDebugLog, _ = "aplus_universal", w = "appx_v1.1.5", x = "behavior", O = "19999", S = {
                    exposure: "2201",
                    expose: "2201",
                    EXP: "2201",
                    IMPEXP: "2202",
                    click: "2101",
                    CLK: "2101",
                    other: O,
                    OTHER: O
                }, M = v(16), P = 1, E = !0, k = [], I = [], C = 0, T = {};
                t.AplusWindmillAppx = function (e) {
                    return void 0 === e && (e = {}),
                        g = e.callHandleLoggingAction || e.bridgeSend,
                        m = e.startupParams,
                        function (e, t, n, i) {
                            void 0 === e && (e = ""),
                                void 0 === t && (t = {}),
                                void 0 === n && (n = {}),
                                void 0 === i && (i = "");
                            var p = n.extData || {};
                            l(n.pagesViewIds || []);
                            var h = ""
                                , v = t.currentPagePath;
                            v && (h = v.replace(/\//g, "_"));
                            var _ = p.param || {}
                                , w = p.activityId || _.activityId;
                            w && (h += "_" + w);
                            var O = e;
                            "commitut" === O && p && p.type && ("updateNextProp" === (O = p.type) && (O = "updateNextPageProperties"));
                            var S = p["spm-cnt"] || _["spm-cnt"] || ""
                                , M = p["spm-url"] || _["spm-url"] || ""
                                , I = p["spm-pre"] || _["spm-pre"] || ""
                                , C = "MiniApp_" + t.appId + "." + h + ".0.0"
                                , T = u(p)
                                , D = m.launchParams || {};
                            ["enter", "pageview", "updatePageProperties"].indexOf(O) > -1 && k.length > 0 && (p.spmId = C,
                                function (e, t, n) {
                                    var r = k.length
                                        , i = k[r - 1]._appxUTSpm;
                                    try {
                                        n && "string" == typeof n && (n = JSON.parse(n));
                                        var o = "object" == typeof n;
                                        (!o || o && "YES" !== n.customSpm) && (i && 0 !== i.indexOf("MiniApp_") || (k[r - 1]._appxUTSpm = e || t))
                                    } catch (n) {
                                        b("launchParams", {
                                            errorMsg: n
                                        }),
                                            i && 0 !== i.indexOf("MiniApp_") || (k[r - 1]._appxUTSpm = e || t)
                                    }
                                    var a = m.spm || "";
                                    E && a && (k[r - 1]._appxUTSpmUrl = a)
                                }(S, C, D),
                                T = u(p));
                            var j = T._spmCnt
                                , N = void 0 === j ? "" : j
                                , A = T._spmUrl
                                , R = void 0 === A ? "" : A
                                , L = T._spmPre
                                , B = void 0 === L ? "" : L
                                , U = T.pageName
                                , F = void 0 === U ? "" : U
                                , W = S || N || ""
                                , G = M || R || ""
                                , z = I || B || "";
                            switch (O) {
                                case "enter":
                                case "pageview":
                                    if ("pageview" === O && "YES" === D.customSpm)
                                        return;
                                    var V = F;
                                    !V && W && (V = t.appId + "_" + v),
                                        V && r(t, V);
                                    var H = {};
                                    for (var K in W && (H["spm-cnt"] = W),
                                        G && (H["spm-url"] = G),
                                        z && (H["spm-pre"] = z),
                                        p.param)
                                        H[K] = p.param[K];
                                    if (E && (H._p_entry_flag = P,
                                        E = !1),
                                        a(t, p, H),
                                        W || G) {
                                        var J = {};
                                        W && (J["spm-url"] = W),
                                            G && (J["spm-pre"] = G),
                                            b("updateNextPageProperties", J),
                                            g({
                                                type: x,
                                                subType: "updateNextPageProperties",
                                                commonData: t,
                                                extData: J
                                            })
                                    }
                                    var X = p.pluginId;
                                    X && f({
                                        subType: O,
                                        commonData: t,
                                        pageName: F,
                                        pluginIds: [X]
                                    });
                                    break;
                                case "updatePageName":
                                    r(t, F);
                                    break;
                                case "updatePageUrl":
                                    !function (e, t) {
                                        void 0 === e && (e = {}),
                                            void 0 === t && (t = {});
                                        var n = t.pageUrl || t.url || e.currentPagePath;
                                        g({
                                            type: x,
                                            subType: "updatePageUrl",
                                            commonData: e,
                                            extData: {
                                                pageUrl: n
                                            }
                                        })
                                    }(t, p);
                                    break;
                                case "updatePageProperties":
                                    var q = {};
                                    for (var K in W && (q["spm-cnt"] = W),
                                        G && (q["spm-url"] = G),
                                        z && (q["spm-pre"] = z),
                                        p.param)
                                        q[K] = p.param[K];
                                    if (a(t, p, q),
                                        W || G) {
                                        var Q = {};
                                        W && (Q["spm-url"] = W),
                                            G && (Q["spm-pre"] = G),
                                            g({
                                                type: x,
                                                subType: "updateNextPageProperties",
                                                commonData: t,
                                                extData: Q
                                            })
                                    }
                                    break;
                                case "updateNextPageProperties":
                                    var Y = p || {};
                                    p && p.params && (Y = p.params);
                                    var $ = {};
                                    for (var K in Y)
                                        $[K] = Y[K];
                                    Y["spm-url"] && ($["spm-url"] = Y["spm-url"],
                                        c(Y["spm-url"])),
                                        g({
                                            type: x,
                                            subType: O,
                                            commonData: t,
                                            extData: $
                                        });
                                    break;
                                case "updatePageUtparam":
                                case "updateNextPageUtparam":
                                    var Z = p || {};
                                    p && p.utParamJson && "string" == typeof p.utParamJson && (Z = JSON.parse(p.utParamJson)),
                                        g({
                                            type: x,
                                            subType: O,
                                            commonData: t,
                                            extData: Z
                                        });
                                    break;
                                case "skipPage":
                                case "pageAppear":
                                case "pageDisappear":
                                    g({
                                        type: x,
                                        subType: O,
                                        commonData: t,
                                        extData: {}
                                    });
                                    break;
                                case "customAdvance":
                                    p["spm-cnt"] = W,
                                        s(O, t, p, F);
                                    break;
                                case "aplusDebug":
                                    p && y(p.isDebug);
                                    break;
                                case "getPageSpmUrl":
                                    o("spmUrl", i);
                                    break;
                                case "getPageSpmPre":
                                    o("spmPre", i);
                                    break;
                                case "getPageAllProperties":
                                    !function (e) {
                                        var t = !1;
                                        g({
                                            type: x,
                                            subType: "getPageAllProperties"
                                        }, (function (n) {
                                            void 0 === n && (n = {}),
                                                !t && e(n),
                                                t = !0
                                        }
                                        )),
                                            setTimeout((function () {
                                                if (!t) {
                                                    t = !0;
                                                    e({
                                                        status: "timeout"
                                                    })
                                                }
                                            }
                                            ), 300)
                                    }(i);
                                    break;
                                case "updateSessionProperties":
                                    d(O, t, p);
                                    break;
                                case "pluginComponentView":
                                    var ee = p.pluginIds || [];
                                    ee.length > 0 && f({
                                        subType: O,
                                        commonData: t,
                                        pageName: F,
                                        pluginIds: ee
                                    });
                                    break;
                                case "click":
                                case "exposure":
                                case "other":
                                default:
                                    p["spm-cnt"] = W;
                                    var te = p.spmC || _.spmC || p.pluginId || _.pluginId || ""
                                        , ne = p.spmD || _.spmD || p.pointId || _.pointId || "";
                                    if (W && te && ne) {
                                        var re = W.split(".")
                                            , ie = [re[0], re[1], te, ne].join(".");
                                        c(ie),
                                            g({
                                                type: x,
                                                subType: "updateNextPageProperties",
                                                commonData: t,
                                                extData: {
                                                    "spm-url": ie
                                                }
                                            })
                                    }
                                    s(O, t, p, F)
                            }
                        }
                }
            }
            , function (e, t) {
                "use strict";
                function n(e) {
                    void 0 === e && (e = !1),
                        o = !!e
                }
                function r(e, t) {
                    try {
                        o && "object" == typeof console && console.log && (console.log("aplusDebugLog " + e + " start --- "),
                            console.log(JSON.stringify(t)),
                            console.log("--- end --- "))
                    } catch (e) { }
                }
                function i(e) {
                    function t(e) {
                        return 1 == e ? "0123456789abcdefhijklmnopqrstuvwxyzABCDEFHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(60 * Math.random()), 1) : 2 == e ? "0123456789abcdefghijkmnopqrstuvwxyzABCDEFGHIJKMNOPQRSTUVWXYZ".substr(Math.floor(60 * Math.random()), 1) : "0"
                    }
                    for (var n, r = "", i = !1; r.length < e;)
                        n = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".substr(Math.floor(62 * Math.random()), 1),
                            !i && r.length <= 2 && ("g" == n.toLowerCase() || "l" == n.toLowerCase()) && (0 === r.length && "g" == n.toLowerCase() ? Math.random() < .5 && (n = t(1),
                                i = !0) : 1 == r.length && "l" == n.toLowerCase() && "g" == r.charAt(0).toLowerCase() && (n = t(2),
                                    i = !0)),
                            r += n;
                    return r
                }
                Object.defineProperty(t, "__esModule", {
                    value: !0
                }),
                    t.getRandomId = t.aplusDebugLog = t.isDebug = void 0;
                var o = !1;
                t.isDebug = n,
                    t.aplusDebugLog = r,
                    t.getRandomId = i,
                    t.default = {
                        isDebug: n,
                        aplusDebugLog: r,
                        getRandomId: i
                    }
            }
        ])
    }
    , , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            n(123);
        var r = function () {
            function e(e) {
                return this.AUTO_REMOVE_TIME = 2e3,
                    this
            }
            return e.prototype.show = function (e, t) {
                var n = this;
                if (t = t || this.AUTO_REMOVE_TIME,
                    this.toast)
                    clearTimeout(this.removeTimeout),
                        this.toast.querySelector(".J_toastText").innerText = e;
                else {
                    var r = document.createElement("div");
                    r.className = "toast",
                        r.innerHTML = '<span class="J_toastText">' + e + "</span>",
                        document.body.appendChild(r),
                        this.toast = r
                }
                this.removeTimeout = setTimeout((function () {
                    n.remove()
                }
                ), t)
            }
                ,
                e.prototype.remove = function () {
                    this.toast && (this.toast.parentNode.removeChild(this.toast),
                        this.toast = null)
                }
                ,
                e
        }();
        t.default = new r
    }
    , , function (e, t, n) {
        "use strict";
        var r, i = function () {
            return void 0 === r && (r = Boolean(window && document && document.all && !window.atob)),
                r
        }, o = function () {
            var e = {};
            return function (t) {
                if (void 0 === e[t]) {
                    var n = document.querySelector(t);
                    if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement)
                        try {
                            n = n.contentDocument.head
                        } catch (e) {
                            n = null
                        }
                    e[t] = n
                }
                return e[t]
            }
        }(), a = [];
        function s(e) {
            for (var t = -1, n = 0; n < a.length; n++)
                if (a[n].identifier === e) {
                    t = n;
                    break
                }
            return t
        }
        function l(e, t) {
            for (var n = {}, r = [], i = 0; i < e.length; i++) {
                var o = e[i]
                    , l = t.base ? o[0] + t.base : o[0]
                    , u = n[l] || 0
                    , c = "".concat(l, " ").concat(u);
                n[l] = u + 1;
                var d = s(c)
                    , f = {
                        css: o[1],
                        media: o[2],
                        sourceMap: o[3]
                    };
                -1 !== d ? (a[d].references++,
                    a[d].updater(f)) : a.push({
                        identifier: c,
                        updater: h(f, t),
                        references: 1
                    }),
                    r.push(c)
            }
            return r
        }
        function u(e) {
            var t = document.createElement("style")
                , r = e.attributes || {};
            if (void 0 === r.nonce) {
                var i = n.nc;
                i && (r.nonce = i)
            }
            if (Object.keys(r).forEach((function (e) {
                t.setAttribute(e, r[e])
            }
            )),
                "function" == typeof e.insert)
                e.insert(t);
            else {
                var a = o(e.insert || "head");
                if (!a)
                    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                a.appendChild(t)
            }
            return t
        }
        var c, d = (c = [],
            function (e, t) {
                return c[e] = t,
                    c.filter(Boolean).join("\n")
            }
        );
        function f(e, t, n, r) {
            var i = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css;
            if (e.styleSheet)
                e.styleSheet.cssText = d(t, i);
            else {
                var o = document.createTextNode(i)
                    , a = e.childNodes;
                a[t] && e.removeChild(a[t]),
                    a.length ? e.insertBefore(o, a[t]) : e.appendChild(o)
            }
        }
        function p(e, t, n) {
            var r = n.css
                , i = n.media
                , o = n.sourceMap;
            if (i ? e.setAttribute("media", i) : e.removeAttribute("media"),
                o && "undefined" != typeof btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o)))), " */")),
                e.styleSheet)
                e.styleSheet.cssText = r;
            else {
                for (; e.firstChild;)
                    e.removeChild(e.firstChild);
                e.appendChild(document.createTextNode(r))
            }
        }
        var g = null
            , m = 0;
        function h(e, t) {
            var n, r, i;
            if (t.singleton) {
                var o = m++;
                n = g || (g = u(t)),
                    r = f.bind(null, n, o, !1),
                    i = f.bind(null, n, o, !0)
            } else
                n = u(t),
                    r = p.bind(null, n, t),
                    i = function () {
                        !function (e) {
                            if (null === e.parentNode)
                                return !1;
                            e.parentNode.removeChild(e)
                        }(n)
                    }
                    ;
            return r(e),
                function (t) {
                    if (t) {
                        if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                            return;
                        r(e = t)
                    } else
                        i()
                }
        }
        e.exports = function (e, t) {
            (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = i());
            var n = l(e = e || [], t);
            return function (e) {
                if (e = e || [],
                    "[object Array]" === Object.prototype.toString.call(e)) {
                    for (var r = 0; r < n.length; r++) {
                        var i = s(n[r]);
                        a[i].references--
                    }
                    for (var o = l(e, t), u = 0; u < n.length; u++) {
                        var c = s(n[u]);
                        0 === a[c].references && (a[c].updater(),
                            a.splice(c, 1))
                    }
                    n = o
                }
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            var t = [];
            return t.toString = function () {
                return this.map((function (t) {
                    var n = function (e, t) {
                        var n = e[1] || ""
                            , r = e[3];
                        if (!r)
                            return n;
                        if (t && "function" == typeof btoa) {
                            var i = (a = r,
                                s = btoa(unescape(encodeURIComponent(JSON.stringify(a)))),
                                l = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),
                                "/*# ".concat(l, " */"))
                                , o = r.sources.map((function (e) {
                                    return "/*# sourceURL=".concat(r.sourceRoot || "").concat(e, " */")
                                }
                                ));
                            return [n].concat(o).concat([i]).join("\n")
                        }
                        var a, s, l;
                        return [n].join("\n")
                    }(t, e);
                    return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n
                }
                )).join("")
            }
                ,
                t.i = function (e, n, r) {
                    "string" == typeof e && (e = [[null, e, ""]]);
                    var i = {};
                    if (r)
                        for (var o = 0; o < this.length; o++) {
                            var a = this[o][0];
                            null != a && (i[a] = !0)
                        }
                    for (var s = 0; s < e.length; s++) {
                        var l = [].concat(e[s]);
                        r && i[l[0]] || (n && (l[2] ? l[2] = "".concat(n, " and ").concat(l[2]) : l[2] = n),
                            t.push(l))
                    }
                }
                ,
                t
        }
    }
    , function (e, t, n) {
        var r;
        window,
            r = function (e, t) {
                return function (e) {
                    var t = {};
                    function n(r) {
                        if (t[r])
                            return t[r].exports;
                        var i = t[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, n),
                            i.l = !0,
                            i.exports
                    }
                    return n.m = e,
                        n.c = t,
                        n.d = function (e, t, r) {
                            n.o(e, t) || Object.defineProperty(e, t, {
                                enumerable: !0,
                                get: r
                            })
                        }
                        ,
                        n.r = function (e) {
                            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                                value: "Module"
                            }),
                                Object.defineProperty(e, "__esModule", {
                                    value: !0
                                })
                        }
                        ,
                        n.t = function (e, t) {
                            if (1 & t && (e = n(e)),
                                8 & t)
                                return e;
                            if (4 & t && "object" == typeof e && e && e.__esModule)
                                return e;
                            var r = Object.create(null);
                            if (n.r(r),
                                Object.defineProperty(r, "default", {
                                    enumerable: !0,
                                    value: e
                                }),
                                2 & t && "string" != typeof e)
                                for (var i in e)
                                    n.d(r, i, function (t) {
                                        return e[t]
                                    }
                                        .bind(null, i));
                            return r
                        }
                        ,
                        n.n = function (e) {
                            var t = e && e.__esModule ? function () {
                                return e.default
                            }
                                : function () {
                                    return e
                                }
                                ;
                            return n.d(t, "a", t),
                                t
                        }
                        ,
                        n.o = function (e, t) {
                            return Object.prototype.hasOwnProperty.call(e, t)
                        }
                        ,
                        n.p = "/dist/",
                        n(n.s = 24)
                }([function (e, t) {
                    e.exports = function (e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                        ,
                        e.exports.default = e.exports,
                        e.exports.__esModule = !0
                }
                    , function (e, t) {
                        function n(t) {
                            return "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? (e.exports = n = function (e) {
                                return typeof e
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0) : (e.exports = n = function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                                    ,
                                    e.exports.default = e.exports,
                                    e.exports.__esModule = !0),
                                n(t)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.trimAllBlankString = t.toNumber = t.sendRateLog = t.sendLog = t.numTrunc = t.noop = t.matchRegexp = t.mapValue = t.log = t.isString = t.isPlainObject = t.isNumberLike = t.isEqual = t.isEmpty = t.includes = t.getUniqueId = t.env = t.deepGet = t.compareComplierVersion = t.compactArray = t.addScript = void 0;
                        var i = r(n(8))
                            , o = r(n(1))
                            , a = r(n(12))
                            , s = r(n(3))
                            , l = r(n(4))
                            , u = r(n(19))
                            , c = n(5);
                        function d(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function f(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? d(Object(n), !0).forEach((function (t) {
                                    (0,
                                        i.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        (0,
                            l.default)("global-config");
                        var p = /\[(\d+)\]/g
                            , g = /^[_$]/
                            , m = {}
                            , h = [c.ERROR_VIEW_404, c.ERROR_PARSER_404]
                            , v = {
                                isIOS: /iPhone|iPad/.test(window.navigator.userAgent),
                                devicePixelRatio: window.devicePixelRatio || 1,
                                deviceWidth: Math.min(768, window.innerWidth, window.screen.width)
                            };
                        t.env = v;
                        var y = function () { };
                        t.noop = y,
                            t.numTrunc = function (e) {
                                if (e = parseFloat(e),
                                    isNaN(e))
                                    return NaN;
                                var t = "".concat(e + .4).split(".")
                                    , n = (0,
                                        s.default)(t, 1)[0];
                                return isNaN(n) ? NaN : n
                            }
                            ,
                            t.deepGet = function (e, t) {
                                return t ? [e].concat((0,
                                    a.default)(t.replace(p, (function (e, t) {
                                        return ".".concat(t)
                                    }
                                    )).split("."))).reduce((function (e, t) {
                                        return "string" == typeof e ? null : e && e[t]
                                    }
                                    )) : null
                            }
                            ;
                        var b = {
                            warn: function () {
                                for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++)
                                    n[r] = arguments[r];
                                return (e = console).warn.apply(e, ["[DinamicX warn]: "].concat(n))
                            },
                            error: function (e, t) {
                                var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
                                if (t && ~h.indexOf(t.type)) {
                                    var r = t.parser || t.viewName;
                                    if (m[r])
                                        return;
                                    m[r] = !0
                                }
                                if (console.error("[DinamicX error]: ", e, t || ""),
                                    u.default.report(e, t),
                                    n)
                                    throw e
                            }
                        };
                        t.log = b,
                            t.includes = function (e, t) {
                                return -1 !== e.indexOf(t)
                            }
                            ,
                            t.trimAllBlankString = function (e) {
                                return e.replace(/\s/g, "")
                            }
                            ,
                            t.compactArray = function (e) {
                                var t = [];
                                return e.forEach((function (e) {
                                    return e && t.push(e)
                                }
                                )),
                                    t
                            }
                            ,
                            t.isEmpty = function (e) {
                                return "object" === (0,
                                    o.default)(e) ? !(!Array.isArray(e) || 0 !== e.length) || !(!x(e) || 0 !== Object.keys(e).length) : !e
                            }
                            ,
                            t.isEqual = function e(t, n) {
                                if (t == n)
                                    return !0;
                                if (t && n && (0,
                                    o.default)(t) === (0,
                                        o.default)(n) && "object" === (0,
                                            o.default)(t)) {
                                    var r = Object.keys(t)
                                        , i = Object.keys(n)
                                        , a = r.length;
                                    if (a !== i.length)
                                        return !1;
                                    for (var s = 0; s < a; s++) {
                                        var l = r[s];
                                        if (!g.test(l) && !e(t[l], n[l]))
                                            return !1
                                    }
                                    return !0
                                }
                                return !1
                            }
                            ,
                            t.mapValue = function (e, t) {
                                var n = {};
                                for (var r in e)
                                    n[r] = t(e[r], r, e);
                                return n
                            }
                            ;
                        var _, w = (_ = (0,
                            l.default)("id"),
                            function (e) {
                                var t = ~~_.get(e);
                                return _.set(e, ++t),
                                    "".concat(e, "_").concat(t)
                            }
                        );
                        t.getUniqueId = w,
                            t.matchRegexp = function (e, t) {
                                if (e) {
                                    if (t.global) {
                                        for (var n = [], r = t.exec(e); null !== r;)
                                            n.push(r && r.slice(1)),
                                                r = t.exec(e);
                                        return n
                                    }
                                    var i = t.exec(e);
                                    return i ? i.slice(1) : []
                                }
                            }
                            ;
                        var x = function (e) {
                            return "object" === (0,
                                o.default)(e) && e.constructor === Object
                        };
                        t.isPlainObject = x,
                            t.isString = function (e) {
                                return "string" == typeof e
                            }
                            ,
                            t.compareComplierVersion = function (e, t) {
                                var n = 0;
                                for (var r in e.split(".")) {
                                    var i = e[r]
                                        , o = t[r];
                                    if (i !== o) {
                                        if (i < o) {
                                            n = -1;
                                            break
                                        }
                                        n = 1;
                                        break
                                    }
                                }
                                return n
                            }
                            ,
                            t.addScript = function (e) {
                                if (e) {
                                    var t = document.createElement("script");
                                    return t.src = e,
                                        t.charset = "UTF-8",
                                        new Promise((function (e, n) {
                                            t.onload = function () {
                                                e();
                                                try {
                                                    document.body.removeChild(t)
                                                } catch (e) { }
                                            }
                                                ,
                                                t.onerror = function (e) {
                                                    n("Get script fail");
                                                    try {
                                                        document.body.removeChild(t)
                                                    } catch (e) { }
                                                }
                                                ,
                                                document.body.appendChild(t)
                                        }
                                        ))
                                }
                            }
                            ;
                        var O = u.default.log;
                        t.sendLog = O,
                            t.sendRateLog = function (e) {
                                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                                    , n = arguments.length > 2 ? arguments[2] : void 0
                                    , r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {};
                                u.default.log(e, n, f({
                                    success: t,
                                    type: "api"
                                }, r))
                            }
                            ,
                            t.isNumberLike = function (e) {
                                return Number.isFinite(parseFloat(e, 10))
                            }
                            ,
                            t.toNumber = function (e) {
                                return parseFloat(e, 10)
                            }
                    }
                    , function (e, t, n) {
                        var r = n(15)
                            , i = n(31)
                            , o = n(11)
                            , a = n(17);
                        e.exports = function (e, t) {
                            return r(e) || i(e, t) || o(e, t) || a()
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var i = r(n(6))
                            , o = r(n(7))
                            , a = {}
                            , s = function () {
                                function e(t) {
                                    (0,
                                        i.default)(this, e),
                                        this.cache = {}
                                }
                                return (0,
                                    o.default)(e, [{
                                        key: "set",
                                        value: function (e, t) {
                                            return this.cache[e] = t,
                                                this
                                        }
                                    }, {
                                        key: "get",
                                        value: function (e) {
                                            return this.cache[e]
                                        }
                                    }, {
                                        key: "getAll",
                                        value: function () {
                                            return this.cache
                                        }
                                    }]),
                                    e
                            }();
                        t.default = function (e) {
                            return a[e] || (a[e] = new s(e))
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.ERROR_VIEW_404 = t.ERROR_TEMPLATE_URL_PROCESS = t.ERROR_TEMPLATE_RENDER = t.ERROR_TEMPLATE_DOWNLOAD = t.ERROR_TEMPLATE_CONTENT = t.ERROR_STORAGE_LS_SET_MAP = t.ERROR_STORAGE_LS_GET_MAP = t.ERROR_STORAGE_IDB_SET_MAP = t.ERROR_STORAGE_IDB_GET_MAP = t.ERROR_PARSER_404 = t.ERROR_DATA_PARSER_PARSE = t.ERROR_DATA_PARSER_GEN_AST = void 0,
                            t.ERROR_TEMPLATE_RENDER = "template-render",
                            t.ERROR_TEMPLATE_DOWNLOAD = "template-download",
                            t.ERROR_TEMPLATE_CONTENT = "template-content",
                            t.ERROR_TEMPLATE_URL_PROCESS = "template-url-process",
                            t.ERROR_DATA_PARSER_GEN_AST = "data-parser-gen-ast",
                            t.ERROR_DATA_PARSER_PARSE = "data-parser-parse",
                            t.ERROR_STORAGE_IDB_GET_MAP = "storage-idb-get-map",
                            t.ERROR_STORAGE_IDB_SET_MAP = "storage-idb-set-map",
                            t.ERROR_STORAGE_LS_GET_MAP = "storage-ls-get-map",
                            t.ERROR_STORAGE_LS_SET_MAP = "storage-ls-set-map",
                            t.ERROR_VIEW_404 = "view-404",
                            t.ERROR_PARSER_404 = "parser-404"
                    }
                    , function (e, t) {
                        e.exports = function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError("Cannot call a class as a function")
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        function n(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                    "value" in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        e.exports = function (e, t, r) {
                            return t && n(e.prototype, t),
                                r && n(e, r),
                                e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function (e, t, n) {
                            return t in e ? Object.defineProperty(e, t, {
                                value: n,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }) : e[t] = n,
                                e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.eventHandlerParser = t.dataParser = t.colorParser = void 0,
                            Object.defineProperty(t, "getDataParser", {
                                enumerable: !0,
                                get: function () {
                                    return c.getDataParser
                                }
                            }),
                            Object.defineProperty(t, "registerDataParser", {
                                enumerable: !0,
                                get: function () {
                                    return c.registerDataParser
                                }
                            }),
                            t.unitParser = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = p(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , l = r(n(36))
                            , u = r(n(39))
                            , c = n(14)
                            , d = n(23)
                            , f = n(5);
                        function p(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (p = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var g = /^([a-zA-Z]\w*?)\s*\((.*?)\)$/
                            , m = /^([\-\d\.]+)(np|ap)?$/g
                            , h = /^#(?:\w{4}|\w{8})$/
                            , v = (0,
                                a.default)("data")
                            , y = function (e, t) {
                                if (e)
                                    switch (e[0]) {
                                        case "@":
                                            return (0,
                                                u.default)(e, t);
                                        case "$":
                                            return (0,
                                                l.default)(e, t)
                                    }
                                return e
                            };
                        t.dataParser = y,
                            t.eventHandlerParser = function (e, t) {
                                var n = e && "@" === e[0] ? "v2" : "v1"
                                    , r = v.get(t._tplId);
                                return {
                                    pattern: e,
                                    options: t,
                                    handler: function (i) {
                                        if (t.event = i,
                                            "v1" === n) {
                                            var a = s.matchRegexp(e, g);
                                            if (a) {
                                                var l = (0,
                                                    o.default)(a, 2)
                                                    , u = l[0]
                                                    , c = l[1]
                                                    , p = (0,
                                                        d.getEventHandler)(u);
                                                if (p) {
                                                    var m = s.compactArray(s.trimAllBlankString(c).split(",").map((function (e) {
                                                        return y(e, t)
                                                    }
                                                    )));
                                                    if (!Array.isArray(p))
                                                        return p.call(null, m, r, t);
                                                    p.map((function (e) {
                                                        e.call(null, m, r, t)
                                                    }
                                                    ))
                                                } else
                                                    s.log.error("Can't find the given event handler [".concat(u, "], make sure you register it before use"), {
                                                        type: f.ERROR_PARSER_404,
                                                        templateName: t._tplName
                                                    })
                                            }
                                        } else if ("v2" === n)
                                            return y(e, t)
                                    }
                                }
                            }
                            ,
                            t.colorParser = function (e) {
                                if (h.test(e)) {
                                    for (var t = [], n = 9 === e.length ? 2 : 1, r = 1; r < e.length; r += n) {
                                        var i = ~~"0x".concat(e.slice(r, r + n));
                                        t.push(16 * i * (2 / n - 1) + i)
                                    }
                                    return t.push(t.shift() / 255),
                                        "rgba(".concat(t.join(), ")")
                                }
                                return e
                            }
                            ,
                            t.unitParser = function (e) {
                                var t = s.env
                                    , n = t.deviceWidth
                                    , r = t.devicePixelRatio
                                    , i = t.isIOS;
                                return isNaN(e) || (e += "ap"),
                                    "string" == typeof e ? e.replace(m, (function (e, t, o) {
                                        if ((t = Number(t)) > 0) {
                                            switch (o) {
                                                case "np":
                                                    break;
                                                case "ap":
                                                default:
                                                    t = t / 375 * n
                                            }
                                            t = t < 1 ? t > .5 || 1 === r || !i ? 1 : .5 : s.numTrunc(t)
                                        }
                                        return "".concat(t, "px")
                                    }
                                    )) : e || 0
                            }
                    }
                    , function (t, n) {
                        t.exports = e
                    }
                    , function (e, t, n) {
                        var r = n(16);
                        e.exports = function (e, t) {
                            if (e) {
                                if ("string" == typeof e)
                                    return r(e, t);
                                var n = Object.prototype.toString.call(e).slice(8, -1);
                                return "Object" === n && e.constructor && (n = e.constructor.name),
                                    "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? r(e, t) : void 0
                            }
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        var r = n(32)
                            , i = n(18)
                            , o = n(11)
                            , a = n(33);
                        e.exports = function (e) {
                            return r(e) || i(e) || o(e) || a()
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.setTplCache = t.setGlobalConfig = t.getTplCache = t.getGlobalConfig = void 0;
                        var r = {
                            shouldSplitLayoutTask: !0,
                            shouldExecLinearLayoutHack: !0,
                            forcePcMode: !1,
                            disableEventBinding: !1,
                            forceOriginalImg: !1,
                            enableLazyload: !1,
                            autotestMode: !1,
                            disableTplCache: !1,
                            disableCharBreak: !1
                        };
                        t.setGlobalConfig = function (e, t) {
                            ("enableLazyload" !== e || "IntersectionObserver" in window && "IntersectionObserverEntry" in window && "intersectionRatio" in window.IntersectionObserverEntry.prototype) && (r[e] = t)
                        }
                            ,
                            t.getGlobalConfig = function (e) {
                                return r[e]
                            }
                            ;
                        var i = {};
                        t.setTplCache = function (e, t) {
                            i[e] && console.warn("Rewrite tpl cache [".concat(e, "]")),
                                i[e] = t
                        }
                            ,
                            t.getTplCache = function (e) {
                                var t = i[e];
                                if (t && "string" == typeof t)
                                    try {
                                        t = JSON.parse(t)
                                    } catch (e) {
                                        console.warn(e)
                                    }
                                return t
                            }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.registerDataParser = t.getDataParser = void 0;
                        var i = r(n(37))
                            , o = {};
                        t.registerDataParser = function (e, t) {
                            o[e] = t
                        }
                            ,
                            t.getDataParser = function (e) {
                                return o[e] || i.default[e]
                            }
                    }
                    , function (e, t) {
                        e.exports = function (e) {
                            if (Array.isArray(e))
                                return e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function (e, t) {
                            (null == t || t > e.length) && (t = e.length);
                            for (var n = 0, r = new Array(t); n < t; n++)
                                r[n] = e[n];
                            return r
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function () {
                            throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function (e) {
                            if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                                return Array.from(e)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(8))
                            , a = r(n(6))
                            , s = r(n(7))
                            , l = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = u(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function u(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (u = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function c(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function d(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? c(Object(n), !0).forEach((function (t) {
                                    (0,
                                        o.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : c(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        var f = new (function () {
                            function e() {
                                (0,
                                    a.default)(this, e),
                                    this.errorCallback = [],
                                    this.defaultReport = !0,
                                    this.extraInfo = "",
                                    window.JSTracker2 && (this.jsTracker = new JSTracker2.constructor({}))
                            }
                            return (0,
                                s.default)(e, [{
                                    key: "config",
                                    value: function (e) {
                                        var t = e.extraInfo
                                            , n = void 0 === t ? "" : t
                                            , r = e.defaultReport
                                            , i = void 0 === r || r;
                                        if ("string" != typeof n)
                                            return l.log.error("extraInfo must be string!");
                                        this.extraInfo = n,
                                            this.defaultReport = i
                                    }
                                }, {
                                    key: "report",
                                    value: function (e) {
                                        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                        if (this.defaultReport && this.jsTracker) {
                                            var n = t && t.type || "default"
                                                , r = ("dinamicx/".concat(n),
                                                    d(d({}, t), {}, {
                                                        error: e && e.message || e,
                                                        extraInfo: ""
                                                    }))
                                                , i = "/dinamicx/".concat(n);
                                            try {
                                                i = "".concat(location.origin).concat(location.pathname).concat(i)
                                            } catch (e) {
                                                console.error(e)
                                            }
                                            this.jsTracker.push({
                                                type: "error",
                                                url: i,
                                                sampling: 1,
                                                message: JSON.stringify(r),
                                                stack: e && e.stack
                                            })
                                        }
                                        this.errorCallback.forEach((function (e) {
                                            e(info)
                                        }
                                        ))
                                    }
                                }, {
                                    key: "log",
                                    value: function (e, t) {
                                        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                                        l.log.warn("send log - [".concat(e, "]"), t, n),
                                            this.defaultReport && this.jsTracker && this.jsTracker.push(d({
                                                module: e,
                                                msg: JSON.stringify(t),
                                                sampling: 100
                                            }, n))
                                    }
                                }, {
                                    key: "addErrorListener",
                                    value: function (e) {
                                        if ("function" != typeof e)
                                            return l.log.error("callback must be function!");
                                        this.errorCallback.push(e)
                                    }
                                }]),
                                e
                        }());
                        t.default = f
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.initLocalStorage = t.initIndexedDB = t.default = t.STORAGE_TEMPLATE = void 0;
                        var o = r(n(6))
                            , a = r(n(7))
                            , s = r(n(8))
                            , l = r(n(3))
                            , u = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = p(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , c = n(21)
                            , d = n(5)
                            , f = n(13);
                        function p(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (p = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function g(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        var m, h, v = function () {
                            return m.getTemplateMap().then((function (e) {
                                return Object.assign(b, e)
                            }
                            ))
                        }, y = function () {
                            m = n(34).default,
                                h = v()
                        };
                        t.initLocalStorage = y,
                            t.initIndexedDB = function () {
                                (0,
                                    c.isIndexedDBValid)() ? (m = n(35).default,
                                        h = v()) : u.log.warn("当前设备不支持 indexedDB")
                            }
                            ,
                            y();
                        var b = {};
                        t.STORAGE_TEMPLATE = b;
                        var _ = /rapid-oss-bucket\/?(publish|debug|preview)?\/(\d+)\/(.*?)\.(?:js|zip)/
                            , w = /dinamicx.alibabausercontent.com\/?(.*)?\/.*?\/(\d+)\/(.*?)\.(?:js|zip)/
                            , x = /\/(?:v-)?(\d+)\/(.*?)_(h5|ios|android)\.(?:plist|js|xml)/
                            , O = /\ultronage.*\/dinamicx\/(.*?)\/(\d+)\/(h5|ios|android).*/i
                            , S = window.d_tpl = window.d_tpl || {};
                        function M(e) {
                            var t = _.exec(e)
                                , n = w.exec(e)
                                , r = O.exec(e);
                            if (t)
                                var i = (0,
                                    l.default)(t, 4)
                                    , o = i[1]
                                    , a = void 0 === o ? "" : o
                                    , s = i[2]
                                    , c = i[3]
                                    , d = "h5_3+";
                            else if (n) {
                                var f = (0,
                                    l.default)(n, 4)
                                    , p = f[1]
                                    , g = (a = void 0 === p ? "" : p,
                                        s = f[2],
                                        d = "h5_4+",
                                        c = f[3]);
                                c = c.replace(/_h5$/, "")
                            } else if (r) {
                                var m = (0,
                                    l.default)(r, 3);
                                c = m[1],
                                    s = m[2],
                                    d = "ultron_dev"
                            } else {
                                var h = x.exec(e);
                                if (!h)
                                    throw new Error("Fail to parse template url: ".concat(e));
                                var v = (0,
                                    l.default)(h, 4);
                                s = v[1],
                                    c = v[2],
                                    d = v[3]
                            }
                            var y = {
                                name: c,
                                version: s,
                                env: a,
                                type: d
                            };
                            return "h5_3+" === d ? y.url = "https://ossgw.alicdn.com/rapid-oss-bucket/".concat(a, "/").concat(s, "/").concat(c, ".js") : "h5_4+" === d ? y.url = "https://dinamicx.alibabausercontent.com/".concat(a, "/").concat(c, "/").concat(s, "/").concat(g, ".js") : "h5" === d ? u.includes(e, "g.alicdn") ? (y.shouldCombo = !0,
                                y.url = "".concat(c, "/").concat(s, "/").concat(c, "_h5.js")) : y.url = e : "ultron_dev" === d ? y.url = "https://pre-ultronage3.alibaba-inc.com/gw/nobuc/v3/Dinamicx/".concat(c, "/").concat(s, "/h5/getCdn.js") : c && s && (y.url = "https://ossgw.alicdn.com/rapid-oss-bucket/template_online/".concat(c, "/").concat(s, "/").concat(c, "_h5.js")),
                                y
                        }
                        function P(e, t) {
                            return {
                                template: e,
                                tplNodeTree: t
                            }
                        }
                        function E(e, t) {
                            var n = e.name
                                , r = S[n];
                            return r ? b[n] = t[n] = {
                                name: n,
                                content: r,
                                version: e.version
                            } : u.log.error("empty template content", {
                                type: d.ERROR_TEMPLATE_CONTENT,
                                templateName: n
                            }, !0),
                                P(e, r)
                        }
                        var k = []
                            , I = {};
                        function C(e) {
                            var t = e.name
                                , n = I[t] || {}
                                , r = n.version
                                , i = n.downloadTask;
                            if (r == e.version)
                                return i;
                            var o = new Promise((function (t, n) {
                                k.push(function (e) {
                                    for (var t = 1; t < arguments.length; t++) {
                                        var n = null != arguments[t] ? arguments[t] : {};
                                        t % 2 ? g(Object(n), !0).forEach((function (t) {
                                            (0,
                                                s.default)(e, t, n[t])
                                        }
                                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : g(Object(n)).forEach((function (t) {
                                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                        }
                                        ))
                                    }
                                    return e
                                }({
                                    onFinish: t,
                                    onError: n
                                }, e))
                            }
                            ));
                            return I[t] = {
                                version: e.version,
                                downloadTask: o
                            },
                                o
                        }
                        var T, D = function () {
                            T && clearTimeout(T),
                                T = window.setTimeout((function () {
                                    var e, t;
                                    (e = {},
                                        t = [],
                                        h.then((function (n) {
                                            return Promise.all(k.map((function (r) {
                                                var i = r.url
                                                    , o = r.name
                                                    , a = r.version
                                                    , s = r.shouldCombo
                                                    , l = r.onFinish
                                                    , c = r.onError
                                                    , p = r.type
                                                    , g = n[o];
                                                if ("ultron_dev" !== p && !(0,
                                                    f.getGlobalConfig)("disableTplCache") && g && g.version == a)
                                                    l(P(r, g.content));
                                                else {
                                                    if (!s)
                                                        return u.addScript(i).then((function () {
                                                            return u.sendRateLog("download", !0, {
                                                                templateUrl: i
                                                            }),
                                                                E(r, e)
                                                        }
                                                        )).then((function (e) {
                                                            return l(e)
                                                        }
                                                        )).catch((function (e) {
                                                            u.log.error(e, {
                                                                type: d.ERROR_TEMPLATE_DOWNLOAD,
                                                                templateUrl: i
                                                            }),
                                                                u.sendRateLog("download", !1, {
                                                                    templateUrl: i
                                                                }),
                                                                c(e)
                                                        }
                                                        ));
                                                    t.push(r)
                                                }
                                            }
                                            )))
                                        }
                                        )).then((function () {
                                            if (t.length > 0) {
                                                var n = "https://g.alicdn.com/code/dinamic-publish/??" + t.map((function (e) {
                                                    return e.url
                                                }
                                                )).join(",");
                                                return u.addScript(n).then((function () {
                                                    t.forEach((function (t) {
                                                        u.sendRateLog("download", !0, {
                                                            templateUrl: t.url
                                                        });
                                                        var n = E(t, e);
                                                        t.onFinish(n)
                                                    }
                                                    ))
                                                }
                                                )).catch((function (e) {
                                                    u.log.error(e, {
                                                        type: d.ERROR_TEMPLATE_DOWNLOAD,
                                                        templateUrl: n
                                                    }),
                                                        t.forEach((function (t) {
                                                            u.sendRateLog("download", !1, {
                                                                templateUrl: t.url
                                                            }),
                                                                t.onError(e)
                                                        }
                                                        ))
                                                }
                                                ))
                                            }
                                        }
                                        )).then((function () {
                                            return m.setTemplateMap(e)
                                        }
                                        ))).then((function () {
                                            return k = [],
                                                void (I = {})
                                        }
                                        ))
                                }
                                ), 0)
                        }, j = function () {
                            function e() {
                                (0,
                                    o.default)(this, e)
                            }
                            return (0,
                                a.default)(e, null, [{
                                    key: "add",
                                    value: function (t) {
                                        var n = e.processTplUrl(t)
                                            , r = (0,
                                                f.getTplCache)(t);
                                        return r && r.content ? Promise.resolve(P(n, r.content)) : n ? h.then((function (e) {
                                            var t = n.name
                                                , r = n.version;
                                            ("ultron_dev" === n.type || (0,
                                                f.getGlobalConfig)("disableTplCache")) && (e = {});
                                            var i = e[t];
                                            return i && i.version == r ? P(n, i.content) : (D(),
                                                C(n))
                                        }
                                        )) : (u.log.error("invalid_tpl_url", {
                                            type: d.ERROR_TEMPLATE_URL_PROCESS,
                                            templateUrl: t
                                        }),
                                            Promise.reject("invalid_tpl_url " + t))
                                    }
                                }, {
                                    key: "processTplUrl",
                                    value: function (e) {
                                        var t;
                                        try {
                                            t = M(e)
                                        } catch (t) {
                                            u.log.warn("tpl url process error", e)
                                        }
                                        return t
                                    }
                                }, {
                                    key: "getCache",
                                    value: function (e) {
                                        if ("ultron_dev" === e.type || (0,
                                            f.getGlobalConfig)("disableTplCache"))
                                            return null;
                                        var t = b[e.name];
                                        return t && t.version == e.version ? t.content : void 0
                                    }
                                }, {
                                    key: "setCache",
                                    value: function (e) {
                                        e.forEach((function (e) {
                                            var t = e.name
                                                , n = e.version
                                                , r = e.content;
                                            b[t] = {
                                                name: t,
                                                version: n,
                                                content: r
                                            }
                                        }
                                        ))
                                    }
                                }, {
                                    key: "registerTplUrlProcessor",
                                    value: function (e) {
                                        if ("function" != typeof e)
                                            throw new Error("Invalid Tpl Url Processor");
                                        M = e
                                    }
                                }]),
                                e
                        }();
                        t.default = j
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.idb = void 0,
                            t.isIndexedDBValid = function () {
                                try {
                                    if (!r)
                                        return !1;
                                    var e = "undefined" != typeof openDatabase && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform)
                                        , t = "function" == typeof fetch;
                                    return (!e || t) && "undefined" != typeof indexedDB && "undefined" != typeof IDBKeyRange
                                } catch (e) {
                                    return !1
                                }
                            }
                            ;
                        var r = function () {
                            try {
                                if (void 0 !== window.indexedDB)
                                    return window.indexedDB;
                                if (void 0 !== window.webkitIndexedDB)
                                    return window.webkitIndexedDB;
                                if (void 0 !== window.mozIndexedDB)
                                    return window.mozIndexedDB;
                                if (void 0 !== window.OIndexedDB)
                                    return window.OIndexedDB;
                                if (void 0 !== window.msIndexedDB)
                                    return window.msIndexedDB
                            } catch (e) {
                                return !1
                            }
                        }();
                        t.idb = r
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(12))
                            , s = r(n(6))
                            , l = r(n(7))
                            , u = r(n(4))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var f = (0,
                            u.default)("ravel")
                            , p = function () {
                                function e() {
                                    (0,
                                        s.default)(this, e)
                                }
                                return (0,
                                    l.default)(e, null, [{
                                        key: "bind",
                                        value: function (e, t, n) {
                                            var r = f.get(t) || [];
                                            f.set(t, [[e, n]].concat((0,
                                                a.default)(r)))
                                        }
                                    }, {
                                        key: "setData",
                                        value: function (e, t) {
                                            var n = f.get(e);
                                            n || console.error("Can't find context bind with the name (\"".concat(e, '") !')),
                                                Array.isArray(n) && n.forEach((function (e) {
                                                    var n = (0,
                                                        o.default)(e, 2)
                                                        , r = n[0]
                                                        , i = n[1]
                                                        , a = {};
                                                    c.mapValue(t, (function (e, t) {
                                                        var n = i[t];
                                                        n && (n in r && (r[n] = e),
                                                            r.state && n in r.state && (a[n] = e))
                                                    }
                                                    )),
                                                        c.isEmpty(a) ? r.forceUpdate() : r.setState(a)
                                                }
                                                ))
                                        }
                                    }, {
                                        key: "getContext",
                                        value: function (e) {
                                            return (f.get(e) || [])[0]
                                        }
                                    }]),
                                    e
                            }();
                        t.default = p
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.getEventHandler = d,
                            t.registerEventHandler = f;
                        var i = r(n(12))
                            , o = r(n(3))
                            , a = r(n(4))
                            , s = n(9)
                            , l = n(2)
                            , u = (0,
                                a.default)("handler")
                            , c = {
                                _openUrl: function (e) {
                                    var t = (0,
                                        o.default)(e, 1)[0];
                                    window.dispatchEvent(new Event("page:jump")),
                                        window.location.href = t
                                }
                            };
                        function d(e) {
                            return u.get(e)
                        }
                        function f(e, t) {
                            var n = d(e)
                                , r = t;
                            n && (r = Array.isArray(n) ? [].concat((0,
                                i.default)(n), [t]) : [n, t]),
                                u.set(e, r),
                                (0,
                                    s.registerDataParser)(e, t)
                        }
                        setTimeout((function () {
                            (0,
                                l.mapValue)(c, (function (e, t) {
                                    return f(t, e)
                                }
                                ))
                        }
                        ), 0)
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            Object.defineProperty(t, "Component", {
                                enumerable: !0,
                                get: function () {
                                    return o.Component
                                }
                            }),
                            Object.defineProperty(t, "Downloader", {
                                enumerable: !0,
                                get: function () {
                                    return f.default
                                }
                            }),
                            Object.defineProperty(t, "Fragment", {
                                enumerable: !0,
                                get: function () {
                                    return a.Fragment
                                }
                            }),
                            Object.defineProperty(t, "Ravel", {
                                enumerable: !0,
                                get: function () {
                                    return l.default
                                }
                            }),
                            Object.defineProperty(t, "Template", {
                                enumerable: !0,
                                get: function () {
                                    return a.Template
                                }
                            }),
                            Object.defineProperty(t, "addTemplatePlugins", {
                                enumerable: !0,
                                get: function () {
                                    return a.addTemplatePlugins
                                }
                            }),
                            Object.defineProperty(t, "colorParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.colorParser
                                }
                            }),
                            Object.defineProperty(t, "dataParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.dataParser
                                }
                            }),
                            t.default = void 0,
                            Object.defineProperty(t, "driver", {
                                enumerable: !0,
                                get: function () {
                                    return m.driver
                                }
                            }),
                            Object.defineProperty(t, "eventHandlerParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.eventHandlerParser
                                }
                            }),
                            Object.defineProperty(t, "getDataParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.getDataParser
                                }
                            }),
                            Object.defineProperty(t, "getEventHandler", {
                                enumerable: !0,
                                get: function () {
                                    return c.getEventHandler
                                }
                            }),
                            Object.defineProperty(t, "getGlobalConfig", {
                                enumerable: !0,
                                get: function () {
                                    return d.getGlobalConfig
                                }
                            }),
                            Object.defineProperty(t, "getLocalImage", {
                                enumerable: !0,
                                get: function () {
                                    return u.getLocalImage
                                }
                            }),
                            Object.defineProperty(t, "getTplCache", {
                                enumerable: !0,
                                get: function () {
                                    return d.getTplCache
                                }
                            }),
                            Object.defineProperty(t, "getView", {
                                enumerable: !0,
                                get: function () {
                                    return a.getView
                                }
                            }),
                            Object.defineProperty(t, "h", {
                                enumerable: !0,
                                get: function () {
                                    return o.createElement
                                }
                            }),
                            Object.defineProperty(t, "initIndexedDB", {
                                enumerable: !0,
                                get: function () {
                                    return f.initIndexedDB
                                }
                            }),
                            Object.defineProperty(t, "initLocalStorage", {
                                enumerable: !0,
                                get: function () {
                                    return f.initLocalStorage
                                }
                            }),
                            Object.defineProperty(t, "registerDataParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.registerDataParser
                                }
                            }),
                            Object.defineProperty(t, "registerEventHandler", {
                                enumerable: !0,
                                get: function () {
                                    return c.registerEventHandler
                                }
                            }),
                            Object.defineProperty(t, "registerView", {
                                enumerable: !0,
                                get: function () {
                                    return a.registerView
                                }
                            }),
                            Object.defineProperty(t, "render", {
                                enumerable: !0,
                                get: function () {
                                    return m.render
                                }
                            }),
                            Object.defineProperty(t, "setDeviceWidth", {
                                enumerable: !0,
                                get: function () {
                                    return a.setDeviceWidth
                                }
                            }),
                            Object.defineProperty(t, "setDriver", {
                                enumerable: !0,
                                get: function () {
                                    return m.setDriver
                                }
                            }),
                            Object.defineProperty(t, "setGlobalConfig", {
                                enumerable: !0,
                                get: function () {
                                    return d.setGlobalConfig
                                }
                            }),
                            Object.defineProperty(t, "setLocalImage", {
                                enumerable: !0,
                                get: function () {
                                    return u.setLocalImage
                                }
                            }),
                            Object.defineProperty(t, "setTplCache", {
                                enumerable: !0,
                                get: function () {
                                    return d.setTplCache
                                }
                            }),
                            Object.defineProperty(t, "tracker", {
                                enumerable: !0,
                                get: function () {
                                    return p.default
                                }
                            }),
                            Object.defineProperty(t, "unitParser", {
                                enumerable: !0,
                                get: function () {
                                    return s.unitParser
                                }
                            }),
                            t.utils = void 0;
                        var o = n(10)
                            , a = n(25)
                            , s = n(9)
                            , l = r(n(22))
                            , u = n(40)
                            , c = n(23)
                            , d = n(13)
                            , f = v(n(20))
                            , p = r(n(19))
                            , g = v(n(2));
                        t.utils = g;
                        var m = n(41);
                        function h(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (h = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function v(e, t) {
                            if (!t && e && e.__esModule)
                                return e;
                            if (null === e || "object" !== i(e) && "function" != typeof e)
                                return {
                                    default: e
                                };
                            var n = h(t);
                            if (n && n.has(e))
                                return n.get(e);
                            var r = {}
                                , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                            for (var a in e)
                                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                }
                            return r.default = e,
                                n && n.set(e, r),
                                r
                        }
                        var y = {
                            h: o.createElement,
                            render: m.render,
                            Component: o.Component,
                            driver: m.driver,
                            setDriver: m.setDriver,
                            getView: a.getView,
                            registerView: a.registerView,
                            Template: a.Template,
                            addTemplatePlugins: a.addTemplatePlugins,
                            Fragment: a.Fragment,
                            getDataParser: s.getDataParser,
                            registerDataParser: s.registerDataParser,
                            dataParser: s.dataParser,
                            colorParser: s.colorParser,
                            unitParser: s.unitParser,
                            eventHandlerParser: s.eventHandlerParser,
                            getLocalImage: u.getLocalImage,
                            setLocalImage: u.setLocalImage,
                            getEventHandler: c.getEventHandler,
                            registerEventHandler: c.registerEventHandler,
                            Downloader: f.default,
                            initIndexedDB: f.initIndexedDB,
                            initLocalStorage: f.initLocalStorage,
                            tracker: p.default,
                            Ravel: l.default,
                            setGlobalConfig: d.setGlobalConfig,
                            getGlobalConfig: d.getGlobalConfig,
                            setTplCache: d.setTplCache,
                            getTplCache: d.getTplCache,
                            utils: g
                        };
                        t.default = y
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.Fragment = function (e) {
                                return e.children
                            }
                            ,
                            t.Template = void 0,
                            t.addTemplatePlugins = function (e) {
                                Array.isArray(e) && e.forEach((function (e) {
                                    p.isPlainObject(e) && E.push(e)
                                }
                                ))
                            }
                            ,
                            t.getView = D,
                            t.registerView = function (e, t) {
                                M.set(e, t)
                            }
                            ,
                            t.setDeviceWidth = function (e) {
                                p.env.deviceWidth = e;
                                var t = document.createElement("style");
                                t.innerHTML = ".tpl-wrapper{max-width: ".concat(e, "px}"),
                                    document.head.appendChild(t)
                            }
                            ;
                        var o = r(n(6))
                            , a = r(n(7))
                            , s = r(n(26))
                            , l = r(n(28))
                            , u = r(n(30))
                            , c = r(n(8))
                            , d = r(n(3))
                            , f = n(10)
                            , p = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = _(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , g = r(n(4))
                            , m = r(n(20))
                            , h = r(n(22))
                            , v = n(9)
                            , y = n(13)
                            , b = n(5);
                        function _(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (_ = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function w(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        function x(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function O(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? x(Object(n), !0).forEach((function (t) {
                                    (0,
                                        c.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : x(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        var S = (0,
                            g.default)("data")
                            , M = (0,
                                g.default)("view")
                            , P = function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                return p.getUniqueId(e.templateName || p.deepGet(e, "template.name") || "dt")
                            }
                            , E = []
                            , k = /^[d][A-Z]/
                            , I = /^[A-Z]{2}[0-9a-z_\-]/;
                        function C(e) {
                            return I.test(e) ? e.slice(1) : e
                        }
                        function T(e, t) {
                            return Array.isArray(t) && (t = t[0] || {}),
                                S.set(e, t),
                                t
                        }
                        function D(e) {
                            return M.get(e)
                        }
                        function j() {
                            (0,
                                y.getGlobalConfig)("enableForceUpdate") ? this.componentIdSeq = this.componentIdSeq || 0 : this.componentIdSeq = 0,
                                this.componentIndexSet = []
                        }
                        function N(e, t) {
                            var n = this;
                            if (p.isPlainObject(e)) {
                                var r = {};
                                return p.mapValue(e, (function (e, i) {
                                    if ("h5RavelBind" === i) {
                                        var o = e.split("|")
                                            , a = (0,
                                                d.default)(o, 2)
                                            , s = a[0]
                                            , l = a[1];
                                        h.default.bind(n, t._tplId, (0,
                                            c.default)({}, s, l))
                                    }
                                    if ("on" === i.slice(0, 2) && "onColor" !== i)
                                        r[i] = (0,
                                            v.eventHandlerParser)(e, t);
                                    else {
                                        var u = i;
                                        k.test(i) && (u = function (e) {
                                            var t = e.slice(1);
                                            return e = t[0].toLowerCase() + t.slice(1)
                                        }(i)),
                                            r[u] = (0,
                                                v.dataParser)(e, t)
                                    }
                                }
                                )),
                                    r
                            }
                            return {}
                        }
                        function A(e) {
                            var t = this
                                , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                                , r = arguments.length > 2 ? arguments[2] : void 0
                                , i = arguments.length > 3 ? arguments[3] : void 0
                                , o = r._tplId
                                , a = e.bizCode && e.template ? "3.0.0" : "0.0.0"
                                , s = p.compareComplierVersion(a, "3.0.0") >= 0
                                , l = function e(a, s) {
                                    return a.map((function () {
                                        var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                            , l = D(a.name);
                                        if ("Children" === a.name && i)
                                            return i;
                                        if (a.attrs && a.attrs.userId && s && s._originProps && "true" !== String(s._originProps.alwaysShowIndicator) && s._originProps.moreIndicatorUserId === a.attrs.userId)
                                            return null;
                                        if (l) {
                                            var u = "".concat(o, "_c").concat(++t.componentIdSeq)
                                                , c = {
                                                    key: u,
                                                    _id: u,
                                                    _idIndex: t.componentIdSeq - 1,
                                                    _tplId: o,
                                                    _tplName: r._tplName,
                                                    _tplContext: r._context,
                                                    _viewName: C(a.name),
                                                    _originProps: a.attrs
                                                }
                                                , d = O(O(O({}, N.call(t, a.attrs, O({
                                                    data: n
                                                }, c))), c), {}, {
                                                    childrenLen: Array.isArray(a.children) ? a.children.length : 0
                                                });
                                            return t.componentIndexSet.push({
                                                id: u,
                                                props: d,
                                                pid: s ? s._id : null
                                            }),
                                                (0,
                                                    f.createElement)(l, d, a.children && e(a.children, c))
                                        }
                                        p.log.error(new Error("View not found"), {
                                            type: b.ERROR_VIEW_404,
                                            viewName: a.name,
                                            templateName: r._tplName
                                        })
                                    }
                                    ))
                                };
                            return l(s ? e.template : e)
                        }
                        var R = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = w(n);
                            function n(e) {
                                var r;
                                return (0,
                                    o.default)(this, n),
                                    (r = t.call(this, e)).lazyRender = (0,
                                        y.getGlobalConfig)("enableLazyload"),
                                    r.initByProps(e),
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "initByProps",
                                    value: function () {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                            , t = e.url
                                            , n = e.tpl
                                            , r = e.data
                                            , i = e.templateName
                                            , o = e.customTemplateId
                                            , a = {};
                                        t && (a = m.default.processTplUrl(t) || {});
                                        var s = (0,
                                            y.getTplCache)(t)
                                            , l = o || P(r);
                                        r = T(l, r),
                                            this.shadow = {
                                                tpl: n || s && s.content || s || m.default.getCache(a),
                                                data: r,
                                                options: {
                                                    _context: this,
                                                    _tplId: l,
                                                    _tplName: i || a.name || l
                                                }
                                            },
                                            this.bindLifeCycleEvent()
                                    }
                                }, {
                                    key: "bindLifeCycleEvent",
                                    value: function () {
                                        var e = function () { }
                                            , t = this.props
                                            , n = t.componentWillBindEvent
                                            , r = void 0 === n ? e : n
                                            , i = t.componentFinishFirstPaint
                                            , o = void 0 === i ? e : i
                                            , a = t.templateWillDownload
                                            , s = void 0 === a ? e : a
                                            , l = t.templateFinishDownload
                                            , u = void 0 === l ? e : l
                                            , c = t.templateDownloadError
                                            , d = void 0 === c ? e : c
                                            , f = t.templateWillRender
                                            , g = void 0 === f ? e : f
                                            , m = t.templateFinishCreateViews
                                            , h = void 0 === m ? e : m
                                            , v = t.templateFinishFirstPaint
                                            , y = void 0 === v ? e : v
                                            , b = t.templateFinishUpdate
                                            , _ = {
                                                componentWillBindEvent: r,
                                                componentFinishFirstPaint: o,
                                                templateWillDownload: s,
                                                templateFinishDownload: u,
                                                templateDownloadError: d,
                                                templateWillRender: g,
                                                templateFinishCreateViews: h,
                                                templateFinishFirstPaint: y,
                                                templateFinishUpdate: void 0 === b ? e : b
                                            };
                                        this.lifeCycles = p.mapValue(_, (function (e, t) {
                                            return function () {
                                                for (var n = this, r = arguments.length, i = new Array(r), o = 0; o < r; o++)
                                                    i[o] = arguments[o];
                                                return E.forEach((function (e) {
                                                    var r = e[t];
                                                    r && r.apply(n, i)
                                                }
                                                )),
                                                    e.apply(this, i)
                                            }
                                        }
                                        ))
                                    }
                                }, {
                                    key: "componentDidCatch",
                                    value: function (e) {
                                        var t = this.shadow.options._tplName;
                                        p.log.error(e, {
                                            type: b.ERROR_TEMPLATE_RENDER,
                                            templateName: t
                                        })
                                    }
                                }, {
                                    key: "componentDidUpdate",
                                    value: function () {
                                        var e = this.lifeCycles
                                            , t = e.templateFinishFirstPaint
                                            , n = e.templateFinishUpdate;
                                        this.shadow.tpl && (this.firstPaint ? n.call(this, this.shadow) : (t.call(this, this.shadow),
                                            this.firstPaint = !0))
                                    }
                                }, {
                                    key: "componentDidMount",
                                    value: function () {
                                        var e = this.lifeCycles.templateFinishFirstPaint;
                                        this.shadow.tpl ? (e.call(this, this.shadow),
                                            this.firstPaint = !0) : this.rerenderTemplateByUrl(this.props.url),
                                            this.lazyRender && this.connectLazyObserver()
                                    }
                                }, {
                                    key: "connectLazyObserver",
                                    value: function () {
                                        var e = this
                                            , t = this.shadow.options._tplId;
                                        if (t) {
                                            var n = new IntersectionObserver((function (t) {
                                                t.some((function (e) {
                                                    return e.intersectionRatio > 0
                                                }
                                                )) && (e.lazyRender = !1,
                                                    e.forceUpdate(),
                                                    n.disconnect())
                                            }
                                            ));
                                            n.observe(document.querySelector("div[".concat("data-tpl-id", '="').concat(t, '"]')))
                                        } else
                                            p.log.warn("Cannot get template id")
                                    }
                                }, {
                                    key: "shouldComponentUpdate",
                                    value: function (e) {
                                        var t = e.data
                                            , n = e.url
                                            , r = e.tpl
                                            , i = this.props
                                            , o = i.data
                                            , a = i.url
                                            , s = i.tpl
                                            , l = !1;
                                        return a !== n && (this.rerenderTemplateByUrl(n, !0),
                                            l = !0),
                                            t !== o && (this.rerenderTemplateByData(t),
                                                l = !0),
                                            r && JSON.stringify(r) !== JSON.stringify(s) && (this.initByProps(e),
                                                l = !0),
                                            l
                                    }
                                }, {
                                    key: "rerenderTemplateByData",
                                    value: function (e) {
                                        e = T(this.shadow.options._tplId, e),
                                            this.shadow.data = e
                                    }
                                }, {
                                    key: "rerenderTemplateByUrl",
                                    value: function (e, t) {
                                        var n = this
                                            , r = this.shadow
                                            , i = r.tpl
                                            , o = (r.data,
                                                r.options);
                                        if (e && (!i || t)) {
                                            var a = this.lifeCycles
                                                , s = a.templateWillDownload
                                                , l = a.templateFinishDownload
                                                , u = a.templateDownloadError;
                                            s.call(this, this.shadow),
                                                m.default.add(e).then((function (e) {
                                                    var t = e.tplNodeTree
                                                        , r = e.template;
                                                    o._template = r,
                                                        l.call(n, n.shadow),
                                                        t && (n.shadow.tpl = t,
                                                            n.forceUpdate())
                                                }
                                                )).catch((function (e) {
                                                    u(e)
                                                }
                                                ))
                                        }
                                    }
                                }, {
                                    key: "renderTemplateWrapper",
                                    value: function (e) {
                                        var t, n = this.props, r = n.style, i = n.className, o = n.extraAttrs, a = this.shadow, s = a.options, l = a.tpl, u = s._tplId, d = function (e) {
                                            var t = Array.isArray(e) ? e[0] : e
                                                , n = "300px";
                                            return t && t.attrs && t.attrs.defaultHeight && (n = (0,
                                                v.unitParser)(t.attrs.defaultHeight) || n),
                                                n
                                        }(l), g = (t = {
                                            "data-spm": u
                                        },
                                            (0,
                                                c.default)(t, "data-tpl-id", u),
                                            (0,
                                                c.default)(t, "className", "tpl-wrapper"),
                                            t);
                                        return this.lazyRender && (this.props.placeholder && "function" == typeof this.props.placeholder ? e = (0,
                                            f.createElement)(this.props.placeholder, {
                                                defaultHeight: d,
                                                tpl: l,
                                                data: this.props.data
                                            }) : g.style = {
                                                height: d
                                            }),
                                            i && (g.className += " " + i),
                                            p.isPlainObject(r) && (g.style = r),
                                            p.isPlainObject(o) && Object.assign(g, o),
                                            (0,
                                                y.getGlobalConfig)("autotestMode") && (g["aria-label"] = u),
                                            (0,
                                                f.createElement)("div", g, e)
                                    }
                                }, {
                                    key: "renderViews",
                                    value: function (e) {
                                        var t = this.shadow
                                            , n = t.data
                                            , r = t.options
                                            , i = this.props.children;
                                        return e ? (j.call(this),
                                            A.call(this, e, n, r, i)) : null
                                    }
                                }, {
                                    key: "render",
                                    value: function () {
                                        var e = this.shadow.tpl
                                            , t = this.lifeCycles
                                            , n = t.templateWillRender
                                            , r = t.templateFinishCreateViews;
                                        n.call(this, this.shadow);
                                        var i = this.lazyRender ? null : this.renderViews(e)
                                            , o = this.renderTemplateWrapper(i);
                                        return r.call(this, this.shadow),
                                            o
                                    }
                                }]),
                                n
                        }(f.Component);
                        t.Template = R
                    }
                    , function (e, t, n) {
                        var r = n(27);
                        e.exports = function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                                t && r(e, t)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        function n(t, r) {
                            return e.exports = n = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0,
                                n(t, r)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        var r = n(1).default
                            , i = n(29);
                        e.exports = function (e, t) {
                            if (t && ("object" === r(t) || "function" == typeof t))
                                return t;
                            if (void 0 !== t)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return i(e)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function (e) {
                            if (void 0 === e)
                                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        function n(t) {
                            return e.exports = n = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0,
                                n(t)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function (e, t) {
                            var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                            if (null != n) {
                                var r, i, o = [], a = !0, s = !1;
                                try {
                                    for (n = n.call(e); !(a = (r = n.next()).done) && (o.push(r.value),
                                        !t || o.length !== t); a = !0)
                                        ;
                                } catch (e) {
                                    s = !0,
                                        i = e
                                } finally {
                                    try {
                                        a || null == n.return || n.return()
                                    } finally {
                                        if (s)
                                            throw i
                                    }
                                }
                                return o
                            }
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        var r = n(16);
                        e.exports = function (e) {
                            if (Array.isArray(e))
                                return r(e)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        e.exports = function () {
                            throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(1))
                            , a = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = l(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , s = n(5);
                        function l(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (l = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var u = {
                            getItem: function () { },
                            setItem: function () { }
                        };
                        try {
                            u = window.localStorage
                        } catch (e) { }
                        function c(e) {
                            try {
                                var t = u.getItem(e);
                                return t ? "object" === (t = JSON.parse(t)).t ? JSON.parse(t.v) : t.v : t
                            } catch (e) {
                                return console.error(e),
                                    null
                            }
                        }
                        function d(e, t) {
                            try {
                                a.isPlainObject(t) ? u.setItem(e, JSON.stringify({
                                    t: "object",
                                    v: JSON.stringify(t)
                                })) : u.setItem(e, JSON.stringify({
                                    t: (0,
                                        o.default)(t),
                                    v: t
                                }))
                            } catch (e) {
                                console.error(e)
                            }
                        }
                        var f = {
                            setTemplateMap: function (e) {
                                try {
                                    var t = c("tpl$TplNameList");
                                    t = t ? t.split("$") : [],
                                        a.mapValue(e, (function (e) {
                                            var n = e.name;
                                            d("tpl-".concat(n), e),
                                                t.push(n)
                                        }
                                        )),
                                        d("tpl$TplNameList", t.join("$"))
                                } catch (e) {
                                    a.log.error(e, {
                                        type: s.ERROR_STORAGE_LS_SET_MAP
                                    })
                                }
                                return Promise.resolve([])
                            },
                            getTemplateMap: function () {
                                var e = {};
                                try {
                                    var t = c("tpl$TplNameList");
                                    t && (t = t.split("$")).forEach((function (t) {
                                        var n = c("tpl-".concat(t));
                                        e[t] = n
                                    }
                                    ))
                                } catch (e) {
                                    a.log.error(e, {
                                        type: s.ERROR_STORAGE_LS_GET_MAP
                                    })
                                }
                                return Promise.resolve(e)
                            }
                        };
                        t.default = f
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var i = function (e, t) {
                            if (!t && e && e.__esModule)
                                return e;
                            if (null === e || "object" !== r(e) && "function" != typeof e)
                                return {
                                    default: e
                                };
                            var n = s(t);
                            if (n && n.has(e))
                                return n.get(e);
                            var i = {}
                                , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                            for (var a in e)
                                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                    var l = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                    l && (l.get || l.set) ? Object.defineProperty(i, a, l) : i[a] = e[a]
                                }
                            return i.default = e,
                                n && n.set(e, i),
                                i
                        }(n(2))
                            , o = n(21)
                            , a = n(5);
                        function s(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (s = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var l = o.idb.open("DinamicX", 2)
                            , u = new Promise((function (e) {
                                l.onupgradeneeded = function (t) {
                                    var n = l.result
                                        , r = t.target.transaction;
                                    n.createObjectStore("template", {
                                        keyPath: "name"
                                    }),
                                        r.oncomplete = function () {
                                            return e(n)
                                        }
                                }
                                    ,
                                    l.onsuccess = function () {
                                        return e(l.result)
                                    }
                            }
                            ))
                            , c = function (e) {
                                return e.transaction("template", "readwrite").objectStore("template")
                            }
                            , d = {
                                setTemplateMap: function (e) {
                                    return u.then((function (t) {
                                        var n = c(t)
                                            , r = [];
                                        return i.mapValue(e, (function (e) {
                                            var t;
                                            r.push((t = n.put(e),
                                                new Promise((function (e, n) {
                                                    t.onsuccess = e,
                                                        t.onerror = n
                                                }
                                                ))).catch((function (t) {
                                                    i.log.error(t, {
                                                        type: a.ERROR_STORAGE_IDB_SET_MAP,
                                                        templateName: e.name,
                                                        templateVersion: e.version
                                                    })
                                                }
                                                )))
                                        }
                                        )),
                                            Promise.all(r)
                                    }
                                    ))
                                },
                                getTemplateMap: function () {
                                    return u.then((function (e) {
                                        var t = c(e).openCursor();
                                        return new Promise((function (e, n) {
                                            var r = {};
                                            t.onsuccess = function (t) {
                                                var n = t.target.result;
                                                if (n) {
                                                    var i = n.value;
                                                    r[i.name] = i,
                                                        n.continue()
                                                } else
                                                    e(r)
                                            }
                                                ,
                                                t.onerror = n
                                        }
                                        )).catch((function (e) {
                                            i.log.error(e, {
                                                type: a.ERROR_STORAGE_IDB_GET_MAP
                                            })
                                        }
                                        ))
                                    }
                                    ))
                                }
                            };
                        t.default = d
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = u(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , l = n(14);
                        function u(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (u = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var c = /\$(\w+)\{(.+?)\}/g
                            , d = (0,
                                a.default)("data");
                        t.default = function (e, t) {
                            var n = t.data || d.get(t.tplId)
                                , r = ""
                                , i = s.matchRegexp(e, c);
                            return Array.isArray(i) && i.length > 0 ? (i.every((function (e) {
                                var i = (0,
                                    o.default)(e, 2)
                                    , a = i[0]
                                    , s = i[1].split(",")
                                    , u = (0,
                                        l.getDataParser)(a);
                                return u && (r = u.call(t.context, s, n, t)),
                                    !r
                            }
                            )),
                                r) : e
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(38))
                            , a = r(n(1))
                            , s = r(n(3))
                            , l = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = c(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , u = n(9);
                        function c(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (c = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var d = {}
                            , f = function (e) {
                                return !("false" === e || !1 === e || "0" === e || !e || Array.isArray(e) && 0 === e.length)
                            }
                            , p = function (e) {
                                return function (t) {
                                    return 1 === t.length && l.isNumberLike(t[0]) ? e(t[0]) : 0
                                }
                            }
                            , g = function (e) {
                                return function (t) {
                                    var n = (0,
                                        s.default)(t, 2)
                                        , r = n[0]
                                        , i = n[1];
                                    return l.isNumberLike(r) && l.isNumberLike(i) ? e([l.toNumber(r), l.toNumber(i)]) : l.isNumberLike(r) ? l.toNumber(r) : l.isNumberLike(i) ? l.toNumber(i) : 0
                                }
                            }
                            , m = function (e) {
                                return function (t) {
                                    var n = (0,
                                        s.default)(t, 2)
                                        , r = n[0]
                                        , i = n[1];
                                    return 0 === l.toNumber(i) ? 0 : e([l.toNumber(r), l.toNumber(i)])
                                }
                            };
                        d.if = function (e) {
                            var t = (0,
                                s.default)(e, 2)
                                , n = t[0]
                                , r = t[1];
                            return f(n) && r
                        }
                            ,
                            d.else = function (e) {
                                return (0,
                                    s.default)(e, 1)[0]
                            }
                            ,
                            d.not = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return !f(t)
                            }
                            ,
                            d.and = function (e) {
                                return e.reduce((function (e, t) {
                                    return f(e) && f(t)
                                }
                                ))
                            }
                            ,
                            d.or = function (e) {
                                return e.reduce((function (e, t) {
                                    return f(e) || f(t)
                                }
                                ))
                            }
                            ,
                            d.triple = function (e) {
                                var t = (0,
                                    s.default)(e, 3)
                                    , n = t[0]
                                    , r = t[1]
                                    , i = t[2];
                                return f(n) ? r : i
                            }
                            ,
                            d.equal = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return l.isEqual(n, r)
                            }
                            ,
                            d.array_get = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return !Array.isArray(n) || isNaN(r) ? null : n[~~r]
                            }
                            ,
                            d.index_of = function (e) {
                                var t = (0,
                                    s.default)(e, 3)
                                    , n = t[0]
                                    , r = void 0 === n ? [] : n
                                    , i = t[1];
                                if (t[2],
                                    !Array.isArray(r))
                                    return null;
                                var o = -1;
                                if ("object" === (0,
                                    a.default)(i)) {
                                    var l = "";
                                    try {
                                        l = JSON.stringify(i)
                                    } catch (e) {
                                        console.error(e)
                                    }
                                    var u = [];
                                    try {
                                        r.map((function (e) {
                                            u.push(JSON.stringify(e))
                                        }
                                        ))
                                    } catch (e) {
                                        console.error(e)
                                    }
                                    o = u.indexOf(l)
                                } else
                                    o = r.indexOf(i);
                                return -1 === o ? null : o
                            }
                            ,
                            d.array_find = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                if (!Array.isArray(n))
                                    return null;
                                var i = n.indexOf(r);
                                return -1 === i ? null : n[i]
                            }
                            ,
                            d.dict_get = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return n && n[r]
                            }
                            ,
                            d.data = function (e, t) {
                                var n = (0,
                                    s.default)(e, 1)[0];
                                return n ? l.deepGet(t, n) : t
                            }
                            ,
                            d.subdata = function (e, t) {
                                var n = (0,
                                    s.default)(e, 1)
                                    , r = n[0]
                                    , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                                return r ? l.deepGet(i.data, r) : i.data
                            }
                            ,
                            d.lowercase = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.isString(t) ? t.toLowerCase() : t
                            }
                            ,
                            d.uppercase = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.isString(t) ? t.toUpperCase() : t
                            }
                            ,
                            d.substr = function (e) {
                                var t = (0,
                                    s.default)(e, 3)
                                    , n = t[0]
                                    , r = t[1]
                                    , i = t[2];
                                return l.isString(n) ? n.substr(r >= 0 ? r : 0, i) : n
                            }
                            ,
                            d.concat = function (e) {
                                return e.reduce((function (e, t) {
                                    return (e || "") + (t || "")
                                }
                                ))
                            }
                            ,
                            d.trim = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.isString(t) ? t.trim() : t
                            }
                            ,
                            d.iequal = function (e) {
                                var t = (0,
                                    s.default)(e, 2);
                                return t[0] === t[1]
                            }
                            ,
                            d.iless = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) < Number(r)
                            }
                            ,
                            d.igreater = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) > Number(r)
                            }
                            ,
                            d.iless_equal = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) <= Number(r)
                            }
                            ,
                            d.igreater_equal = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) >= Number(r)
                            }
                            ,
                            d.add = g((function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) + Number(r)
                            }
                            )),
                            d.sub = g((function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) - Number(r)
                            }
                            )),
                            d.mul = g((function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) * Number(r)
                            }
                            )),
                            d.div = g(m((function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) / Number(r)
                            }
                            ))),
                            d.mod = g(m((function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                return Number(n) % Number(r)
                            }
                            ))),
                            d.ceil = p((function (e) {
                                return Math.ceil(e)
                            }
                            )),
                            d.floor = p((function (e) {
                                return Math.floor(e)
                            }
                            )),
                            d.round = p((function (e) {
                                return Math.round(e)
                            }
                            )),
                            d.abs = p((function (e) {
                                return Math.abs(e)
                            }
                            )),
                            d.fequal = d.iequal,
                            d.fless = d.iless,
                            d.fgreater = d.igreater,
                            d.fless_equal = d.iless_equal,
                            d.fgreater_equal = d.igreater_equal,
                            d.toDouble = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.toNumber(t)
                            }
                            ,
                            d.toLong = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.toNumber(t)
                            }
                            ,
                            d.toStr = function (e) {
                                var t = (0,
                                    s.default)(e, 2)
                                    , n = t[0]
                                    , r = t[1];
                                if (!n || !r)
                                    return void 0 !== n ? String(n) : "";
                                try {
                                    return l.toNumber(n).toFixed(r)
                                } catch (e) {
                                    return l.log.warn(e),
                                        ""
                                }
                            }
                            ,
                            d.const = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return t ? t.trim() : ""
                            }
                            ,
                            d.len = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return l.isPlainObject(t) ? Object.keys(t).length : t ? ~~t.length : 0
                            }
                            ,
                            d.platform = function (e) {
                                var t = (0,
                                    s.default)(e, 1)[0];
                                return t && "h5" === t.toLowerCase()
                            }
                            ,
                            d.linearGradient = function (e) {
                                var t = (0,
                                    o.default)(e)
                                    , n = t[0]
                                    , r = t.slice(1)
                                    , i = "";
                                switch (n) {
                                    case "toLeft":
                                        i = "to left";
                                        break;
                                    case "toTop":
                                        i = "to top";
                                        break;
                                    case "toRight":
                                        i = "to right";
                                        break;
                                    case "toBottom":
                                        i = "to bottom"
                                }
                                if (!i || !r.length)
                                    return null;
                                var a = "linear-gradient(".concat(i, ",");
                                return r.map((function (e, t) {
                                    var n = (0,
                                        u.colorParser)(e)
                                        , i = t === r.length - 1 ? ")" : ",";
                                    a += n + i
                                }
                                )),
                                    a
                            }
                            ,
                            d.eq = d.equal,
                            d.aget = d.array_get,
                            d.afind = d.array_find,
                            d.dget = d.dict_get,
                            d.lc = d.lowercase,
                            d.uc = d.uppercase,
                            d.ieq = d.iequal,
                            d.ilt = d.iless,
                            d.igt = d.igreater,
                            d.ilte = d.iless_equal,
                            d.igte = d.igreater_equal,
                            d.feq = d.fequal,
                            d.flt = d.fless,
                            d.fgt = d.fgreater,
                            d.flte = d.fless_equal,
                            d.fgte = d.fgreater_equal,
                            d.less = d.iless,
                            d.greater = d.igreater,
                            d.lessEqual = d.iless_equal,
                            d.greaterEqula = d.igreater_equal,
                            d.greaterEqual = d.igreater_equal;
                        var h = d;
                        t.default = h
                    }
                    , function (e, t, n) {
                        var r = n(15)
                            , i = n(18)
                            , o = n(11)
                            , a = n(17);
                        e.exports = function (e) {
                            return r(e) || i(e) || o(e) || a()
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(6))
                            , a = r(n(7))
                            , s = r(n(4))
                            , l = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , u = n(5)
                            , c = n(14);
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        var f = (0,
                            s.default)("data")
                            , p = (0,
                                s.default)("parser")
                            , g = function () {
                                function e(t) {
                                    (0,
                                        o.default)(this, e),
                                        this.source = t,
                                        this.maxLen = t.length,
                                        this.pos = -1
                                }
                                return (0,
                                    a.default)(e, [{
                                        key: "hasNext",
                                        value: function () {
                                            return this.pos < this.maxLen - 1
                                        }
                                    }, {
                                        key: "getPrevValue",
                                        value: function () {
                                            return this.source[this.pos - 1]
                                        }
                                    }, {
                                        key: "getCurrentValue",
                                        value: function () {
                                            return this.val
                                        }
                                    }, {
                                        key: "next",
                                        value: function () {
                                            return this.val = this.source[++this.pos],
                                            {
                                                value: this.val,
                                                done: !this.hasNext()
                                            }
                                        }
                                    }, {
                                        key: "loop",
                                        value: function (e) {
                                            for (var t = ""; !this.next().done && e(this.val, this.pos);)
                                                t += this.val;
                                            return t
                                        }
                                    }]),
                                    e
                            }();
                        function m(e, t) {
                            var n = e.getCurrentValue();
                            return "@" === n ? function (e) {
                                var t = {
                                    type: "pattern"
                                };
                                t.name = e.loop((function (e) {
                                    return "{" !== e
                                }
                                ));
                                var n = [];
                                return e.loop((function () {
                                    var t = m(e, ",");
                                    return l.isPlainObject(t) && n.push(t),
                                        "}" !== e.getCurrentValue() || (e.next(),
                                            !1)
                                }
                                )),
                                    t.args = n,
                                    t
                            }(e) : "'" === n ? {
                                type: "const",
                                content: e.loop((function (t) {
                                    return !("\\" !== e.getPrevValue() && "'" === t)
                                }
                                ))
                            } : /[\w\d_\-\.]/.test(n) ? {
                                type: "const",
                                content: n + e.loop((function (e) {
                                    return e && !/[\s\}]/.test(e) && e !== t
                                }
                                ))
                            } : void 0
                        }
                        t.default = function (e, t) {
                            var n, r = t._tplId, i = t._tplName, o = p.get(i + e), a = f.get(r) || t.data;
                            if (!o) {
                                o = [];
                                var s = new g(e);
                                try {
                                    s.loop((function () {
                                        var e = m(s, ";");
                                        return l.isPlainObject(e) && o.push(e),
                                            !0
                                    }
                                    ))
                                } catch (t) {
                                    l.log.error(t, {
                                        type: u.ERROR_DATA_PARSER_GEN_AST,
                                        templateId: r,
                                        parser: e
                                    })
                                }
                                p.set(i + e, o)
                            }
                            try {
                                o.some((function (e) {
                                    return n = function e(t, n, r) {
                                        var i = t.name
                                            , o = t.type;
                                        if ("const" === o) {
                                            var a = /\\(.)/g;
                                            return a.test(t.content) && (t.content = t.content.replace(a, "$1")),
                                                t.content
                                        }
                                        if ("pattern" === o) {
                                            var s = (0,
                                                c.getDataParser)(i);
                                            if (s) {
                                                var d = t.args.map((function (t) {
                                                    return e(t, n, r)
                                                }
                                                ));
                                                return s.call(r.context, d, n, r)
                                            }
                                            l.log.error("Can't find the given pattern [".concat(i, "], make sure you register it before use"), {
                                                type: u.ERROR_PARSER_404,
                                                templateName: r._tplName,
                                                parser: i
                                            })
                                        }
                                    }(e, a, t)
                                }
                                ))
                            } catch (t) {
                                l.log.error(t, {
                                    type: u.ERROR_DATA_PARSER_PARSE,
                                    templateName: i,
                                    parser: e
                                })
                            }
                            return n
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.getLocalImage = function (e) {
                                return o.get(e)
                            }
                            ,
                            t.setLocalImage = function (e) {
                                (0,
                                    i.mapValue)(e, (function (e, t) {
                                        o.set(t, e)
                                    }
                                    ))
                            }
                            ;
                        var i = n(2)
                            , o = (0,
                                r(n(4)).default)("local-image")
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.setDriver = t.render = t.driver = void 0;
                        var o = r(n(8))
                            , a = n(10)
                            , s = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = l(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(42));
                        function l(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (l = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function u(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function c(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? u(Object(n), !0).forEach((function (t) {
                                    (0,
                                        o.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : u(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        var d = {
                            findDOMNode: s.findDOMNode,
                            cloneElement: a.cloneElement,
                            renderDriver: null
                        };
                        t.driver = d,
                            t.setDriver = function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                                try {
                                    t.driver = d = c(c({}, d), e)
                                } catch (e) {
                                    throw e
                                }
                            }
                            ,
                            t.render = function (e, t, n, r) {
                                d.renderDriver ? (n ? n.driver = d.renderDriver : n = {
                                    driver: d.renderDriver
                                },
                                    s.render(e, t, n, r)) : s.render.apply(this, arguments)
                            }
                    }
                    , function (e, n) {
                        e.exports = t
                    }
                ])
            }
            ,
            e.exports = r(n(0), n(20))
    }
    , function (e, t, n) {
        (function (e) {
            var r = Object.getOwnPropertyDescriptors || function (e) {
                for (var t = Object.keys(e), n = {}, r = 0; r < t.length; r++)
                    n[t[r]] = Object.getOwnPropertyDescriptor(e, t[r]);
                return n
            }
                , i = /%[sdj%]/g;
            t.format = function (e) {
                if (!v(e)) {
                    for (var t = [], n = 0; n < arguments.length; n++)
                        t.push(s(arguments[n]));
                    return t.join(" ")
                }
                n = 1;
                for (var r = arguments, o = r.length, a = String(e).replace(i, (function (e) {
                    if ("%%" === e)
                        return "%";
                    if (n >= o)
                        return e;
                    switch (e) {
                        case "%s":
                            return String(r[n++]);
                        case "%d":
                            return Number(r[n++]);
                        case "%j":
                            try {
                                return JSON.stringify(r[n++])
                            } catch (e) {
                                return "[Circular]"
                            }
                        default:
                            return e
                    }
                }
                )), l = r[n]; n < o; l = r[++n])
                    m(l) || !_(l) ? a += " " + l : a += " " + s(l);
                return a
            }
                ,
                t.deprecate = function (n, r) {
                    if (void 0 !== e && !0 === e.noDeprecation)
                        return n;
                    if (void 0 === e)
                        return function () {
                            return t.deprecate(n, r).apply(this, arguments)
                        }
                            ;
                    var i = !1;
                    return function () {
                        if (!i) {
                            if (e.throwDeprecation)
                                throw new Error(r);
                            e.traceDeprecation ? console.trace(r) : console.error(r),
                                i = !0
                        }
                        return n.apply(this, arguments)
                    }
                }
                ;
            var o, a = {};
            function s(e, n) {
                var r = {
                    seen: [],
                    stylize: u
                };
                return arguments.length >= 3 && (r.depth = arguments[2]),
                    arguments.length >= 4 && (r.colors = arguments[3]),
                    g(n) ? r.showHidden = n : n && t._extend(r, n),
                    y(r.showHidden) && (r.showHidden = !1),
                    y(r.depth) && (r.depth = 2),
                    y(r.colors) && (r.colors = !1),
                    y(r.customInspect) && (r.customInspect = !0),
                    r.colors && (r.stylize = l),
                    c(r, e, r.depth)
            }
            function l(e, t) {
                var n = s.styles[t];
                return n ? "[" + s.colors[n][0] + "m" + e + "[" + s.colors[n][1] + "m" : e
            }
            function u(e, t) {
                return e
            }
            function c(e, n, r) {
                if (e.customInspect && n && O(n.inspect) && n.inspect !== t.inspect && (!n.constructor || n.constructor.prototype !== n)) {
                    var i = n.inspect(r, e);
                    return v(i) || (i = c(e, i, r)),
                        i
                }
                var o = function (e, t) {
                    if (y(t))
                        return e.stylize("undefined", "undefined");
                    if (v(t)) {
                        var n = "'" + JSON.stringify(t).replace(/^"|"$/g, "").replace(/'/g, "\\'").replace(/\\"/g, '"') + "'";
                        return e.stylize(n, "string")
                    }
                    if (h(t))
                        return e.stylize("" + t, "number");
                    if (g(t))
                        return e.stylize("" + t, "boolean");
                    if (m(t))
                        return e.stylize("null", "null")
                }(e, n);
                if (o)
                    return o;
                var a = Object.keys(n)
                    , s = function (e) {
                        var t = {};
                        return e.forEach((function (e, n) {
                            t[e] = !0
                        }
                        )),
                            t
                    }(a);
                if (e.showHidden && (a = Object.getOwnPropertyNames(n)),
                    x(n) && (a.indexOf("message") >= 0 || a.indexOf("description") >= 0))
                    return d(n);
                if (0 === a.length) {
                    if (O(n)) {
                        var l = n.name ? ": " + n.name : "";
                        return e.stylize("[Function" + l + "]", "special")
                    }
                    if (b(n))
                        return e.stylize(RegExp.prototype.toString.call(n), "regexp");
                    if (w(n))
                        return e.stylize(Date.prototype.toString.call(n), "date");
                    if (x(n))
                        return d(n)
                }
                var u, _ = "", S = !1, M = ["{", "}"];
                (p(n) && (S = !0,
                    M = ["[", "]"]),
                    O(n)) && (_ = " [Function" + (n.name ? ": " + n.name : "") + "]");
                return b(n) && (_ = " " + RegExp.prototype.toString.call(n)),
                    w(n) && (_ = " " + Date.prototype.toUTCString.call(n)),
                    x(n) && (_ = " " + d(n)),
                    0 !== a.length || S && 0 != n.length ? r < 0 ? b(n) ? e.stylize(RegExp.prototype.toString.call(n), "regexp") : e.stylize("[Object]", "special") : (e.seen.push(n),
                        u = S ? function (e, t, n, r, i) {
                            for (var o = [], a = 0, s = t.length; a < s; ++a)
                                k(t, String(a)) ? o.push(f(e, t, n, r, String(a), !0)) : o.push("");
                            return i.forEach((function (i) {
                                i.match(/^\d+$/) || o.push(f(e, t, n, r, i, !0))
                            }
                            )),
                                o
                        }(e, n, r, s, a) : a.map((function (t) {
                            return f(e, n, r, s, t, S)
                        }
                        )),
                        e.seen.pop(),
                        function (e, t, n) {
                            if (e.reduce((function (e, t) {
                                return t.indexOf("\n") >= 0 && 0,
                                    e + t.replace(/\u001b\[\d\d?m/g, "").length + 1
                            }
                            ), 0) > 60)
                                return n[0] + ("" === t ? "" : t + "\n ") + " " + e.join(",\n  ") + " " + n[1];
                            return n[0] + t + " " + e.join(", ") + " " + n[1]
                        }(u, _, M)) : M[0] + _ + M[1]
            }
            function d(e) {
                return "[" + Error.prototype.toString.call(e) + "]"
            }
            function f(e, t, n, r, i, o) {
                var a, s, l;
                if ((l = Object.getOwnPropertyDescriptor(t, i) || {
                    value: t[i]
                }).get ? s = l.set ? e.stylize("[Getter/Setter]", "special") : e.stylize("[Getter]", "special") : l.set && (s = e.stylize("[Setter]", "special")),
                    k(r, i) || (a = "[" + i + "]"),
                    s || (e.seen.indexOf(l.value) < 0 ? (s = m(n) ? c(e, l.value, null) : c(e, l.value, n - 1)).indexOf("\n") > -1 && (s = o ? s.split("\n").map((function (e) {
                        return "  " + e
                    }
                    )).join("\n").substr(2) : "\n" + s.split("\n").map((function (e) {
                        return "   " + e
                    }
                    )).join("\n")) : s = e.stylize("[Circular]", "special")),
                    y(a)) {
                    if (o && i.match(/^\d+$/))
                        return s;
                    (a = JSON.stringify("" + i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/) ? (a = a.substr(1, a.length - 2),
                        a = e.stylize(a, "name")) : (a = a.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'"),
                            a = e.stylize(a, "string"))
                }
                return a + ": " + s
            }
            function p(e) {
                return Array.isArray(e)
            }
            function g(e) {
                return "boolean" == typeof e
            }
            function m(e) {
                return null === e
            }
            function h(e) {
                return "number" == typeof e
            }
            function v(e) {
                return "string" == typeof e
            }
            function y(e) {
                return void 0 === e
            }
            function b(e) {
                return _(e) && "[object RegExp]" === S(e)
            }
            function _(e) {
                return "object" == typeof e && null !== e
            }
            function w(e) {
                return _(e) && "[object Date]" === S(e)
            }
            function x(e) {
                return _(e) && ("[object Error]" === S(e) || e instanceof Error)
            }
            function O(e) {
                return "function" == typeof e
            }
            function S(e) {
                return Object.prototype.toString.call(e)
            }
            function M(e) {
                return e < 10 ? "0" + e.toString(10) : e.toString(10)
            }
            t.debuglog = function (n) {
                if (y(o) && (o = e.env.NODE_DEBUG || ""),
                    n = n.toUpperCase(),
                    !a[n])
                    if (new RegExp("\\b" + n + "\\b", "i").test(o)) {
                        var r = e.pid;
                        a[n] = function () {
                            var e = t.format.apply(t, arguments);
                            console.error("%s %d: %s", n, r, e)
                        }
                    } else
                        a[n] = function () { }
                            ;
                return a[n]
            }
                ,
                t.inspect = s,
                s.colors = {
                    bold: [1, 22],
                    italic: [3, 23],
                    underline: [4, 24],
                    inverse: [7, 27],
                    white: [37, 39],
                    grey: [90, 39],
                    black: [30, 39],
                    blue: [34, 39],
                    cyan: [36, 39],
                    green: [32, 39],
                    magenta: [35, 39],
                    red: [31, 39],
                    yellow: [33, 39]
                },
                s.styles = {
                    special: "cyan",
                    number: "yellow",
                    boolean: "yellow",
                    undefined: "grey",
                    null: "bold",
                    string: "green",
                    date: "magenta",
                    regexp: "red"
                },
                t.isArray = p,
                t.isBoolean = g,
                t.isNull = m,
                t.isNullOrUndefined = function (e) {
                    return null == e
                }
                ,
                t.isNumber = h,
                t.isString = v,
                t.isSymbol = function (e) {
                    return "symbol" == typeof e
                }
                ,
                t.isUndefined = y,
                t.isRegExp = b,
                t.isObject = _,
                t.isDate = w,
                t.isError = x,
                t.isFunction = O,
                t.isPrimitive = function (e) {
                    return null === e || "boolean" == typeof e || "number" == typeof e || "string" == typeof e || "symbol" == typeof e || void 0 === e
                }
                ,
                t.isBuffer = n(87);
            var P = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
            function E() {
                var e = new Date
                    , t = [M(e.getHours()), M(e.getMinutes()), M(e.getSeconds())].join(":");
                return [e.getDate(), P[e.getMonth()], t].join(" ")
            }
            function k(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t)
            }
            t.log = function () {
                console.log("%s - %s", E(), t.format.apply(t, arguments))
            }
                ,
                t.inherits = n(88),
                t._extend = function (e, t) {
                    if (!t || !_(t))
                        return e;
                    for (var n = Object.keys(t), r = n.length; r--;)
                        e[n[r]] = t[n[r]];
                    return e
                }
                ;
            var I = "undefined" != typeof Symbol ? Symbol("util.promisify.custom") : void 0;
            function C(e, t) {
                if (!e) {
                    var n = new Error("Promise was rejected with a falsy value");
                    n.reason = e,
                        e = n
                }
                return t(e)
            }
            t.promisify = function (e) {
                if ("function" != typeof e)
                    throw new TypeError('The "original" argument must be of type Function');
                if (I && e[I]) {
                    var t;
                    if ("function" != typeof (t = e[I]))
                        throw new TypeError('The "util.promisify.custom" argument must be of type Function');
                    return Object.defineProperty(t, I, {
                        value: t,
                        enumerable: !1,
                        writable: !1,
                        configurable: !0
                    }),
                        t
                }
                function t() {
                    for (var t, n, r = new Promise((function (e, r) {
                        t = e,
                            n = r
                    }
                    )), i = [], o = 0; o < arguments.length; o++)
                        i.push(arguments[o]);
                    i.push((function (e, r) {
                        e ? n(e) : t(r)
                    }
                    ));
                    try {
                        e.apply(this, i)
                    } catch (e) {
                        n(e)
                    }
                    return r
                }
                return Object.setPrototypeOf(t, Object.getPrototypeOf(e)),
                    I && Object.defineProperty(t, I, {
                        value: t,
                        enumerable: !1,
                        writable: !1,
                        configurable: !0
                    }),
                    Object.defineProperties(t, r(e))
            }
                ,
                t.promisify.custom = I,
                t.callbackify = function (t) {
                    if ("function" != typeof t)
                        throw new TypeError('The "original" argument must be of type Function');
                    function n() {
                        for (var n = [], r = 0; r < arguments.length; r++)
                            n.push(arguments[r]);
                        var i = n.pop();
                        if ("function" != typeof i)
                            throw new TypeError("The last argument must be of type Function");
                        var o = this
                            , a = function () {
                                return i.apply(o, arguments)
                            };
                        t.apply(this, n).then((function (t) {
                            e.nextTick(a, null, t)
                        }
                        ), (function (t) {
                            e.nextTick(C, t, a)
                        }
                        ))
                    }
                    return Object.setPrototypeOf(n, Object.getPrototypeOf(t)),
                        Object.defineProperties(n, r(t)),
                        n
                }
        }
        ).call(this, n(17))
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.ConversationState = void 0,
            function (e) {
                e.closed = "closed",
                    e.open = "open"
            }(t.ConversationState || (t.ConversationState = {}))
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        f.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "LinkMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t = "unknown", n = this.props.jsviewValue.url;
                        switch (this.props.jsviewValue.safe) {
                            case "UN_KNOWN":
                                t = "unknown",
                                    e = 0;
                                break;
                            case "SAFE":
                                t = "safe",
                                    e = 1;
                                break;
                            case "NOT_SAFE":
                                t = "danger",
                                    e = 2
                        }
                        return c.createElement("a", {
                            className: "imui-msg-link " + t + "-link",
                            href: n,
                            target: "_blank",
                            "data-safeflag": e
                        }, c.createElement("i", {
                            className: "link-sf"
                        }), n)
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = n(4)
            , p = c(n(5))
            , g = c(n(1))
            , m = n(10)
            , h = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.handleCardClick = function () {
                        try {
                            window && window.tracker && window.tracker.log({
                                code: 22,
                                msg: "商品卡片点击",
                                sampleRate: 1,
                                c1: "商品卡片点击",
                                c2: this.props.jsviewValue.url
                            })
                        } catch (e) {
                            console.log(e)
                        }
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t = this.props.jsviewValue.url, n = this.props.jsviewValue.html, r = p.default(this.props, "jsviewValue.urlinfo");
                        switch (this.props.jsviewValue.safe) {
                            case "UN_KNOWN":
                                e = "unknown-link";
                                break;
                            case "SAFE":
                                e = "safe-link";
                                break;
                            case "NOT_SAFE":
                                e = "danger-link"
                        }
                        if ("string" != typeof r)
                            return d.createElement(d.Fragment, null, d.createElement("a", {
                                className: "imui-msg-link " + e,
                                href: t,
                                target: "_blank"
                            }, d.createElement("i", {
                                className: "link-sf"
                            }), t), d.createElement("div", {
                                onClick: this.handleCardClick.bind(this),
                                className: "item-snapshot-wrap",
                                dangerouslySetInnerHTML: {
                                    __html: n
                                }
                            }));
                        try {
                            var i = JSON.parse(r)
                                , a = p.default(i, "title", "")
                                , s = p.default(i, "imageUrl", "")
                                , l = p.default(i, "price", "")
                                , u = p.default(i, "originalPrice", "")
                                , c = p.default(i, "sales", "")
                                , f = (p.default(i, "shopName", ""),
                                    g.default.SDK)
                                , h = this.props.isBubble;
                            return d.createElement("div", o({
                                onClick: this.handleCardClick.bind(this),
                                className: "item-snapshot-wrap item-wrapper",
                                style: {
                                    marginTop: h ? "-4px" : "",
                                    marginLeft: h ? "-12px" : "",
                                    marginRight: h ? "-10px" : "",
                                    marginBottom: h ? "-4px" : ""
                                }
                            }, m.getTabIndex(), {
                                "aria-roledescription": "商品卡片",
                                onKeyUp: function (e) {
                                    13 === e.keyCode && g.default.SDK.openUrl({
                                        url: t
                                    })
                                }
                            }), d.createElement("div", {
                                className: "item-center",
                                onClick: function () {
                                    g.default.SDK.openUrl({
                                        url: t
                                    })
                                }
                            }, d.createElement("img", {
                                src: s,
                                className: "item-pic",
                                alt: ""
                            }), d.createElement("div", {
                                className: "item-right"
                            }, d.createElement("span", {
                                className: "item-pro-title"
                            }, a), d.createElement("span", {
                                className: "item-pro-sale"
                            }, "月销", c), d.createElement("div", {
                                className: "item-pro-price"
                            }, "¥", l, u ? d.createElement("span", {
                                className: "item-pro-oriprice"
                            }, "¥", u) : null))), d.createElement("div", {
                                className: "item-pro-shop"
                            }, d.createElement("span", {
                                className: "item-shop-url",
                                onClick: function () {
                                    g.default.SDK.openUrl({
                                        url: t
                                    })
                                }
                            }, t), d.createElement("a", {
                                onClick: function () {
                                    f.copy2({
                                        content: t
                                    })
                                },
                                onFocus: function () {
                                    f.copy2({
                                        content: t
                                    })
                                },
                                onMouseDown: function () {
                                    f.copy2({
                                        content: t
                                    })
                                }
                            }, d.createElement("img", {
                                src: "//gw.alicdn.com/imgextra/i4/O1CN0189VBKJ1VvyP92P9vt_!!6000000002716-2-tps-26-22.png",
                                className: "item-shop-icon"
                            }))))
                        } catch (e) { }
                    }
                    ,
                    t = l([f.observer], t)
            }(d.Component);
        t.default = h
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var u = l(n(0))
            , c = n(10)
            , d = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e, t = this.props.jsviewValue.pic, n = null === (e = this.props.jsviewValue) || void 0 === e ? void 0 : e.shortcut;
                        return u.createElement("img", o({
                            src: t,
                            className: "J_imImage imui-msg-img imui-msg-emoji emotion-image",
                            "aria-label": n
                        }, c.getTabIndex(), {
                            "aria-roledescription": "表情"
                        }))
                    }
                    ,
                    t
            }(u.Component);
        t.default = d
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(1))
            , p = n(4)
            , g = c(n(5))
            , m = c(n(191))
            , h = n(10)
            , v = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.onImageError = function (e, t) {
                        console.error("图片下载失败", e, t),
                            m.default.record("/qnmsg.chat_list.img_loaderr", "CLK", "url=" + JSON.stringify(e) + "&msg=" + JSON.stringify(e), "GET")
                    }
                    ,
                    t.prototype.onImageDblClick = function (e) {
                        var t = this.props.msg
                            , n = g.default(t, "messageId")
                            , r = g.default(t, "conversationId");
                        f.default.SDK.setBubbleMenu({
                            type: 1,
                            request: {
                                filePath: e,
                                messageID: n,
                                cid: r
                            }
                        })
                    }
                    ,
                    t.prototype.onImageLoad = function () { }
                    ,
                    t.prototype.render = function () {
                        var e = this
                            , t = this.props.msg
                            , n = t.content.jsview || []
                            , r = g.default(t, "messageId")
                            , i = n[0] ? n[0].value.pic || n[0].value.url : "";
                        return i = this.props.src ? this.props.src : i,
                            d.createElement("img", o({
                                style: {
                                    border: "1px solid #DEE1E6"
                                },
                                src: i,
                                "data-md5": t.content.fileId && t.content.fileId.slice(0, t.content.fileId.lastIndexOf(".")),
                                "data-msgid": r,
                                "data-type": t.content.suffix,
                                className: "J_imImage imui-msg-img",
                                onDoubleClick: this.onImageDblClick.bind(this, i),
                                onLoad: this.onImageLoad,
                                onError: function (t) {
                                    return e.onImageError(t, e.props.msg)
                                },
                                role: "main",
                                "aria-label": "图片消息"
                            }, h.getTabIndex(), {
                                onKeyUp: function (t) {
                                    13 === t.keyCode && e.onImageDblClick(i)
                                }
                            }))
                    }
                    ,
                    t = l([p.observer], t)
            }(d.Component);
        t.default = v
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__assign || function () {
            return (r = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , i = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            )
            , o = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , a = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && i(t, e, n);
                return o(t, e),
                    t
            }
            , s = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.loopMergeSubData = t.isObject = t.removePropPrefix = t.FN_INVOKE_MAP = t.simpleOpenUrl = t.openUrl = t.buildBubbleEvent = t.registerEvent = t.removeDxEvent = t.addDxEvent = t.getFn = t.addFn = void 0;
        var l = s(n(1))
            , u = a(n(25))
            , c = s(n(5))
            , d = s(n(21))
            , f = s(n(35))
            , p = s(n(5))
            , g = s(n(2))
            , m = new f.default({
                max: 100,
                maxAge: 36e5
            });
        u.utils.env.deviceWidth = 375;
        var h = window.imsdk.invoke
            , v = {
                mpTap: {},
                mpLTap: {}
            }
            , y = "on_click_event";
        function b(e) {
            var t;
            try {
                t = new URL(e)
            } catch (e) {
                return !1
            }
            return "http:" === t.protocol || "https:" === t.protocol
        }
        t.addFn = function (e, t) {
            m.set(e, t)
        }
            ,
            t.getFn = function (e) {
                return m.get(e)
            }
            ,
            window.dxEventMap = v,
            t.addDxEvent = function (e, t, n) {
                var r;
                console.log("getDx----注入Event event", e),
                    console.log("getDx----注入Event name", t),
                    console.log("getDx----注入Event fn", n),
                    v[e] ? v[e][t] = n : v[e] = ((r = {})[t] = n,
                        r),
                    console.log("getDx----注入Event111", v)
            }
            ,
            t.removeDxEvent = function (e, t) {
                var n = v[e];
                n && (n[t] = null)
            }
            ,
            t.registerEvent = function () {
                u.registerEventHandler("mpTap", (function () {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    var n = e[2]._tplId
                        , r = v.mpTap[n];
                    console.log("getDx-----111mpTap", n, e),
                        console.log("getDX fn getdx", r),
                        r && r(e)
                }
                )),
                    u.registerEventHandler("mpLTap", (function () {
                        for (var e = [], t = 0; t < arguments.length; t++)
                            e[t] = arguments[t];
                        var n = e[2]._tplId
                            , r = v.mpLTap[n];
                        r && r(e)
                    }
                    )),
                    u.registerDataParser("mpUrlEncode", (function (e) {
                        try {
                            return e && 1 === e.length ? encodeURI(e[0]) : null
                        } catch (e) {
                            return null
                        }
                    }
                    )),
                    u.registerDataParser("relationOp", (function (e) {
                        try {
                            if (e.length < 3)
                                return null;
                            var t = e[0]
                                , n = e[1]
                                , r = e[2];
                            return t.length < 1 || n.length < 1 || r.length < 1 ? null : "==" === t ? Number(n) === Number(r) : "!=" === t ? Number(n) !== Number(r) : ">" === t ? Number(n) > Number(r) : "<" === t ? Number(n) < Number(r) : ">=" === t ? Number(n) >= Number(r) : "<=" === t ? Number(n) <= Number(r) : null
                        } catch (e) {
                            return null
                        }
                    }
                    )),
                    u.registerDataParser("strToBool", (function (e) {
                        try {
                            return 1 !== e.length ? null : !!e
                        } catch (e) {
                            return null
                        }
                    }
                    )),
                    u.registerDataParser("mpCurrentTimestamp", (function (e) {
                        return (new Date).getTime()
                    }
                    )),
                    u.registerDataParser("colorMap", (function (e) {
                        if (null == e || e.length < 2 || e.length % 2 == 1)
                            return null;
                        for (var t = new Map, n = e.length, r = 0; r < n / 2; r++) {
                            if ("string" != typeof e[2 * r] || "string" != typeof e[2 * r + 1])
                                return null;
                            t.set(e[2 * r], e[2 * r + 1])
                        }
                        return t
                    }
                    )),
                    u.registerDataParser("mpSplitAndGetSubString", (function (e) {
                        try {
                            if (e.length < 3)
                                return null;
                            var t = e[0]
                                , n = e[1]
                                , r = e[2];
                            return t ? t.split(n)[r] : null
                        } catch (e) {
                            return null
                        }
                    }
                    )),
                    u.registerDataParser("tsKV", (function (e) {
                        try {
                            if (null === e || 0 == e.length || e.length % 2 != 0)
                                return null;
                            for (var t = new Map, n = 0; n < e.length; n += 2)
                                t.set(e[n], e[n + 1]);
                            return t
                        } catch (e) {
                            return null
                        }
                    }
                    ))
            }
            ,
            t.buildBubbleEvent = function (e) {
                var t = e.parsedMessage
                    , n = e.eventType
                    , i = e.layout
                    , o = e.args
                    , a = (e.isGroup,
                        c.default(t, "originData.toid.targetId") + "_" + t.targetType)
                    , s = t.originBanamaMessage.templateId
                    , u = s;
                503 === s && (u = p.default(t, "content.template.data.body.tempId", s));
                var d = {};
                Array.isArray(o) && o.length > 1 && (d = o[1]);
                var f = {
                    uniqueKey: t.messageId + t.conversationId,
                    eventType: n,
                    eventCurrentTS: (new Date).getTime(),
                    eventPreviousTS: (new Date).getTime(),
                    jsSDKVersion: "5",
                    data: {
                        template: {
                            name: i.name,
                            version: i.version,
                            url: i.url
                        },
                        item: r({
                            env: {
                                OS: "pc",
                                dinamicxSDKVersion: "5"
                            },
                            props: {},
                            message: t.originBanamaMessage
                        }, d)
                    },
                    params: {
                        props: {
                            bizType: l.default.conversationID.bizeType,
                            targetId: l.default.conversationID.targetId,
                            identifier: a
                        },
                        message: {
                            msgType: u
                        },
                        args: o[0],
                        event: {},
                        MSG$Env: {
                            id: t.messageId,
                            senderNick: t.fromNick,
                            pageName: "",
                            senderId: t.originBanamaMessage.fromid.targetId,
                            version: "4",
                            sendNick: t.fromNick,
                            code: t.messageId,
                            identifier: a,
                            dataSourceType: "im_cc",
                            ccode: t.conversationId,
                            targetType: window._vs.conversationID.targetType,
                            bizType: window._vs.conversationID.bizeType,
                            sendId: t.originBanamaMessage.fromid.targetId,
                            userId: t.originBanamaMessage.loginid.targetId,
                            targetId: window._vs.conversationID.targetId
                        }
                    }
                }
                    , g = Promise.resolve(null)
                    , m = {
                        cid: l.default.conversationID,
                        mcodes: [{
                            messageId: t.messageId,
                            clientId: t.clientId
                        }]
                    };
                return g = "group" === l.default.chatType ? l.default.SDK.getOriginalGroupMsgById(m) : "imba" === l.default.chatType ? l.default.SDK.getOriginalImbaMsgByID(m) : l.default.SDK.getOriginalSingleMsgByID(m),
                    new Promise((function (e, t) {
                        g.then((function (n) {
                            Array.isArray(n) && n.length > 0 ? (f.params.message = n[0],
                                f.params.message.msgType = u,
                                e(f)) : t("getOriginalMsgById接口异常")
                        }
                        ))
                    }
                    ))
            }
            ,
            t.openUrl = function (e) {
                if (e)
                    if ("string" == typeof e)
                        if (b(e = decodeURIComponent(e)))
                            l.default.SDK.openUrl({
                                url: e
                            });
                        else {
                            var t;
                            if (e.startsWith("//"))
                                if (b(t = "http:" + e))
                                    return void l.default.SDK.openUrl({
                                        url: t
                                    });
                            if (!e.startsWith("wangx://"))
                                if (b(t = "http://" + e))
                                    return void l.default.SDK.openUrl({
                                        url: t
                                    });
                            l.default.SDK.doWXAction({
                                wangxurl: e,
                                actionrect: {
                                    let: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cardrect: {
                                    left: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cid: {
                                    ccode: g.default.getccode(l.default.conversationID)
                                }
                            })
                        }
                    else
                        console.warn("url为非法字符串", e)
            }
            ,
            t.simpleOpenUrl = function (e) {
                if (e)
                    if (e.startsWith("//")) {
                        var t = "http:" + e;
                        if (b(t))
                            return void l.default.SDK.openUrl({
                                url: t
                            })
                    } else
                        l.default.SDK.openUrl({
                            url: e
                        })
            }
            ,
            t.FN_INVOKE_MAP = {
                "wx.modal.toast": function (e, t, n, r) {
                    console.log("getDx--------wv.modal.toast", e.data),
                        d.default.show(e.data.message, e.data.duration ? 1e3 * e.data.duration : 2e3)
                },
                "wv.WVUIToast.toast": function (e, t, n, r) {
                    console.log("getDx--------wv.WVUIToast.toast", e.data),
                        d.default.show(e.data.message, e.data.duration ? 1e3 * e.data.duration : 2e3)
                },
                "wx.event.openURL": function (e) {
                    console.log("getDx------wx.event.openUrl", e.data),
                        t.simpleOpenUrl(e.data.url)
                },
                updateMsg: function (e, t, n, r) {
                    h("im.bizutil.SetDXContent", e.data).then((function (e) {
                        return t && t(e)
                    }
                    )).catch((function (e) {
                        return n && n(e)
                    }
                    )).finally((function () {
                        return r && r()
                    }
                    ))
                },
                "wx.userTrack.commitut": function (e, t, n, r) {
                    h("im.bizutil.Commitut", e.data).then((function (e) {
                        return t && t(e)
                    }
                    )).catch((function (e) {
                        return n && n(e)
                    }
                    )).finally((function () {
                        return r && r()
                    }
                    ))
                },
                "wx.userTrack.pageAppear": function (e, t, n, r) {
                    h("im.bizutil.PageAppear", e.data).then((function (e) {
                        return t && t(e)
                    }
                    )).catch((function (e) {
                        return n && n(e)
                    }
                    )).finally((function () {
                        return r && r()
                    }
                    ))
                },
                "wx.mtop.request": function (e, t, n, r) {
                    var i = e.data
                        , o = i.api
                        , a = i.v
                        , s = i.data;
                    console.log("发送请求", o),
                        window.QN.app.invoke({
                            api: "invokeMTopChannelService",
                            query: {
                                method: o,
                                version: a || "1.0",
                                param: JSON.stringify(s),
                                httpMethod: "get"
                            }
                        }).then((function (e) {
                            console.log("请求成功", e),
                                t && t({
                                    type: "next",
                                    data: {
                                        data: e.data
                                    }
                                })
                        }
                        )).catch((function (e) {
                            console.warn("请求失败", e),
                                n && n(e)
                        }
                        ))
                },
                "componentAPI.dinamicx.callNative": function (e) {
                    if (p.default(e, "data.data.eventType") === y) {
                        var n = p.default(e, "data.data.isEventHandled");
                        if ("boolean" == typeof n && n)
                            return;
                        var r = p.default(e, "data.data.params.args");
                        if (!Array.isArray(r) || r.length < 1)
                            return;
                        var i = r[1] || "";
                        if (!i)
                            return;
                        t.openUrl(i)
                    }
                }
            },
            t.removePropPrefix = function (e) {
                if (/^[d][A-Z]/.test(e)) {
                    var t = e.slice(1);
                    e = t[0].toLowerCase() + t.slice(1)
                }
                return e
            }
            ,
            t.isObject = function (e) {
                return "object" == typeof e
            }
            ,
            t.loopMergeSubData = function e(n, i, o, a) {
                var s = this;
                if (n) {
                    var l = this.props._tplId
                        , c = (this.props._tplName,
                            this.props._tplContext)
                        , d = n.props
                        , f = r(r({
                            key: d._id + "-" + o
                        }, d), {
                            _parent_subdata: i
                        })
                        , p = f._id = "cc" + ++c.componentIdSeq
                        , g = d._originProps;
                    for (var m in g) {
                        var h = g[m]
                            , v = t.removePropPrefix(m)
                            , y = {
                                data: i,
                                parentSubdata: this.props._parent_subdata,
                                _tplId: l,
                                _tplName: d._tplName,
                                _tplContext: d._tplContext,
                                _viewName: d._viewName,
                                _originProps: d._originProps
                            };
                        "on" === v.slice(0, 2) ? f[v] = u.eventHandlerParser(h, y) : f[v] = u.dataParser(h, y)
                    }
                    c.componentIndexSet.push({
                        id: p,
                        props: f,
                        pid: a
                    });
                    var b = d.children;
                    return b && (Array.isArray(b) ? b = b.map((function (t) {
                        return e.call(s, t, i, o, p)
                    }
                    )) : t.isObject(b) && (b = e.call(this, b, i, o, p))),
                        u.driver.cloneElement(n, f, b)
                }
            }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(1))
            , p = u(n(6))
            , g = u(n(45))
            , m = u(n(5))
            , h = n(13)
            , v = function (e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return n.state = {
                        loading: !1,
                        layoutType: null,
                        layoutOriginData: {}
                    },
                        n
                }
                return i(t, e),
                    t.prototype.componentDidMount = function () {
                        var e = this
                            , t = this.props
                            , n = t.msg
                            , r = t.type
                            , i = n.templateId;
                        n.content;
                        this.setState({
                            loading: !0
                        }),
                            "template" === r && (i = m.default(n, "content.template.data.body.tempId")),
                            f.default.dxCountStore.set(n.messageId + "", 0);
                        var o = f.default.dxContentStore.get(i + "");
                        h.renderPerf("begindx_" + f.default.dxCountStore.length),
                            o ? this.handleDxContent(o) : f.default.SDK.getDxContent(i).then((function (t) {
                                e.handleDxContent(t),
                                    f.default.dxContentStore.set(i + "", t)
                            }
                            )).catch((function (t) {
                                console.log("dxcontent error", t),
                                    e.setState({
                                        layoutType: null
                                    })
                            }
                            ))
                    }
                    ,
                    t.prototype.handleDxContent = function (e) {
                        if (e && "string" != typeof e) {
                            e.layoutData;
                            var t = e.layoutType;
                            e.renderAttrs;
                            "3" === t ? this.setState({
                                layoutType: "3",
                                layoutOriginData: e
                            }) : this.setState({
                                layoutType: null
                            })
                        } else
                            this.setState({
                                layoutType: null
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.state
                            , t = e.layoutType
                            , n = e.layoutOriginData
                            , r = this.props
                            , i = r.msg
                            , o = r.type;
                        if ("3" === t) {
                            var a = "template" === o ? m.default(i, "content.template.data.body.templateData") : i.content;
                            return c.createElement("div", null, c.createElement(g.default, {
                                layoutOriginData: n,
                                msg: i,
                                dxData: a,
                                type: o
                            }))
                        }
                        return c.createElement("div", {
                            className: "msg-body-html"
                        }, i.content.header && i.content.header.degrade && i.content.header.degrade.alternative || p.default.NOT_SUPPORT_MSG)
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = v
    }
    , , function (e, t, n) {
        "use strict";
        const r = n(64)
            , i = Symbol("max")
            , o = Symbol("length")
            , a = Symbol("lengthCalculator")
            , s = Symbol("allowStale")
            , l = Symbol("maxAge")
            , u = Symbol("dispose")
            , c = Symbol("noDisposeOnSet")
            , d = Symbol("lruList")
            , f = Symbol("cache")
            , p = Symbol("updateAgeOnGet")
            , g = () => 1;
        const m = (e, t, n) => {
            const r = e[f].get(t);
            if (r) {
                const t = r.value;
                if (h(e, t)) {
                    if (y(e, r),
                        !e[s])
                        return
                } else
                    n && (e[p] && (r.value.now = Date.now()),
                        e[d].unshiftNode(r));
                return t.value
            }
        }
            , h = (e, t) => {
                if (!t || !t.maxAge && !e[l])
                    return !1;
                const n = Date.now() - t.now;
                return t.maxAge ? n > t.maxAge : e[l] && n > e[l]
            }
            , v = e => {
                if (e[o] > e[i])
                    for (let t = e[d].tail; e[o] > e[i] && null !== t;) {
                        const n = t.prev;
                        y(e, t),
                            t = n
                    }
            }
            , y = (e, t) => {
                if (t) {
                    const n = t.value;
                    e[u] && e[u](n.key, n.value),
                        e[o] -= n.length,
                        e[f].delete(n.key),
                        e[d].removeNode(t)
                }
            }
            ;
        class b {
            constructor(e, t, n, r, i) {
                this.key = e,
                    this.value = t,
                    this.length = n,
                    this.now = r,
                    this.maxAge = i || 0
            }
        }
        const _ = (e, t, n, r) => {
            let i = n.value;
            h(e, i) && (y(e, n),
                e[s] || (i = void 0)),
                i && t.call(r, i.value, i.key, e)
        }
            ;
        e.exports = class {
            constructor(e) {
                if ("number" == typeof e && (e = {
                    max: e
                }),
                    e || (e = {}),
                    e.max && ("number" != typeof e.max || e.max < 0))
                    throw new TypeError("max must be a non-negative number");
                this[i] = e.max || 1 / 0;
                const t = e.length || g;
                if (this[a] = "function" != typeof t ? g : t,
                    this[s] = e.stale || !1,
                    e.maxAge && "number" != typeof e.maxAge)
                    throw new TypeError("maxAge must be a number");
                this[l] = e.maxAge || 0,
                    this[u] = e.dispose,
                    this[c] = e.noDisposeOnSet || !1,
                    this[p] = e.updateAgeOnGet || !1,
                    this.reset()
            }
            set max(e) {
                if ("number" != typeof e || e < 0)
                    throw new TypeError("max must be a non-negative number");
                this[i] = e || 1 / 0,
                    v(this)
            }
            get max() {
                return this[i]
            }
            set allowStale(e) {
                this[s] = !!e
            }
            get allowStale() {
                return this[s]
            }
            set maxAge(e) {
                if ("number" != typeof e)
                    throw new TypeError("maxAge must be a non-negative number");
                this[l] = e,
                    v(this)
            }
            get maxAge() {
                return this[l]
            }
            set lengthCalculator(e) {
                "function" != typeof e && (e = g),
                    e !== this[a] && (this[a] = e,
                        this[o] = 0,
                        this[d].forEach(e => {
                            e.length = this[a](e.value, e.key),
                                this[o] += e.length
                        }
                        )),
                    v(this)
            }
            get lengthCalculator() {
                return this[a]
            }
            get length() {
                return this[o]
            }
            get itemCount() {
                return this[d].length
            }
            rforEach(e, t) {
                t = t || this;
                for (let n = this[d].tail; null !== n;) {
                    const r = n.prev;
                    _(this, e, n, t),
                        n = r
                }
            }
            forEach(e, t) {
                t = t || this;
                for (let n = this[d].head; null !== n;) {
                    const r = n.next;
                    _(this, e, n, t),
                        n = r
                }
            }
            keys() {
                return this[d].toArray().map(e => e.key)
            }
            values() {
                return this[d].toArray().map(e => e.value)
            }
            reset() {
                this[u] && this[d] && this[d].length && this[d].forEach(e => this[u](e.key, e.value)),
                    this[f] = new Map,
                    this[d] = new r,
                    this[o] = 0
            }
            dump() {
                return this[d].map(e => !h(this, e) && {
                    k: e.key,
                    v: e.value,
                    e: e.now + (e.maxAge || 0)
                }).toArray().filter(e => e)
            }
            dumpLru() {
                return this[d]
            }
            set(e, t, n) {
                if ((n = n || this[l]) && "number" != typeof n)
                    throw new TypeError("maxAge must be a number");
                const r = n ? Date.now() : 0
                    , s = this[a](t, e);
                if (this[f].has(e)) {
                    if (s > this[i])
                        return y(this, this[f].get(e)),
                            !1;
                    const a = this[f].get(e).value;
                    return this[u] && (this[c] || this[u](e, a.value)),
                        a.now = r,
                        a.maxAge = n,
                        a.value = t,
                        this[o] += s - a.length,
                        a.length = s,
                        this.get(e),
                        v(this),
                        !0
                }
                const p = new b(e, t, s, r, n);
                return p.length > this[i] ? (this[u] && this[u](e, t),
                    !1) : (this[o] += p.length,
                        this[d].unshift(p),
                        this[f].set(e, this[d].head),
                        v(this),
                        !0)
            }
            has(e) {
                if (!this[f].has(e))
                    return !1;
                const t = this[f].get(e).value;
                return !h(this, t)
            }
            get(e) {
                return m(this, e, !0)
            }
            peek(e) {
                return m(this, e, !1)
            }
            pop() {
                const e = this[d].tail;
                return e ? (y(this, e),
                    e.value) : null
            }
            del(e) {
                y(this, this[f].get(e))
            }
            load(e) {
                this.reset();
                const t = Date.now();
                for (let n = e.length - 1; n >= 0; n--) {
                    const r = e[n]
                        , i = r.e || 0;
                    if (0 === i)
                        this.set(r.k, r.v);
                    else {
                        const e = i - t;
                        e > 0 && this.set(r.k, r.v, e)
                    }
                }
            }
            prune() {
                this[f].forEach((e, t) => m(this, t, !1))
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(37))
            , o = n(39)
            , a = function (e, t) {
                if (!t && e && e.__esModule)
                    return e;
                if (null === e || "object" != typeof e && "function" != typeof e)
                    return {
                        default: e
                    };
                var n = d(t);
                if (n && n.has(e))
                    return n.get(e);
                var r = {
                    __proto__: null
                }
                    , i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var o in e)
                    if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
                        var a = i ? Object.getOwnPropertyDescriptor(e, o) : null;
                        a && (a.get || a.set) ? Object.defineProperty(r, o, a) : r[o] = e[o]
                    }
                return r.default = e,
                    n && n.set(e, r),
                    r
            }(n(77))
            , s = n(16)
            , l = r(n(79))
            , u = r(n(83))
            , c = n(90);
        function d(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
                , n = new WeakMap;
            return (d = function (e) {
                return e ? n : t
            }
            )(e)
        }
        var f = window.imsdk
            , p = f.invoke
            , g = (f.on,
                function () {
                    var e = t.prototype;
                    function t() {
                        this._dlgName = "",
                            this._middleware = {
                                updateContext: function () { },
                                dispatch: function () { }
                            },
                            this._messageChannel = {},
                            this.emitter = new o.EventEmitter,
                            this._localHistoryCachedMap = new Map,
                            this._remoteHistoryCachedMap = new Map;
                        var e = (0,
                            s.getParam)(location ? location.search.substring(1) : "");
                        this._dlgName = e.dlguniqname || "",
                            this._messageChannel = l.default
                    }

                    return e.clearCache = function () {
                        this._localHistoryCachedMap.clear(),
                            this._remoteHistoryCachedMap.clear(),
                            this._messageChannel.DB.msgDataMap.clear(),
                            this._messageChannel.DB.msgIdCache.clear()
                    }
                        ,
                        t.getInst = function () {
                            return t._inst || (t._inst = new t),
                                t._inst
                        }
                        ,
                        e.invoke = function (e, t, n) {
                            p.call(window.imsdk, e, t, n)
                        }
                        ,
                        e.hasCachedLocalHistoryMsg = function (e) {
                            return this._localHistoryCachedMap.has(e)
                        }
                        ,
                        e.hasCachedRemoteHistoryMsg = function (e) {
                            return this._remoteHistoryCachedMap.has(e)
                        }
                        ,
                        e.getCurrentLoginID = function () {
                            return new Promise((function (e, t) {
                                p(a.SDK.GET_CURRENT_LOGIN_ID).then((function (t) {
                                    e(t.result)
                                }
                                )).catch((function (e) {
                                    t(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getCurrentConversationID = function () {
                            var e = this;
                            return new Promise((function (t, n) {
                                p(a.SDK.GET_CURRENT_CONVERSATION_ID).then((function (n) {
                                    e._middleware = new u.default({
                                        messageChannel: e._messageChannel,
                                        conversationId: n.result
                                    }),
                                        e._middleware.use(c.MessageQueueHandler),
                                        t(n.result)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getNewMsg = function (e, t) {
                            var n = "single" === t ? a.SDK.GET_NEW_MSG_SINGLE : "imba" === t ? a.SDK.GET_NEW_MSG_IMBA : a.SDK.GET_NEW_MSG_AMP;
                            return new Promise((function (r, i) {
                                p(n, e).then((function (e) {
                                    e.result.forEach((function (e) {
                                        return e.source = "new"
                                    }
                                    )),
                                        r(e.result)
                                }
                                )).catch((function (n) {
                                    var r = n.stack || n.toString();
                                    try {
                                        window && window.tracker && window.tracker.log({
                                            code: 18,
                                            msg: "getNewMsg失败",
                                            sampleRate: 1,
                                            c1: window && window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                            c2: t,
                                            c3: e.ccode,
                                            c4: (0,
                                                s.getAppVersion)(),
                                            c5: JSON.stringify(r)
                                        }),
                                            (0,
                                                s.tracker)({
                                                    msg: n.message,
                                                    nick: window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                                    stack: JSON.stringify(n.stack),
                                                    url: "PCIMSDK.SDK.error.getNewMsg",
                                                    sampling: 1
                                                })
                                    } catch (e) { }
                                    i(n)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.peekNewMsg = function (e, t) {
                            var n = "single" === t ? a.SDK.PEEK_NEW_MSG_SINGLE : "imba" === t ? a.SDK.PEEK_NEW_MSG_IMBA : a.SDK.PEEK_NEW_MSG_AMP;
                            return new Promise((function (t, r) {
                                p(n, e).then((function (e) {
                                    e.result.forEach((function (e) {
                                        return e.source = "peek"
                                    }
                                    )),
                                        t(e.result)
                                }
                                )).catch((function (e) {
                                    try {
                                        (0,
                                            s.tracker)({
                                                msg: e.message,
                                                nick: window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                                stack: JSON.stringify(e.stack),
                                                url: "PCIMSDK.SDK.error.peekNewMsg",
                                                sampling: 1
                                            })
                                    } catch (e) { }
                                    r(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getLocalHistoryMsg = function (e, t) {
                            var n = this
                                , r = "single" === t ? a.SDK.GET_LOCAL_HISTORY_MSG_SINGLE : "imba" === t ? a.SDK.GET_LOCAL_HISTORY_MSG_IMBA : a.SDK.GET_LOCAL_HISTORY_MSG_AMP;
                            return new Promise((function (t, i) {
                                p(r, e).then((function (r) {
                                    var i = e.cid.ccode;
                                    n._localHistoryCachedMap.set(i, !0),
                                        r.result.msgs.forEach((function (e) {
                                            return e.source = "local"
                                        }
                                        )),
                                        t(r.result)
                                }
                                )).catch((function (e) {
                                    try {
                                        (0,
                                            s.tracker)({
                                                nick: window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                                msg: e.message,
                                                stack: JSON.stringify(e.stack),
                                                url: "PCIMSDK.SDK.error.getLocalHistoryMsg",
                                                sampling: 1
                                            })
                                    } catch (e) { }
                                    i(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getRemoteHistoryMsg = function (e, t) {
                            var n = this
                                , r = "single" === t ? a.SDK.GET_REMOTE_HISTORY_MSG_SINGLE : "imba" === t ? a.SDK.GET_REMOTE_HISTORY_MSG_IMBA : a.SDK.GET_REMOTE_HISTORY_MSG_AMP;
                            return new Promise((function (t, i) {
                                p(r, e, 18e4).then((function (r) {
                                    var i = e.cid.ccode;
                                    n._remoteHistoryCachedMap.set(i, !0),
                                        r.result.msgs.forEach((function (e) {
                                            return e.source = "remote"
                                        }
                                        )),
                                        t(r.result)
                                }
                                )).catch((function (e) {
                                    try {
                                        (0,
                                            s.tracker)({
                                                nick: window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                                msg: e.message,
                                                stack: JSON.stringify(e.stack),
                                                url: "PCIMSDK.SDK.error.getRemoteHistoryMsg",
                                                sampling: 1
                                            })
                                    } catch (e) { }
                                    i(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.reportMsg = function (e, t) {
                            return p("single" === t ? a.SDK.SINGLE_SAFE_REPORT : a.SDK.TRIBE_SAFE_REPORT, e)
                        }
                        ,
                        e.setConversationRead = function (e, t) {
                            return p("single" === t ? a.SDK.SET_SINGLE_CONVERSATION_READ : "imba" === t ? a.SDK.SET_IMBA_CONVERSATION_READ : a.SDK.SET_TRIBE_CONVERSATION_READ, e, 18e4)
                        }
                        ,
                        e.resendMsg = function (e, t) {
                            var n = "single" === t ? a.SDK.RESEND_MSG_SINGLE : a.SDK.RESEND_MSG_AMP;
                            return p(n, e)
                        }
                        ,
                        e.recallMsg = function (e, t) {
                            var n = "single" === t ? a.SDK.RECALL_MSG_SINGLE : a.SDK.RECALL_MSG_AMP;
                            return p(n, e)
                        }
                        ,
                        e.getSingleMsgReadState = function (e) {
                            return p(a.SDK.ROAM_MSG_RECEIVE_STATE, e)
                        }
                        ,
                        e.getServerTime = function () {
                            return p(a.SDK.GET_SERVER_TIME)
                        }
                        ,
                        e.stopAudio = function () {
                            return p(a.SDK.STOP_AUDIO_PLAYER)
                        }
                        ,
                        e.copy = function (e) {
                            return p(a.SDK.COPY, e)
                        }
                        ,
                        e.copy2 = function (e) {
                            return p(a.SDK.COPY_TEXT, e)
                        }
                        ,
                        e.skinTheme = function (e) {
                            return p(a.SDK.GET_SKIN_THEME, e)
                        }
                        ,
                        e.forwardMsg = function (e) {
                            return p(a.SDK.MSG_FORWARD, e)
                        }
                        ,
                        e.convertMsgToEmotion = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.CONVERT_TEXT_TO_EMOTION_SINGLE, e).then((function (e) {
                                    e && e.result && e.result.length ? t(e.result) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.convertMsgToItems = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.CONVERT_TEXT_TO_ITEMS, e).then((function (e) {
                                    e && e.result && e.result.length ? t(e.result) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getUrlSnapshot = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.GET_URL_SNAPSHOT, e).then((function (e) {
                                    0 == e.code ? t(e.result) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getDxContent = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.GET_DX_CONTENT, e).then((function (e) {
                                    if (0 === e.code) {
                                        "" === e.result && t("not dx");
                                        var r = JSON.parse(e.result);
                                        t(r)
                                    } else
                                        n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getImagePath = function (e, t) {
                            var n = "single" === t ? a.SDK.GET_IMAGE_PATH_SINGLE : a.SDK.GET_IMAGE_PATH_AMP;
                            return new Promise((function (t, r) {
                                p(n, e).then((function (e) {
                                    0 == e.code ? t(e.result) : r(e)
                                }
                                )).catch((function (e) {
                                    r(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getAudioPath = function (e, t) {
                            var n = "single" === t ? a.SDK.GET_AUDIO_PATH_SINGLE : a.SDK.GET_AUDIO_PATH_AMP;
                            return new Promise((function (t, r) {
                                p(n, e).then((function (e) {
                                    0 == e.code ? t(e.result) : r(e)
                                }
                                )).catch((function (e) {
                                    r(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.playAudio = function (e) {
                            return p(a.SDK.START_AUDIO_PLAYER, e)
                        }
                        ,
                        e.previewImage = function (e) {
                            return p(a.SDK.PREVIEW_IMAGE, e)
                        }
                        ,
                        e.openUrl = function (e) {
                            return p(a.SDK.OPEN_URL, e)
                        }
                        ,
                        e.doWXAction = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.DO_WX_ACTION, e).then((function (e) {
                                    e && 0 === e.code ? t(e) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.openFileSetting = function () {
                            p(a.SDK.OPEN_FILE_SETTING)
                        }
                        ,
                        e.getFileTransferInfo = function (e) {
                            return p(a.SDK.GET_FILE_TRANSFER_INFO, e)
                        }
                        ,
                        e.downloadCloudFile = function (e) {
                            return p(a.SDK.DOWNLOAD_CLOUD_FILE, e)
                        }
                        ,
                        e.cancelDownloadCloudFile = function (e) {
                            return p(a.SDK.CANCEL_DOWNLOAD_CLOUD_FILE, e)
                        }
                        ,
                        e.cancelUploadCloudFile = function (e) {
                            return p(a.SDK.CANCEL_UPLOAD_CLOUD_FILE, e)
                        }
                        ,
                        e.previewCloudFile = function (e) {
                            return p(a.SDK.PREVIEW_CLOUD_FILE, e)
                        }
                        ,
                        e.openFolder = function (e) {
                            return p(a.SDK.OPEN_FOLDER, e)
                        }
                        ,
                        e.deleteCloudFile = function (e) {
                            return p(a.SDK.DELETE_CLOUD_FILE, e)
                        }
                        ,
                        e.setSingleMsgReadStatus = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.SET_SINGLE_MSG_READ_STATUS, e).then((function (e) {
                                    e && 0 == e.code ? t(e) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.setImbaMsgReadStatus = function (e) {
                            return new Promise((function (t, n) {
                                p(a.SDK.SET_IMBA_MSG_READ_STATUS, e).then((function (e) {
                                    e && 0 == e.code ? t(e) : n(e)
                                }
                                )).catch((function (e) {
                                    n(e)
                                }
                                ))
                            }
                            ))
                        }
                        ,
                        e.getAudioShowTextSetting = function () {
                            return p(a.SDK.GET_AUDIO_SHOW_TEXT_SETTING).then((function (e) {
                                return e.result.show
                            }
                            ))
                        }
                        ,
                        e.addAudioTextSettingTip = function (e) {
                            p(a.SDK.ADD_AUDIO_TEXT_SETTING_TIP, e)
                        }
                        ,
                        e.openSetting = function (e) {
                            p(a.SDK.OPEN_SETTING, e)
                        }
                        ,
                        e.startFaceTime = function (e) {
                            p(a.SDK.START_FACE_TIME, e)
                        }
                        ,
                        e.startAudioTime = function (e) {
                            p(a.SDK.START_AUDIO_TIME, e)
                        }
                        ,
                        e.getBoardData = function (e) {
                            return e.__other = "get",
                                p(a.SDK.GET_BOARD, e)
                        }
                        ,
                        e.openTribeBoard = function (e) {
                            p(a.SDK.OPEN_TRIBE_BOARD, e)
                        }
                        ,
                        e.getMsgMergeStatus = function () {
                            return p(a.SDK.GET_MSG_MERGE_OPTION)
                        }
                        ,
                        e.getMsgMode = function () {
                            return p(a.SDK.GET_MSG_DISPLAY_MODE).then((function (e) {
                                return 1 === e.result.mode
                            }
                            ))
                        }
                        ,
                        e.contextMenu = function (e) {
                            return p(a.SDK.SHOW_CONTEXT_MENU, e, 18e4)
                        }
                        ,
                        e.insertAtMember = function (e) {
                            return p(a.SDK.AT_TRIBE_MEMBER_AMP, e)
                        }
                        ,
                        e.getSelectionText = function () {
                            return window.workbench.im.get_selection_text()
                        }
                        ,
                        e.getFontConfig = function () {
                            return p(a.SDK.GET_FONT_CONFIG).then((function (e) {
                                return e.result
                            }
                            ))
                        }
                        ,
                        e.getOriginalSingleMsgByID = function (e) {
                            return p(a.SDK.GET_ORIGIN_SINGLE_MSG_BY_ID, e)
                        }
                        ,
                        e.getOriginalGroupMsgById = function (e) {
                            return p(a.SDK.GET_ORIGIN_GROUP_MSG_BY_ID, e)
                        }
                        ,
                        e.getOriginalImbaMsgByID = function (e) {
                            return p(a.SDK.GET_ORIGIN_IMBA_MSG_BY_ID, e)
                        }
                        ,
                        e.cancelSendRemoteSingle = function (e) {
                            return p(a.SDK.CANCEL_SEND_REMOTE_SINGLE, e)
                        }
                        ,
                        e.cancelSendRemoteAmp = function (e) {
                            return p(a.SDK.CANCEL_SEND_REMOTE_AMP, e)
                        }
                        ,
                        e.setBubbleMenu = function (e) {
                            return p(a.SDK.BUBBLE_MENU, e)
                        }
                        ,
                        e.forwardMultiMsg = function (e) {
                            return p(a.SDK.MSGS_FORWARD, e)
                        }
                        ,
                        e.openWeb = function (e) {
                            p(a.SDK.Open_Webview, e)
                        }
                        ,
                        e.deleteMsg = function (e, t) {
                            var n = "single" === t ? a.SDK.SINGLE_DELETE : a.SDK.GROUP_DELETE;
                            return p(n, e)
                        }
                        ,
                        e.msgQuote = function (e, t) {
                            return p("single" === t ? a.SDK.SINGLE_MSG_QUOTE : a.SDK.TRIBE_MSG_QUOTE, e)
                        }
                        ,
                        e.msgQuoteClose = function (e, t) {
                            return p("single" === t ? a.SDK.SINGLE_CLOSE_QUOTE : a.SDK.TRIBE_CLOSE_QUOTE, e)
                        }
                        ,
                        e.openMsgSource = function (e) {
                            p(a.SDK.MSG_SOURCE, e)
                        }
                        ,
                        e.reEdit = function (e) {
                            p(a.SDK.MSG_REEDIT, e)
                        }
                        ,
                        e.getAriaHelp = function () {
                            return p(a.SDK.GET_ARIA_HELP)
                        }
                        ,
                        (0,
                            i.default)(t, [{
                                key: "middleware",
                                get: function () {
                                    return this._middleware
                                }
                            }, {
                                key: "messageChannel",
                                get: function () {
                                    return this._messageChannel
                                }
                            }, {
                                key: "dlgName",
                                get: function () {
                                    return this._dlgName
                                }
                            }]),
                        t
                }());
        g._inst = void 0;
        t.default = g
    }
    , function (e, t, n) {
        var r = n(75);
        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var i = t[n];
                i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value" in i && (i.writable = !0),
                    Object.defineProperty(e, r(i.key), i)
            }
        }
        e.exports = function (e, t, n) {
            return t && i(e.prototype, t),
                n && i(e, n),
                Object.defineProperty(e, "prototype", {
                    writable: !1
                }),
                e
        }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t) {
        function n(t) {
            return e.exports = n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                return typeof e
            }
                : function (e) {
                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                }
                ,
                e.exports.__esModule = !0,
                e.exports.default = e.exports,
                n(t)
        }
        e.exports = n,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t, n) {
        "use strict";
        var r, i = "object" == typeof Reflect ? Reflect : null, o = i && "function" == typeof i.apply ? i.apply : function (e, t, n) {
            return Function.prototype.apply.call(e, t, n)
        }
            ;
        r = i && "function" == typeof i.ownKeys ? i.ownKeys : Object.getOwnPropertySymbols ? function (e) {
            return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
        }
            : function (e) {
                return Object.getOwnPropertyNames(e)
            }
            ;
        var a = Number.isNaN || function (e) {
            return e != e
        }
            ;
        function s() {
            s.init.call(this)
        }
        e.exports = s,
            e.exports.once = function (e, t) {
                return new Promise((function (n, r) {
                    function i(n) {
                        e.removeListener(t, o),
                            r(n)
                    }
                    function o() {
                        "function" == typeof e.removeListener && e.removeListener("error", i),
                            n([].slice.call(arguments))
                    }
                    v(e, t, o, {
                        once: !0
                    }),
                        "error" !== t && function (e, t, n) {
                            "function" == typeof e.on && v(e, "error", t, n)
                        }(e, i, {
                            once: !0
                        })
                }
                ))
            }
            ,
            s.EventEmitter = s,
            s.prototype._events = void 0,
            s.prototype._eventsCount = 0,
            s.prototype._maxListeners = void 0;
        var l = 10;
        function u(e) {
            if ("function" != typeof e)
                throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
        }
        function c(e) {
            return void 0 === e._maxListeners ? s.defaultMaxListeners : e._maxListeners
        }
        function d(e, t, n, r) {
            var i, o, a, s;
            if (u(n),
                void 0 === (o = e._events) ? (o = e._events = Object.create(null),
                    e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit("newListener", t, n.listener ? n.listener : n),
                        o = e._events),
                        a = o[t]),
                void 0 === a)
                a = o[t] = n,
                    ++e._eventsCount;
            else if ("function" == typeof a ? a = o[t] = r ? [n, a] : [a, n] : r ? a.unshift(n) : a.push(n),
                (i = c(e)) > 0 && a.length > i && !a.warned) {
                a.warned = !0;
                var l = new Error("Possible EventEmitter memory leak detected. " + a.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
                l.name = "MaxListenersExceededWarning",
                    l.emitter = e,
                    l.type = t,
                    l.count = a.length,
                    s = l,
                    console && console.warn && console.warn(s)
            }
            return e
        }
        function f() {
            if (!this.fired)
                return this.target.removeListener(this.type, this.wrapFn),
                    this.fired = !0,
                    0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
        }
        function p(e, t, n) {
            var r = {
                fired: !1,
                wrapFn: void 0,
                target: e,
                type: t,
                listener: n
            }
                , i = f.bind(r);
            return i.listener = n,
                r.wrapFn = i,
                i
        }
        function g(e, t, n) {
            var r = e._events;
            if (void 0 === r)
                return [];
            var i = r[t];
            return void 0 === i ? [] : "function" == typeof i ? n ? [i.listener || i] : [i] : n ? function (e) {
                for (var t = new Array(e.length), n = 0; n < t.length; ++n)
                    t[n] = e[n].listener || e[n];
                return t
            }(i) : h(i, i.length)
        }
        function m(e) {
            var t = this._events;
            if (void 0 !== t) {
                var n = t[e];
                if ("function" == typeof n)
                    return 1;
                if (void 0 !== n)
                    return n.length
            }
            return 0
        }
        function h(e, t) {
            for (var n = new Array(t), r = 0; r < t; ++r)
                n[r] = e[r];
            return n
        }
        function v(e, t, n, r) {
            if ("function" == typeof e.on)
                r.once ? e.once(t, n) : e.on(t, n);
            else {
                if ("function" != typeof e.addEventListener)
                    throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e);
                e.addEventListener(t, (function i(o) {
                    r.once && e.removeEventListener(t, i),
                        n(o)
                }
                ))
            }
        }
        Object.defineProperty(s, "defaultMaxListeners", {
            enumerable: !0,
            get: function () {
                return l
            },
            set: function (e) {
                if ("number" != typeof e || e < 0 || a(e))
                    throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
                l = e
            }
        }),
            s.init = function () {
                void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null),
                    this._eventsCount = 0),
                    this._maxListeners = this._maxListeners || void 0
            }
            ,
            s.prototype.setMaxListeners = function (e) {
                if ("number" != typeof e || e < 0 || a(e))
                    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
                return this._maxListeners = e,
                    this
            }
            ,
            s.prototype.getMaxListeners = function () {
                return c(this)
            }
            ,
            s.prototype.emit = function (e) {
                for (var t = [], n = 1; n < arguments.length; n++)
                    t.push(arguments[n]);
                var r = "error" === e
                    , i = this._events;
                if (void 0 !== i)
                    r = r && void 0 === i.error;
                else if (!r)
                    return !1;
                if (r) {
                    var a;
                    if (t.length > 0 && (a = t[0]),
                        a instanceof Error)
                        throw a;
                    var s = new Error("Unhandled error." + (a ? " (" + a.message + ")" : ""));
                    throw s.context = a,
                    s
                }
                var l = i[e];
                if (void 0 === l)
                    return !1;
                if ("function" == typeof l)
                    o(l, this, t);
                else {
                    var u = l.length
                        , c = h(l, u);
                    for (n = 0; n < u; ++n)
                        o(c[n], this, t)
                }
                return !0
            }
            ,
            s.prototype.addListener = function (e, t) {
                return d(this, e, t, !1)
            }
            ,
            s.prototype.on = s.prototype.addListener,
            s.prototype.prependListener = function (e, t) {
                return d(this, e, t, !0)
            }
            ,
            s.prototype.once = function (e, t) {
                return u(t),
                    this.on(e, p(this, e, t)),
                    this
            }
            ,
            s.prototype.prependOnceListener = function (e, t) {
                return u(t),
                    this.prependListener(e, p(this, e, t)),
                    this
            }
            ,
            s.prototype.removeListener = function (e, t) {
                var n, r, i, o, a;
                if (u(t),
                    void 0 === (r = this._events))
                    return this;
                if (void 0 === (n = r[e]))
                    return this;
                if (n === t || n.listener === t)
                    0 == --this._eventsCount ? this._events = Object.create(null) : (delete r[e],
                        r.removeListener && this.emit("removeListener", e, n.listener || t));
                else if ("function" != typeof n) {
                    for (i = -1,
                        o = n.length - 1; o >= 0; o--)
                        if (n[o] === t || n[o].listener === t) {
                            a = n[o].listener,
                                i = o;
                            break
                        }
                    if (i < 0)
                        return this;
                    0 === i ? n.shift() : function (e, t) {
                        for (; t + 1 < e.length; t++)
                            e[t] = e[t + 1];
                        e.pop()
                    }(n, i),
                        1 === n.length && (r[e] = n[0]),
                        void 0 !== r.removeListener && this.emit("removeListener", e, a || t)
                }
                return this
            }
            ,
            s.prototype.off = s.prototype.removeListener,
            s.prototype.removeAllListeners = function (e) {
                var t, n, r;
                if (void 0 === (n = this._events))
                    return this;
                if (void 0 === n.removeListener)
                    return 0 === arguments.length ? (this._events = Object.create(null),
                        this._eventsCount = 0) : void 0 !== n[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete n[e]),
                        this;
                if (0 === arguments.length) {
                    var i, o = Object.keys(n);
                    for (r = 0; r < o.length; ++r)
                        "removeListener" !== (i = o[r]) && this.removeAllListeners(i);
                    return this.removeAllListeners("removeListener"),
                        this._events = Object.create(null),
                        this._eventsCount = 0,
                        this
                }
                if ("function" == typeof (t = n[e]))
                    this.removeListener(e, t);
                else if (void 0 !== t)
                    for (r = t.length - 1; r >= 0; r--)
                        this.removeListener(e, t[r]);
                return this
            }
            ,
            s.prototype.listeners = function (e) {
                return g(this, e, !0)
            }
            ,
            s.prototype.rawListeners = function (e) {
                return g(this, e, !1)
            }
            ,
            s.listenerCount = function (e, t) {
                return "function" == typeof e.listenerCount ? e.listenerCount(t) : m.call(e, t)
            }
            ,
            s.prototype.listenerCount = m,
            s.prototype.eventNames = function () {
                return this._eventsCount > 0 ? r(this._events) : []
            }
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0,
            t.default = void 0;
        var r = n(41)
            , i = ["11009", "11156"]
            , o = function () {
                function e() { }
                var t = e.prototype;
                return t.isSelfSide = function (e, t) {
                    return i.includes(t.bizeType) && e.ext.receiverMainUserId ? e.loginid.havMainId !== e.ext.receiverMainUserId && this.isSelfSideOld(e, t) : this.isSelfSideOld(e, t)
                }
                    ,
                    t.isSelfSideOld = function (e, t) {
                        var n = t || {};
                        return 0 === n.ctype || void 0 === n.ctype ? e.fromid.targetId === e.loginid.targetId || (!e.toid || e.toid.targetId !== e.loginid.targetId) && ((!e.fromid.nick || !e.loginid.nick || e.fromid.nick.split(":")[0] === e.loginid.nick.split(":")[0]) && ((!n.nick || !e.loginid.nick || n.nick.split(":")[0] !== e.loginid.nick.split(":")[0] || e.fromid.targetId === e.loginid.targetId) && (n.targetId !== e.fromid.targetId && (e.toid && (n.targetId,
                            e.toid.targetId),
                            !0)))) : e.fromid.targetId === e.loginid.targetId
                    }
                    ,
                    t.renderNick = function (e, t) {
                        var n = t || {}
                            , r = (e.fromid.display || e.fromid.nick) + " --\x3e " + (e.toid.display || e.toid.nick);
                        return 0 === n.ctype || void 0 === n.ctype ? i.includes(t.bizeType) && e.mcode.messageId && e.ext.receiverMainUserId && e.ext.receiverMainUserId !== e.loginid.havMainId ? r : e.fromid.targetId === e.loginid.targetId ? e.fromid.display || e.fromid.nick || "" : (console.log("here111 msg.fromid.nick", e.fromid.nick),
                            e.fromid.nick.split(":")[0] !== e.loginid.nick.split(":")[0] && e.toid.targetId !== e.loginid.targetId ? r : e.fromid.display || e.fromid.nick) : e.fromid.display || e.fromid.nick || " "
                    }
                    ,
                    t.parse = function (e, t) {
                        return e.fromid.nick || (e.fromid.nick = ""),
                            e.loginid.nick || (e.loginid.nick = ""),
                        {
                            source: e.source,
                            originBanamaMessage: e,
                            msgtype: "",
                            conversationId: e.cid.ccode,
                            targetId: e.fromid.targetId,
                            targetType: e.fromid.targetType,
                            messageId: e.mcode.messageId,
                            clientId: e.mcode.clientId,
                            isself: e.fromid.targetId === e.loginid.targetId,
                            isside: this.isSelfSide(e, t),
                            sendTime: e.sendTime,
                            sortTimeMicrosecond: e.sortTimeMicrosecond,
                            status: e.status,
                            issendfail: 13 === e.status,
                            selfReadflag: 1 === e.selfState,
                            readflag: 0 === e.status && 0 === e.receiverState.unread.count,
                            isshowReadflag: e.receiverReadDisable || !0,
                            fromNick: e.fromid.display,
                            toNick: e.toid ? e.toid.display : "",
                            subNick: this.renderNick(e, t),
                            avatar: e.fromid.portrait,
                            content: e.originalData,
                            ext: e.ext || {},
                            extLocal: e.extLocal || {},
                            templateId: e.templateId,
                            menu: {
                                canCopy: !1,
                                canForward: !1,
                                canRecall: !1
                            }
                        }
                    }
                    ,
                    t.transform = function (e, t) {
                        switch (e.templateId) {
                            case r.MessageType.text:
                                t.msgtype = "text";
                                t.menu.canCopy = !0,
                                    (t.content.jsview || []).some((function (e) {
                                        return 1 === (t = e.type) || 4 === t || 5 === t;
                                        var t
                                    }
                                    )) ? t.menu.canForward = !1 : t.menu.canForward = !0,
                                    t.menu.canRecall = !0;
                                break;
                            case r.MessageType.image:
                                t.msgtype = "image",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !0,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.imageex:
                                t.msgtype = "image",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !0,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.voice:
                                t.msgtype = "voice",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.video:
                                t.msgtype = "video",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !0,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.system:
                                t.msgtype = "system",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.file:
                                t.msgtype = "file",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !0,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.custom:
                                t.msgtype = "custom",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.weexCard:
                                t.msgtype = "weexCard",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.shareBizCard:
                                t.msgtype = "shareBizCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.shareShopCard:
                                t.msgtype = "shareShopCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.shareLiveCard:
                                t.msgtype = "shareLiveCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.shareOtherCard:
                                t.msgtype = "shareOtherCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.location:
                                t.msgtype = "location",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.businessCard:
                                t.msgtype = "businessCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.feedCard:
                                t.msgtype = "feedCard",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.polymor:
                                t.msgtype = "polymor",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.template:
                                t.msgtype = "template",
                                    t.menu.canCopy = !1,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            case r.MessageType.imageText:
                                t.msgtype = "imageText",
                                    t.menu.canCopy = !0,
                                    t.menu.canForward = !1,
                                    t.menu.canRecall = !1;
                                break;
                            default:
                                t.msgtype = "noSupport"
                        }
                        return 2 === e.status && (t.msgtype = "system"),
                            !e.ext.bizDataExt || "1" !== e.ext.bizDataExt.is_sysmsg && "2" !== e.ext.bizDataExt.show_type && "8" !== e.ext.bizDataExt.show_type || (t.msgtype = "system",
                                t.content.content = t.content.text || t.content.title),
                            t
                    }
                    ,
                    e
            }();
        t.default = new o
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0,
            t.TypeValue = t.MessageType = void 0;
        t.TypeValue = function (e) {
            return e[e.TextValue = 0] = "TextValue",
                e[e.LinkValue = 1] = "LinkValue",
                e[e.EmojiValue = 2] = "EmojiValue",
                e[e.EmotionValue = 3] = "EmotionValue",
                e[e.TextHtmlValue = 4] = "TextHtmlValue",
                e[e.URLHtmlValue = 5] = "URLHtmlValue",
                e[e.URLPicValue = 6] = "URLPicValue",
                e[e.ImageValue = 7] = "ImageValue",
                e[e.AudioValue = 8] = "AudioValue",
                e[e.FileValue = 9] = "FileValue",
                e
        }({}),
            t.MessageType = function (e) {
                return e[e.text = 101] = "text",
                    e[e.image = 102] = "image",
                    e[e.imageex = 103] = "imageex",
                    e[e.voice = 104] = "voice",
                    e[e.video = 105] = "video",
                    e[e.system = 106] = "system",
                    e[e.file = 107] = "file",
                    e[e.custom = 109] = "custom",
                    e[e.weexCard = 110] = "weexCard",
                    e[e.shareBizCard = 111] = "shareBizCard",
                    e[e.shareShopCard = 112] = "shareShopCard",
                    e[e.shareLiveCard = 113] = "shareLiveCard",
                    e[e.shareOtherCard = 114] = "shareOtherCard",
                    e[e.location = 116] = "location",
                    e[e.businessCard = 120] = "businessCard",
                    e[e.feedCard = 128] = "feedCard",
                    e[e.polymor = 129] = "polymor",
                    e[e.template = 503] = "template",
                    e[e.imageText = 504] = "imageText",
                    e
            }({})
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function () {
            function e(e, t) {
                return this.container = e,
                    this.box = null,
                    this.visible = !1,
                    this.config = t,
                    this
            }
            return e.prototype.calculate = function (e, t) {
                if (!this.box)
                    return {};
                var n = e
                    , r = t;
                if (!this.config || this.config && n !== this.config.x || r !== this.config.y) {
                    var i = this.box.clientWidth
                        , o = this.box.clientHeight
                        , a = window.innerWidth
                        , s = window.innerHeight;
                    e + i > a && e < i ? n = (a - i) / 2 : (n = e + i > a ? e - i - 5 : e + 5,
                        n = Math.min(n, a - i),
                        n = Math.max(n, 0)),
                        t + o > s && t < o ? r = (s - o) / 2 : (r = t + o > s ? t - o - 5 : t + 5,
                            r = Math.min(r, s - o),
                            r = Math.max(r, 0))
                }
                var l = t >= 0 ? "top" : "bottom"
                    , u = {};
                return u[e >= 0 ? "left" : "right"] = Math.abs(n) + "px",
                    u[l] = Math.abs(r) + "px",
                    u
            }
                ,
                e.prototype.getStyle = function (e) {
                    var t = e.x
                        , n = e.y
                        , r = e.visible
                        , i = this.calculate(t, n)
                        , o = "";
                    for (var a in i.visibility = r ? "visible" : "hidden",
                        i.opacity = r ? "1" : "0",
                        this.visible = r,
                        i)
                        o += a + ":" + i[a] + ";";
                    return o
                }
                ,
                e.prototype.render = function (e) {
                    var t = e.cls
                        , n = e.tpl
                        , r = e.html
                        , i = e.parent
                        , o = this.getStyle(e);
                    if (t || (t = ""),
                        !this.box) {
                        var a = document.createElement("div");
                        n && (a.innerHTML = n),
                            a.className = "popup-over " + t,
                            this.box = a,
                            (i || document.body).appendChild(a)
                    }
                    this.box.setAttribute("style", o),
                        r && (this.box.innerHTML = r)
                }
                ,
                e
        }();
        t.default = r
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7)).createLogger("tb-im-h5")("setMsgReadStatusByScroll");
        function c(e) {
            var t = []
                , n = window.innerHeight;
            return e.forEach((function (e) {
                var r = document.getElementById(e.mcode.messageId || "") || document.getElementById(e.mcode.clientId || "");
                if (r) {
                    var i = r.getBoundingClientRect();
                    i.height < n ? i.top > 0 && i.bottom <= n && t.push(e) : (i.top >= n - i.height && i.top < n || i.bottom > 0 && i.bottom <= i.height) && t.push(e)
                }
            }
            )),
                t
        }
        t.default = function (e) {
            if ("group" !== s.default.chatType) {
                var t = s.default.SDK
                    , n = s.default.chatType
                    , r = l.default.getccode(s.default.conversationID)
                    , i = l.default.getCID(s.default.conversationID)
                    , o = s.default.waitingBeReadingMap.get(r) || []
                    , a = s.default.ownerBeReadingMap.get(r) || []
                    , d = c(o)
                    , f = c(a.map((function (e) {
                        return {
                            mcode: {
                                clientId: e.clientId,
                                messageId: e.messageId
                            }
                        }
                    }
                    ))) || [];
                if (0 !== d.length) {
                    u.log("对方读了我的消息, 设置我发给对方的消息为已读状态", d),
                        t.middleware.dispatch({
                            handleType: "update",
                            updateMsgQueue: d,
                            handleCallback: function (e, t) {
                                e.readflag = !0
                            }
                        }),
                        o = o.filter((function (e) {
                            return !d.some((function (t) {
                                return e.mcode.messageId && e.mcode.messageId === t.mcode.messageId || e.mcode.clientId && e.mcode.clientId === t.mcode.clientId
                            }
                            ))
                        }
                        )),
                        s.default.waitingBeReadingMap.set(r, o);
                    var p = l.default.getccode(s.default.conversationID)
                        , g = t.messageChannel.DB.msgDataMap.get(p);
                    s.default.updateMessageList(g)
                }
                0 !== f.length && (u.log("setSingleMsgReadStatus caused by setMsgReadStatusByScroll"),
                    "single" === n ? t.setSingleMsgReadStatus({
                        cid: i,
                        mcodes: f.map((function (e) {
                            return e.mcode
                        }
                        ))
                    }).then((function (e) {
                        u.log("设置自己已读对方消息", f),
                            a = a.filter((function (e) {
                                return !f.some((function (t) {
                                    return e.messageId && e.messageId === t.mcode.messageId || e.clientId && e.clientId === t.mcode.clientId
                                }
                                ))
                            }
                            )),
                            t.middleware.dispatch({
                                handleType: "update",
                                updateMsgQueue: f.map((function (e) {
                                    return {
                                        cid: l.default.getCID(s.default.conversationID),
                                        mcode: {
                                            messageId: e.mcode.messageId,
                                            clientId: e.mcode.clientId
                                        }
                                    }
                                }
                                )),
                                handleCallback: function (e, t) {
                                    e.selfReadflag = !0
                                }
                            }),
                            s.default.ownerBeReadingMap.set(r, a)
                    }
                    )).catch((function (e) {
                        console.log("setSingleMsgReadStatus error", e)
                    }
                    )) : "imba" === n && t.setImbaMsgReadStatus({
                        cid: i,
                        mcodes: f.map((function (e) {
                            return e.mcode
                        }
                        ))
                    }).then((function (e) {
                        u.log("设置自己已读对方消息", f),
                            a = a.filter((function (e) {
                                return !f.some((function (t) {
                                    return e.messageId && e.messageId === t.mcode.messageId || e.clientId && e.clientId === t.mcode.clientId
                                }
                                ))
                            }
                            )),
                            t.middleware.dispatch({
                                handleType: "update",
                                updateMsgQueue: f.map((function (e) {
                                    return {
                                        cid: l.default.getCID(s.default.conversationID),
                                        mcode: {
                                            messageId: e.mcode.messageId,
                                            clientId: e.mcode.clientId
                                        }
                                    }
                                }
                                )),
                                handleCallback: function (e, t) {
                                    e.selfReadflag = !0
                                }
                            }),
                            s.default.ownerBeReadingMap.set(r, a)
                    }
                    )).catch((function (e) {
                        console.log("setSingleMsgReadStatus error", e)
                    }
                    )))
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d, f, p, g, m = u(n(0)), h = c(n(6)), v = n(4), y = u(n(12)), b = c(n(2)), _ = c(n(139)), w = c(n(5)), x = n(10), O = {
            small: {
                width: 264,
                cls: "small"
            },
            middle: {
                width: 324,
                cls: "middle"
            },
            large: {
                width: 396,
                cls: "large"
            }
        }, S = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
                t.prototype.componentDidCatch = function (e) {
                    console.log("%ccomponentDidCatch", "color:red", e),
                        b.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "PolymorMessage Component error",
                            sampling: 1
                        })
                }
                ,
                t.prototype.getStrMap = function (e) {
                    return p = O[e].width || 264,
                        d = {
                            f: "frame",
                            v: "vector",
                            p: "padding",
                            cs: "class",
                            ac: "action",
                            ds: "display",
                            fd: "flex-direction",
                            jc: "justify-content",
                            ai: "align-items",
                            ad: "align-self",
                            fs: "flex-start",
                            fe: "flex-end",
                            ct: "center",
                            st: "stretch",
                            sb: "space-between",
                            sa: "space-around",
                            sv: "subviews",
                            bc: "background-color",
                            tc: "color",
                            td: "text-decoration",
                            ul: "underline",
                            lt: "line-through",
                            ts: "font-size",
                            xl: (18 / (f = p / 12)).toFixed(2),
                            l: (16 / f).toFixed(2),
                            m: (14 / f).toFixed(2),
                            s: (12 / f).toFixed(2),
                            xs: (10 / f).toFixed(2),
                            ir: "background-size",
                            al: "aspect-fill",
                            at: "aspect-fit",
                            tt: "title",
                            bs: "button-style",
                            bb: "button-blue",
                            bg: "button-gray",
                            bn: "button-naked",
                            bt: "button-theme",
                            lc: "border-top-color",
                            ls: "border-top-style",
                            tfs: "font-size",
                            rds: "border-radius",
                            stock: "solid",
                            dot: "dotted"
                        }
                }
                ,
                t.prototype.getRealPx = function (e) {
                    return "number" == typeof e ? (e * f).toFixed(0) + "px" : e
                }
                ,
                t.prototype.getBackgroundSize = function (e, t) {
                    "aspect-fill" === e ? (t["background-size"] = "cover",
                        t["background-position"] = "center") : "aspect-fit" === e ? (t["background-size"] = "contain",
                            t["background-position"] = "center") : "fill" === e && (t["background-size"] = "100% 100%")
                }
                ,
                t.prototype.parseData = function (e) {
                    var t, n = this;
                    if (b.default.isObject(e))
                        for (var r in t = {},
                            e) {
                            var i = d[r] || r
                                , o = e[r];
                            t[i] = this.parseData(o)
                        }
                    else
                        b.default.isArray(e) ? (t = [],
                            e.forEach((function (e) {
                                t.push(n.parseData(e))
                            }
                            ))) : t = d[e] || e;
                    return t
                }
                ,
                t.prototype.translateData = function (e, t) {
                    var n, r = this, i = {}, o = "", a = "", s = ["padding", "display", "flex-direction", "justify-content", "align-items", "align-self", "background-color", "color", "text-decoration", "font-size", "border-radius", "border-top-color", "border-top-style"];
                    t && ("flex" === t.display ? i.flex = "0 0 auto" : "fix" === t.display && (i.position = "absolute")),
                        i.position || "fix" !== e.display || (i.position = "relative"),
                        e["font-size"] && (e["font-size"] = Number(e["font-size"]));
                    var l = !1;
                    for (var u in e["font-size"] && e.frame && "number" == typeof e.frame[3] && e.frame[3] / e["font-size"] < 2 && (l = !0),
                        e)
                        if (s.indexOf(u) > -1) {
                            if ("img" === e.class && "center" === u && (u = "100%"),
                                "color" === u || "background-color" === u) {
                                for (var c = e[u].substring(1), d = 8 - c.length, f = "", p = 0; p < d; p++)
                                    f += "f";
                                c = f + c;
                                var g = [];
                                for (p = 0; p < 8; p += 2)
                                    g.push(parseInt(c.substring(p, p + 2), 16));
                                e[u] = "rgba(" + g[1] + "," + g[2] + "," + g[3] + "," + (g[0] / 255).toFixed(1) + ")"
                            }
                            i[u] = this.getRealPx(e[u])
                        }
                    for (var u in e.frame && ["left", "top", "width", "height"].forEach((function (t, n) {
                        l && "height" === t && "number" == typeof e.frame[n] && (i["line-height"] = r.getRealPx(e.frame[n])),
                            i[t] = r.getRealPx(e.frame[n])
                    }
                    )),
                        "flex" === i.display && i.width && i.height && -1 !== i.width.indexOf("px") && -1 !== i.height.indexOf("px") && ("column" === i["flex-direction"] ? (i["overflow-y"] = "auto",
                            i["overflow-x"] = "hidden",
                            i.width = parseInt(i.width) + 5 + "px") : (i["overflow-x"] = "auto",
                                i["overflow-y"] = "hidden",
                                i.height = parseInt(i.height) + 5 + "px")),
                        e.vector && (i.left = this.getRealPx(e.vector[0][0]),
                            i.top = this.getRealPx(e.vector[0][1]),
                            i.width = this.getRealPx(e.vector[1][0] - e.vector[0][0]),
                            i.height = "1px",
                            i["border-top-width"] = "1px"),
                        "box" === e.class ? !i["flex-direction"] && (i["flex-direction"] = "column") : "img" === e.class ? (e.url && (i["background-image"] = "url(" + e.url + ")"),
                            !i["background-size"] && (i["background-size"] = "aspect-fill"),
                            this.getBackgroundSize(i["background-size"], i)) : "lbl" !== e.class && "btn" !== e.class || (i.height && !i["line-height"] && ("FIT" === i.height ? i["align-self"] = "center" : i["line-height"] = i.height),
                                "FIT" === i.width && (i["text-align"] = "center")),
                        (l || i.height && i["line-height"]) && (i["text-overflow"] = "ellipsis",
                            i["white-space"] = "nowrap",
                            i.overflow = "hidden"),
                        e.action && e.action.length && (a = e.action[0]),
                        a && (i.cursor = "pointer"),
                        t && "flex" === t.display && (i.top && (i["margin-top"] = i.top,
                            delete i.top),
                            i.right && (i["margin-right"] = i.right,
                                delete i.right),
                            i.left && (i["margin-left"] = i.left,
                                delete i.left),
                            i.bottom && (i["margin-bottom"] = i.bottom,
                                delete i.bottom)),
                        i)
                        o += u + ":" + i[u] + ";";
                    if ("box" === e.class) {
                        f = void 0;
                        e.subviews && e.subviews.length && (f = e.subviews.map((function (t) {
                            return r.translateData(t, e)
                        }
                        ))),
                            n = this.renderDivTpl({
                                cls: "temp20014-box",
                                style: o,
                                html: f,
                                action: a
                            })
                    } else
                        "lbl" === e.class ? n = this.renderSpanTpl({
                            cls: "temp20014-lbl",
                            style: o,
                            html: e.text,
                            action: a
                        }) : "img" === e.class ? n = this.renderDivTpl({
                            cls: "temp20014-img",
                            style: o,
                            action: a
                        }) : "line" === e.class ? n = this.renderDivTpl({
                            cls: "temp20014-line",
                            style: o,
                            action: a
                        }) : "btn" === e.class && (n = this.renderDivTpl({
                            cls: "temp20014-btn" + (e["button-style"] ? " " + e["button-style"] : ""),
                            style: o,
                            html: e.title,
                            action: a
                        }));
                    return n
                }
                ,
                t.prototype.renderDivTpl = function (e) {
                    var t = this
                        , n = b.default.cssToJS(e.style);
                    return m.createElement("div", {
                        key: Math.random(),
                        ref: "J_tempAction",
                        className: e.cls + (e.action ? " J_tempAction" : ""),
                        style: n || {},
                        "data-action": e.action,
                        onClick: function (n) {
                            var r = w.default(e, "html[0].props.children", "")
                                , i = -1 !== w.default(t.props.msg, "ext.dynamic_msg_content[0].value.header.title", "").indexOf("请您核对订单信息");
                            i && "修改" === r || (i && "" === r && e.action ? (y.handleTempClick(n, t, e.action),
                                n.stopPropagation()) : y.handleTempClick(n, t, e.action))
                        }
                    }, e.html)
                }
                ,
                t.prototype.renderSpanTpl = function (e) {
                    var t = this
                        , n = b.default.cssToJS(e.style)
                        , r = Object.assign(n, {
                            "white-space": "pre-wrap"
                        });
                    return m.createElement("span", {
                        key: Math.random(),
                        ref: "J_tempAction",
                        className: e.cls + (e.action ? " J_tempAction" : ""),
                        style: r || {},
                        "data-action": e.action,
                        onClick: function (n) {
                            -1 !== w.default(t.props.msg, "ext.dynamic_msg_content[0].value.header.title", "").indexOf("请您核对订单信息") || y.handleTempClick(n, t, e.action)
                        }
                    }, e.html.replace(/<br\/>/g, "\n"))
                }
                ,
                t.prototype.render = function () {
                    var e, t, n = this, r = (null === (e = this.props) || void 0 === e ? void 0 : e.msg) || {}, i = (null === (t = null == r ? void 0 : r.ext) || void 0 === t ? void 0 : t.dynamic_msg_content) || [];
                    if (!Array.isArray(i) || !i.length)
                        return null;
                    var a = 0
                        , s = i.filter((function (e) {
                            return 2 !== e.platform
                        }
                        )).map((function (e, t) {
                            var i = b.default.compareVersion(e.expression);
                            if (e.hasOwnProperty("templateId") && e.hasOwnProperty("templateData") && i > -1)
                                return a = t,
                                    m.createElement("div", {
                                        "data-id": e.templateId,
                                        "data-expression": e.expression
                                    }, m.createElement(_.default, {
                                        msg: r,
                                        degradeMessage: w.default(r, "content.header.degrade.alternative"),
                                        templateId: e.templateId,
                                        templateData: e.templateData,
                                        type: n.props.type
                                    }));
                            if (!e.value)
                                return s = null;
                            var l = e.value.template.data.body
                                , u = e.value.template.data.pc_width || "small";
                            g && g === u || (g = u,
                                n.getStrMap(g));
                            var c = n.parseData(l);
                            if (!c)
                                return s = null;
                            var d = n.translateData(c);
                            return d ? m.createElement("div", o({
                                key: "a" + t,
                                className: "temp20014-wrap " + O[g].cls + ("drawable://aliwx_hongbao_bubble_left_bg" === e.value.template.data.bgl ? " lucy-money" : "")
                            }, x.getTabIndex(), {
                                "aria-label": "消息卡片"
                            }), d) : m.createElement("div", {
                                className: "msg-body-html"
                            }, e.value.header && e.value.header.degrade && e.value.header.degrade.alternative || h.default.NOT_SUPPORT_MSG)
                        }
                        ));
                    return null == s ? void 0 : s[a]
                }
                ,
                t = l([v.observer], t)
        }(m.Component);
        t.default = S
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__awaiter || function (e, t, n, r) {
                return new (n || (n = Promise))((function (i, o) {
                    function a(e) {
                        try {
                            l(r.next(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function s(e) {
                        try {
                            l(r.throw(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function l(e) {
                        var t;
                        e.done ? i(e.value) : (t = e.value,
                            t instanceof n ? t : new n((function (e) {
                                e(t)
                            }
                            ))).then(a, s)
                    }
                    l((r = r.apply(e, t || [])).next())
                }
                ))
            }
            , c = this && this.__generator || function (e, t) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                    "function" == typeof Symbol && (o[Symbol.iterator] = function () {
                        return this
                    }
                    ),
                    o;
                function s(o) {
                    return function (s) {
                        return function (o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a;)
                                try {
                                    if (n = 1,
                                        r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                        return i;
                                    switch (r = 0,
                                    i && (o = [2 & o[0], i.value]),
                                    o[0]) {
                                        case 0:
                                        case 1:
                                            i = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                            {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++,
                                                r = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys,
                                                (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < i[1]) {
                                                a.label = i[1],
                                                    i = o;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            i[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        r = 0
                                } finally {
                                    n = i = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , d = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var f = l(n(0))
            , p = l(n(25));
        n(46);
        var g = d(n(140))
            , m = d(n(1))
            , h = n(157)
            , v = n(4)
            , y = d(n(6))
            , b = n(32)
            , _ = n(158)
            , w = d(n(5))
            , x = p.Template
            , O = p.Fragment
            , S = n(13);
        p.registerView("MsgTextView", _.MsgTextView),
            p.registerView("RichText", _.RichText),
            p.registerView("ImageSpan", _.ImageSpan),
            p.registerView("TextSpan", _.TextSpan),
            p.registerView("CountDownView", _.CountDownView);
        var M = function (e) {
            if (Array.isArray(e) && e.length >= 1) {
                var t = e[0];
                Array.isArray(t) && t.length >= 2 && t[1] && b.openUrl(t[1])
            }
        }
            , P = function (e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return n.sandboxProxies = new WeakMap,
                        n.perfLog = function (e) {
                            if (0 == m.default.dxCountStore.get(e)) {
                                m.default.dxCountStore.set(e, 1);
                                var t = m.default.dxCountStore.values().reduce((function (e, t) {
                                    return e + ("number" == typeof t ? t : 0)
                                }
                                ), 0);
                                console.log("dxdata", t, m.default.dxCountStore.length, (new Date).getTime()),
                                    t == m.default.dxCountStore.length ? (S.renderPerf("enddx_" + t),
                                        m.default.getLocalMsging || m.default.getNewMsging || m.default.getRemoteMsging || (S.renderPerf("endLNR"),
                                            S.renderPerf("end")),
                                        !m.default.getLocalMsging || m.default.getNewMsging || m.default.getRemoteMsging || S.renderPerf("endNR"),
                                        m.default.getLocalMsging && m.default.getNewMsging && !m.default.getRemoteMsging && S.renderPerf("endR"),
                                        !m.default.getLocalMsging && m.default.getNewMsging && m.default.getRemoteMsging && S.renderPerf("endL"),
                                        m.default.getLocalMsging && !m.default.getNewMsging && m.default.getRemoteMsging && S.renderPerf("endN"),
                                        m.default.getLocalMsging || !m.default.getNewMsging || m.default.getRemoteMsging || S.renderPerf("endLR"),
                                        m.default.getLocalMsging || m.default.getNewMsging || !m.default.getRemoteMsging || S.renderPerf("endLN"),
                                        !m.default.getLocalMsging || m.default.getNewMsging || m.default.getRemoteMsging || S.renderPerf("endRN")) : S.renderPerf("enddx_" + t)
                            }
                        }
                        ,
                        n.state = {
                            dispatch: function (e) { },
                            dxUrl: "",
                            dxData: {},
                            bundleJsUrl: "",
                            layout: {
                                name: (new Date).getTime() + "",
                                url: "",
                                version: ""
                            }
                        },
                        n
                }
                return i(t, e),
                    t.prototype.componentWillUnmount = function () {
                        var e = this.props.msg;
                        b.removeDxEvent("mpTap", e.messageId + ""),
                            b.removeDxEvent("mpLTap", e.messageId + "")
                    }
                    ,
                    t.prototype.componentDidUpdate = function () {
                        var e = this.props.msg;
                        this.perfLog(e.messageId + "")
                    }
                    ,
                    t.prototype.compileCode = function (e, t, n) {
                        var r = this.sandboxProxies;
                        e = "with (sandbox) { " + e + "\n }";
                        var i = new Function("sandbox", "MPJSCoreCall", "MPJSCoreContext", e)
                            , o = function (e, t) {
                                return !0
                            }
                            , a = function (e, t) {
                                if (t !== Symbol.unscopables)
                                    return e[t]
                            };
                        return function (e) {
                            if (!r.has(e)) {
                                var s = new Proxy(e, {
                                    has: o,
                                    get: a
                                });
                                r.set(e, s)
                            }
                            return i(r.get(e), t, n)
                        }
                    }
                    ,
                    t.prototype.listen = function (e) {
                        var t = this
                            , n = !!e
                            , r = this.props.msg
                            , i = this
                            , o = function (e, t, n, r, o) {
                                "componentAPI.msgflow.subscribe" === e && i.setState({
                                    dispatch: n
                                }),
                                    "componentAPI.container.subscribe" === e && i.setState({
                                        dispatch: n
                                    });
                                var a = b.FN_INVOKE_MAP[e];
                                a && a(t, n, r, o)
                            }
                            , a = {
                                navigator: {
                                    platform: "pc"
                                }
                            };
                        if (b.addDxEvent("mpTap", r.messageId + "", (function (e) {
                            h.record({
                                platform: h.PlatformEnum.goldLog,
                                key: "/qnopenworkbeanch.qianniunews.Dx_qn_Click",
                                param: {
                                    click_type: "button"
                                }
                            }),
                                n ? b.buildBubbleEvent({
                                    parsedMessage: r,
                                    layout: t.state.layout,
                                    eventType: "on_click_event",
                                    args: e,
                                    isGroup: "group" === m.default.chatType
                                }).then((function (e) {
                                    console.log("getDx-----mpTap 触发 , 参数为wwwedd: ", e),
                                        t.state.dispatch({
                                            type: "next",
                                            data: {
                                                data: e
                                            }
                                        })
                                }
                                )) : M(e)
                        }
                        )),
                            b.addDxEvent("mpLTap", r.messageId + "", (function (e) {
                                n ? b.buildBubbleEvent({
                                    parsedMessage: r,
                                    layout: t.state.layout,
                                    eventType: "on_long_click_event",
                                    args: e[0],
                                    isGroup: "group" === m.default.chatType
                                }).then((function (e) {
                                    console.log("getDx-----mpLTap 触发 , 参数为: ", e),
                                        t.state.dispatch({
                                            type: "next",
                                            data: {
                                                data: e
                                            }
                                        })
                                }
                                )) : M(e)
                            }
                            )),
                            n) {
                            console.log("fn dxjs--", e, this.props);
                            var s = b.getFn(e);
                            if (s)
                                try {
                                    s(o, a)
                                } catch (e) {
                                    console.log(e)
                                }
                            else
                                g.default.get(e).then((function (t) {
                                    var n = new Function("MPJSCoreCall", "MPJSCoreContext", t.data + "\n");
                                    try {
                                        n(o, a),
                                            b.addFn(e, n),
                                            t.data = null
                                    } catch (e) {
                                        console.log(e)
                                    }
                                }
                                ))
                        }
                    }
                    ,
                    t.prototype.componentWillReceiveProps = function (e) {
                        var t = this.props
                            , n = (t.msg,
                                t.dxData,
                            {
                                message: w.default(null == e ? void 0 : e.msg, "originBanamaMessage", "")
                            })
                            , r = Object.assign(null == e ? void 0 : e.dxData, {
                                env: {
                                    dinamicxSDKVersion: "15",
                                    OS: "PC"
                                },
                                dinamicxSDKVersion: "15"
                            }, n);
                        this.setState({
                            dxData: r
                        })
                    }
                    ,
                    t.prototype.componentDidMount = function () {
                        return u(this, void 0, void 0, (function () {
                            var e, t, n, r, i, o, a, s, l, u, d, f, p, g, m, h, v;
                            return c(this, (function (c) {
                                return e = this.props,
                                    t = e.layoutOriginData,
                                    n = e.msg,
                                    r = e.dxData,
                                    n.content,
                                    i = n.originBanamaMessage,
                                    i.extLocal,
                                    o = t.layoutData,
                                    a = t.renderAttrs,
                                    s = {
                                        weexJs: "",
                                        bundleJs: ""
                                    },
                                    a && (s = JSON.parse(a)),
                                    l = s.bundleJs,
                                    u = JSON.parse(o),
                                    d = u.layoutJson,
                                    f = JSON.parse(d),
                                    p = f.url,
                                    g = f.h5_url,
                                    p = g || p.replace(".zip", ".js"),
                                    m = {
                                        env: {
                                            dinamicxSDKVersion: "15",
                                            OS: "PC"
                                        },
                                        dinamicxSDKVersion: "15"
                                    },
                                    h = {
                                        message: w.default(n, "originBanamaMessage", "")
                                    },
                                    v = Object.assign(r, m, h),
                                    this.setState({
                                        dxUrl: p,
                                        bundleJsUrl: l,
                                        dxData: v,
                                        layout: f
                                    }),
                                    this.listen(l),
                                    [2]
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    t.prototype.handleCardWindowClick = function () {
                        h.record({
                            platform: h.PlatformEnum.goldLog,
                            key: "/qnopenworkbeanch.qianniunews.Dx_qn_Click",
                            param: {
                                click_type: "blank"
                            }
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t, n = this.state, r = n.dxUrl, i = n.dxData, o = this.props, a = o.msg, s = o.type;
                        if (!r || !i)
                            return y.default.NOT_SUPPORT_MSG;
                        var l = w.default(a, "templateId", "")
                            , u = w.default(a, "content.template.data.body.tempId", "")
                            , c = u || l
                            , d = w.default(a, "content.actionMetaList", "")
                            , p = w.default(a, "content.content", "").split("\n")
                            , g = 63 + 32 * d.length;
                        p.forEach((function (e) {
                            var t = e.replace(/[\u4e00-\u9fa5]/g, "aa").length;
                            g += 20 * Math.ceil(t / 28)
                        }
                        ));
                        var m = "[红包]恭喜发财，大吉大利" === (null == i ? void 0 : i.title)
                            , h = 147001 === c ? g : 109002 === c ? 275 : 54001 === c ? 360 : 164002 === c ? 324 : 264002 === c ? 172 : m ? 96 : ""
                            , v = "我要咨询这笔订单" === (null === (e = null == i ? void 0 : i.message) || void 0 === e ? void 0 : e.summary) || "亲已帮你挑好，可直接加购" === (null === (t = null == i ? void 0 : i.message) || void 0 === t ? void 0 : t.summary)
                            , b = "system" === (null == a ? void 0 : a.msgtype) || "card" === s
                            , _ = "您的订单已退款成功" === (null == i ? void 0 : i.title);
                        return f.createElement("div", {
                            onClick: this.handleCardWindowClick.bind(this),
                            style: {
                                minHeight: h,
                                wordBreak: "break-word"
                            },
                            className: b ? "dx-system" : v ? "dx-consult" : _ ? "dx-draw" : "dx-normal"
                        }, f.createElement(O, null, f.createElement(x, {
                            url: r,
                            data: i,
                            customTemplateId: a.messageId
                        })))
                    }
                    ,
                    t = s([v.observer], t)
            }(f.Component);
        t.default = P
    }
    , function (e, t, n) {
        var r;
        window,
            r = function (e, t) {
                return function (e) {
                    var t = {};
                    function n(r) {
                        if (t[r])
                            return t[r].exports;
                        var i = t[r] = {
                            i: r,
                            l: !1,
                            exports: {}
                        };
                        return e[r].call(i.exports, i, i.exports, n),
                            i.l = !0,
                            i.exports
                    }
                    return n.m = e,
                        n.c = t,
                        n.d = function (e, t, r) {
                            n.o(e, t) || Object.defineProperty(e, t, {
                                enumerable: !0,
                                get: r
                            })
                        }
                        ,
                        n.r = function (e) {
                            "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                                value: "Module"
                            }),
                                Object.defineProperty(e, "__esModule", {
                                    value: !0
                                })
                        }
                        ,
                        n.t = function (e, t) {
                            if (1 & t && (e = n(e)),
                                8 & t)
                                return e;
                            if (4 & t && "object" == typeof e && e && e.__esModule)
                                return e;
                            var r = Object.create(null);
                            if (n.r(r),
                                Object.defineProperty(r, "default", {
                                    enumerable: !0,
                                    value: e
                                }),
                                2 & t && "string" != typeof e)
                                for (var i in e)
                                    n.d(r, i, function (t) {
                                        return e[t]
                                    }
                                        .bind(null, i));
                            return r
                        }
                        ,
                        n.n = function (e) {
                            var t = e && e.__esModule ? function () {
                                return e.default
                            }
                                : function () {
                                    return e
                                }
                                ;
                            return n.d(t, "a", t),
                                t
                        }
                        ,
                        n.o = function (e, t) {
                            return Object.prototype.hasOwnProperty.call(e, t)
                        }
                        ,
                        n.p = "/dist/",
                        n(n.s = 23)
                }([function (e, t) {
                    e.exports = function (e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                        ,
                        e.exports.default = e.exports,
                        e.exports.__esModule = !0
                }
                    , function (e, t) {
                        function n(t) {
                            return "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? (e.exports = n = function (e) {
                                return typeof e
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0) : (e.exports = n = function (e) {
                                    return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                }
                                    ,
                                    e.exports.default = e.exports,
                                    e.exports.__esModule = !0),
                                n(t)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (t, n) {
                        t.exports = e
                    }
                    , function (e, t) {
                        e.exports = function (e, t) {
                            if (!(e instanceof t))
                                throw new TypeError("Cannot call a class as a function")
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        function n(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                    "value" in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        e.exports = function (e, t, r) {
                            return t && n(e.prototype, t),
                                r && n(e, r),
                                e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        var r = n(25);
                        e.exports = function (e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function");
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                                t && r(e, t)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        var r = n(1).default
                            , i = n(11);
                        e.exports = function (e, t) {
                            if (t && ("object" === r(t) || "function" == typeof t))
                                return t;
                            if (void 0 !== t)
                                throw new TypeError("Derived constructors may only return object or undefined");
                            return i(e)
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t) {
                        function n(t) {
                            return e.exports = n = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {
                                return e.__proto__ || Object.getPrototypeOf(e)
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0,
                                n(t)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.isEqual = t.isElementInvisable = t.getRect = t.deepGet = t.bindGestureEvent = void 0,
                            t.isFunction = function (e) {
                                return e && "function" == typeof e
                            }
                            ,
                            t.toLikeBoolean = t.runframeTask = t.parseGravity = t.numTrunc = t.isTrue = t.isString = t.isObject = void 0;
                        var i = r(n(1))
                            , o = r(n(27))
                            , a = n(2)
                            , s = "object" === ("undefined" == typeof performance ? "undefined" : (0,
                                i.default)(performance)) && performance.now
                            , l = a.utils.deepGet;
                        t.deepGet = l;
                        var u = a.utils.isString;
                        t.isString = u,
                            t.isObject = function (e) {
                                return "object" === (0,
                                    i.default)(e)
                            }
                            ;
                        var c = a.utils.isEqual;
                        t.isEqual = c;
                        var d = a.utils.numTrunc;
                        t.numTrunc = d,
                            t.toLikeBoolean = function (e) {
                                return !("false" === e || !1 === e || "0" === e || !e)
                            }
                            ,
                            t.bindGestureEvent = function (e) {
                                var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                                    , n = (0,
                                        a.getGlobalConfig)("forcePcMode")
                                    , r = (0,
                                        a.getGlobalConfig)("enableTapDelay");
                                return new o.default(e, t, n, r)
                            }
                            ,
                            t.runframeTask = function (e) {
                                var t, n = [];
                                return function (r) {
                                    n.push(r),
                                        t && window.clearTimeout(t),
                                        t = setTimeout((function () {
                                            !function t() {
                                                requestAnimationFrame((function (r) {
                                                    for (; n.length > 0 && (n.shift()(),
                                                        !((s ? performance.now() : r) - r >= 15));)
                                                        ;
                                                    n.length > 0 ? t() : e()
                                                }
                                                ))
                                            }()
                                        }
                                        ), 0)
                                }
                            }
                            ,
                            t.isElementInvisable = function (e) {
                                return null === e.offsetParent && 0 === e.offsetHeight
                            }
                            ,
                            t.parseGravity = function () {
                                var e, t, n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "leftTop", r = n.search(/[A-Z]/);
                                return -1 !== r ? (e = n.slice(0, r),
                                    t = n.slice(r).toLowerCase()) : e = t = n,
                                {
                                    x: e,
                                    y: t
                                }
                            }
                            ,
                            t.isTrue = function (e) {
                                return "true" === e || !0 === e || "1" === e || 1 === e
                            }
                            ,
                            t.getRect = function (e) {
                                return e && e.getBoundingClientRect ? e.getBoundingClientRect() : null
                            }
                    }
                    , function (e, t) {
                        e.exports = function (e, t, n) {
                            return t in e ? Object.defineProperty(e, t, {
                                value: n,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }) : e[t] = n,
                                e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e) {
                                return "string" == typeof e && r.test(e)
                            }
                            ;
                        var r = /-webkit-|-moz-|-ms-/;
                        e.exports = t.default
                    }
                    , function (e, t) {
                        e.exports = function (e) {
                            if (void 0 === e)
                                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                            return e
                        }
                            ,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var i = r(n(3))
                            , o = r(n(4))
                            , a = r(n(5))
                            , s = r(n(6))
                            , l = r(n(7))
                            , u = r(n(13))
                            , c = r(n(2));
                        function d(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    l.default)(e);
                                if (t) {
                                    var i = (0,
                                        l.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    s.default)(this, n)
                            }
                        }
                        var f = function (e) {
                            (0,
                                a.default)(n, e);
                            var t = d(n);
                            function n(e) {
                                var r;
                                return (0,
                                    i.default)(this, n),
                                    (r = t.call(this, e)).setStyles({
                                        overflow: "hidden",
                                        boxSizing: "border-box"
                                    }),
                                    r
                            }
                            return (0,
                                o.default)(n, [{
                                    key: "componentDidMount",
                                    value: function () {
                                        var e = this;
                                        null === this.layoutProps && this.calcLayoutSize((function () {
                                            return e.calcLayoutSize((function () {
                                                return e.calcLayoutSize()
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                }, {
                                    key: "componentDidUpdate",
                                    value: function () {
                                        var e = this;
                                        null === this.layoutProps && this.calcLayoutSize((function () {
                                            return e.calcLayoutSize((function () {
                                                return e.calcLayoutSize()
                                            }
                                            ))
                                        }
                                        ))
                                    }
                                }, {
                                    key: "paddingLeft",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingLeft: c.default.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingTop",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingTop: c.default.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingRight",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingRight: c.default.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingBottom",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingBottom: c.default.unitParser(e)
                                        })
                                    }
                                }]),
                                n
                        }(u.default);
                        t.default = f
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = m(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(26))
                            , g = n(8);
                        function m(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (m = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function h(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var v = f.utils.env.isIOS
                            , y = ["LinearLayout", "FlexLayout", "HFlexLayout"];
                        function b() {
                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                , t = e._viewName;
                            return "FlexLayout" === t
                        }
                        var _ = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = h(n);
                            function n() {
                                var e;
                                (0,
                                    o.default)(this, n);
                                for (var r = arguments.length, i = new Array(r), a = 0; a < r; a++)
                                    i[a] = arguments[a];
                                return e = t.call.apply(t, [this].concat(i)),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "width", ["marginLeft", "marginRight", "paddingLeft", "paddingRight", function (e) {
                                                var t = this.getStyles()
                                                    , n = t.marginLeft
                                                    , r = t.marginRight
                                                    , i = t.paddingLeft
                                                    , o = t.paddingRight
                                                    , a = t.position
                                                    , s = this.layoutProps || {}
                                                    , l = s.paddingLeft
                                                    , u = s.paddingRight
                                                    , c = {};
                                                switch (e) {
                                                    case "match_parent":
                                                        if (c.width = "100%",
                                                            n || r) {
                                                            var d = n || "0px"
                                                                , p = r || "0px"
                                                                , g = f.unitParser(l) || "0px"
                                                                , m = f.unitParser(u) || "0px";
                                                            c.maxWidth = "absolute" === a ? "calc(100% - ".concat(d, " - ").concat(p, " - ").concat(g, " - ").concat(m, ")") : "calc(100% - ".concat(d, " - ").concat(p, ")")
                                                        }
                                                        break;
                                                    case "match_content":
                                                        v && "LinearLayout" === this.props._viewName && (i || o) || (c.width = "fit-content");
                                                        break;
                                                    default:
                                                        c.width = f.unitParser(e)
                                                }
                                                this.setStyles(c)
                                            }
                                        ]),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "height", ["marginTop", "marginBottom", function (e) {
                                                var t = this.getStyles()
                                                    , n = t.marginTop
                                                    , r = t.marginBottom
                                                    , i = {};
                                                switch (e) {
                                                    case "match_parent":
                                                        i.height = "100%",
                                                            (n || r) && (i.maxHeight = "calc(100% - ".concat(n || "0px", " - ").concat(r || "0px", ")"));
                                                        break;
                                                    case "match_content":
                                                        i.height = "auto";
                                                        break;
                                                    default:
                                                        i.height = f.unitParser(e)
                                                }
                                                this.setStyles(i)
                                            }
                                        ]),
                                    e
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "dx-compid",
                                    value: function (e) {
                                        this.setAttrs({
                                            "dx-compid": e
                                        })
                                    }
                                }, {
                                    key: "userId",
                                    value: function (e) {
                                        this.dxCompId = e,
                                            this.setAttrs({
                                                "data-comp-id": e
                                            })
                                    }
                                }, {
                                    key: "minWidth",
                                    value: function (e) {
                                        this.setStyles({
                                            minWidth: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "minHeight",
                                    value: function (e) {
                                        this.setStyles({
                                            minHeight: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "marginLeft",
                                    value: function (e) {
                                        this.setStyles({
                                            marginLeft: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "marginRight",
                                    value: function (e) {
                                        this.setStyles({
                                            marginRight: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "marginTop",
                                    value: function (e) {
                                        this.setStyles({
                                            marginTop: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "marginBottom",
                                    value: function (e) {
                                        this.setStyles({
                                            marginBottom: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "gravity",
                                    value: function (e) {
                                        if (this.layoutProps) {
                                            var t = {}
                                                , n = this.layoutProps
                                                , r = n._viewName
                                                , i = n.orientation
                                                , o = n.childrenLen
                                                , a = n.paddingTop
                                                , s = n.paddingLeft
                                                , l = n.paddingRight
                                                , u = n.paddingBottom
                                                , c = (0,
                                                    g.parseGravity)(e)
                                                , p = c.x
                                                , m = c.y;
                                            if ("FrameLayout" === r) {
                                                if (!f.getGlobalConfig("enableExperimentalRender") || "undefined" === o || o > 1) {
                                                    var h, v = {
                                                        center: "0px"
                                                    };
                                                    h = {},
                                                        (0,
                                                            d.default)(h, "center" === p ? "left" : p, v[p] || 0),
                                                        (0,
                                                            d.default)(h, "center" === m ? "top" : m, v[m] || 0),
                                                        t = h,
                                                        "absolute" === (this.getStyles() || {}).position && (0 == t.top && a && (t.top = f.unitParser(a)),
                                                            0 == t.bottom && u && (t.bottom = f.unitParser(u)),
                                                            0 == t.left && s && (t.left = f.unitParser(s)),
                                                            0 == t.right && l && (t.right = f.unitParser(l)))
                                                }
                                            } else if ("LinearLayout" === r) {
                                                var y = {
                                                    left: "flex-start",
                                                    top: "flex-start",
                                                    right: "flex-end",
                                                    bottom: "flex-end",
                                                    center: "center"
                                                }
                                                    , b = [y[p], y[m]];
                                                i && "horizontal" !== i || (b = b.reverse()),
                                                    t = {
                                                        alignSelf: b[0],
                                                        justifySelf: b[1]
                                                    }
                                            }
                                            this.setStyles(t)
                                        }
                                    }
                                }, {
                                    key: "backgroundColor",
                                    value: function (e) {
                                        this.setStyles({
                                            backgroundColor: f.colorParser(e)
                                        })
                                    }
                                }, {
                                    key: "backgroundGradient",
                                    value: function (e) {
                                        e && this.setStyles({
                                            backgroundImage: e
                                        })
                                    }
                                }, {
                                    key: "alpha",
                                    value: function (e) {
                                        this.setStyles({
                                            opacity: e
                                        })
                                    }
                                }, {
                                    key: "visibility",
                                    value: function (e) {
                                        var t = {
                                            display: "flex"
                                        };
                                        switch (e) {
                                            case "gone":
                                                t.display = "none";
                                                break;
                                            case "invisible":
                                                t.visibility = "hidden";
                                                break;
                                            case "visible":
                                                t.visibility = "visible"
                                        }
                                        this.setStyles(t)
                                    }
                                }, {
                                    key: "cornerRadius",
                                    value: function (e) {
                                        this.setStyles({
                                            borderRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "cornerRadiusLeftTop",
                                    value: function (e) {
                                        this.setStyles({
                                            borderTopLeftRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "cornerRadiusRightTop",
                                    value: function (e) {
                                        this.setStyles({
                                            borderTopRightRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "cornerRadiusLeftBottom",
                                    value: function (e) {
                                        this.setStyles({
                                            borderBottomLeftRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "cornerRadiusRightBottom",
                                    value: function (e) {
                                        this.setStyles({
                                            borderBottomRightRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "borderWidth",
                                    value: function (e, t) {
                                        var n = (t || this.props).borderColor
                                            , r = f.colorParser(n)
                                            , i = f.unitParser(e);
                                        parseFloat(i) < 1 && (i = "1px"),
                                            this.setStyles({
                                                boxShadow: "inset 0 0 0 ".concat(i, " ").concat(r)
                                            })
                                    }
                                }, {
                                    key: "accessibilityText",
                                    value: function (e) {
                                        try {
                                            if (/&#\d+;/.test(e)) {
                                                var t = e && e.replace(/&#(\d+);/g, (function (e, t) {
                                                    return "%u".concat(Number(t).toString(16))
                                                }
                                                ));
                                                e = unescape(t)
                                            }
                                        } catch (e) {
                                            console.error(e)
                                        }
                                        this.setAttrs({
                                            "aria-label": e
                                        })
                                    }
                                }, {
                                    key: "focusable",
                                    value: function (e) { }
                                }, {
                                    key: "weight",
                                    value: function (e) {
                                        var t = this.layoutProps._viewName;
                                        -1 !== y.indexOf(t) && this.setStyles({
                                            flex: e
                                        })
                                    }
                                }, {
                                    key: "clipTopLeftRadius",
                                    value: function (e) {
                                        this.setStyles({
                                            overflow: "hidden",
                                            borderTopLeftRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "clipTopRightRadius",
                                    value: function (e) {
                                        this.setStyles({
                                            overflow: "hidden",
                                            borderTopRightRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "clipBottomLeftRadius",
                                    value: function (e) {
                                        this.setStyles({
                                            overflow: "hidden",
                                            borderBottomLeftRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "clipBottomRightRadius",
                                    value: function (e) {
                                        this.setStyles({
                                            overflow: "hidden",
                                            borderBottomRightRadius: f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "order",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            order: e
                                        })
                                    }
                                }, {
                                    key: "flexGrow",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            flexGrow: e
                                        })
                                    }
                                }, {
                                    key: "flexShrink",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            flexShrink: e
                                        })
                                    }
                                }, {
                                    key: "flexBasis",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            flexBasis: e
                                        })
                                    }
                                }, {
                                    key: "flex",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            flex: e
                                        })
                                    }
                                }, {
                                    key: "alignSelf",
                                    value: function (e) {
                                        b(this.layoutProps) && this.setStyles({
                                            alignSelf: e
                                        })
                                    }
                                }, {
                                    key: "webEventDatasource",
                                    value: function () {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                                            , t = "";
                                        try {
                                            t = JSON.stringify(e)
                                        } catch (e) {
                                            f.utils.log.warn(e)
                                        }
                                        this.setAttrs({
                                            "data-dx-event-datasource": t,
                                            className: "dx-event-node"
                                        })
                                    }
                                }, {
                                    key: "webEventDataSource",
                                    value: function (e) {
                                        this.webEventDatasource(e)
                                    }
                                }, {
                                    key: "onBindData",
                                    value: function (e) {
                                        this._bindData = e.handler()
                                    }
                                }, {
                                    key: "onTap",
                                    value: function (e) {
                                        this.setEvents({
                                            tap: e
                                        }),
                                            this.setAttrs({
                                                className: "dx-event-node"
                                            })
                                    }
                                }, {
                                    key: "onLongTap",
                                    value: function (e) {
                                        this.setEvents({
                                            longTap: e
                                        })
                                    }
                                }, {
                                    key: "onPanBegin",
                                    value: function (e) {
                                        this.setEvents({
                                            panBegin: e
                                        })
                                    }
                                }, {
                                    key: "onPanMove",
                                    value: function (e) {
                                        this.setEvents({
                                            panMove: e
                                        })
                                    }
                                }, {
                                    key: "onPanEnd",
                                    value: function (e) {
                                        this.setEvents({
                                            panEnd: e
                                        })
                                    }
                                }]),
                                n
                        }(p.default);
                        f.registerView("View", _),
                            f.registerView("DView", _);
                        var w = _;
                        t.default = w
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.loopMergeSubData = function e(t, n, r, i) {
                                var l = this;
                                if (t) {
                                    var u = this.props._tplId
                                        , f = this.props._tplContext
                                        , g = t.props
                                        , m = function (e) {
                                            for (var t = 1; t < arguments.length; t++) {
                                                var n = null != arguments[t] ? arguments[t] : {};
                                                t % 2 ? c(Object(n), !0).forEach((function (t) {
                                                    (0,
                                                        o.default)(e, t, n[t])
                                                }
                                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : c(Object(n)).forEach((function (t) {
                                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                                }
                                                ))
                                            }
                                            return e
                                        }({
                                            key: "".concat(g._id, "-").concat(r)
                                        }, g)
                                        , h = m._id = "cc".concat(++f.componentIdSeq)
                                        , v = g._originProps;
                                    for (var y in v) {
                                        var b = v[y]
                                            , _ = p(y);
                                        if (d.test(b)) {
                                            var w = {
                                                data: n,
                                                _tplId: u,
                                                _tplName: g._tplName,
                                                _tplContext: g._tplContext,
                                                _viewName: g._viewName,
                                                _originProps: g._originProps
                                            };
                                            "on" === _.slice(0, 2) ? m[_] = a.eventHandlerParser(b, w) : m[_] = a.dataParser(b, w)
                                        }
                                    }
                                    f.componentIndexSet.push({
                                        id: h,
                                        props: m,
                                        pid: i
                                    });
                                    var x = g.children;
                                    return x && (Array.isArray(x) ? x = x.map((function (t) {
                                        return e.call(l, t, n, r, h)
                                    }
                                    )) : s.isObject(x) && (x = e.call(this, x, n, r, h))),
                                        a.driver.cloneElement(t, m, x)
                                }
                            }
                            ,
                            t.removePropPrefix = void 0;
                        var o = r(n(9))
                            , a = (r(n(20)),
                                u(n(2)))
                            , s = u(n(8));
                        function l(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (l = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function u(e, t) {
                            if (!t && e && e.__esModule)
                                return e;
                            if (null === e || "object" !== i(e) && "function" != typeof e)
                                return {
                                    default: e
                                };
                            var n = l(t);
                            if (n && n.has(e))
                                return n.get(e);
                            var r = {}
                                , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                            for (var a in e)
                                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                }
                            return r.default = e,
                                n && n.set(e, r),
                                r
                        }
                        function c(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        var d = /(\$|\@)?subdata/
                            , f = /^[d][A-Z]/
                            , p = function (e) {
                                if (f.test(e)) {
                                    var t = e.slice(1);
                                    e = t[0].toLowerCase() + t.slice(1)
                                }
                                return e
                            };
                        t.removePropPrefix = p
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(9))
                            , a = r(n(3))
                            , s = r(n(4))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = g(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , f = n(8)
                            , p = n(14);
                        function g(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (g = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function m(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function h(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? m(Object(n), !0).forEach((function (t) {
                                    (0,
                                        o.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : m(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        function v(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        function y(e) {
                            for (var t = e.childNodes || [], n = t.length, r = e.getBoundingClientRect().width, i = this.props.orientation, o = 0, a = 0; a < n; a++) {
                                var s = t[a];
                                if (s.nodeType === Node.ELEMENT_NODE || s.nodeType === Node.TEXT_NODE) {
                                    var l = s.getBoundingClientRect()
                                        , u = parseFloat(s.style.marginLeft) || 0
                                        , c = parseFloat(s.style.marginRight) || 0;
                                    o += l.width + u + c,
                                        0 === l.width && s.style.flex && !(0,
                                            f.isElementInvisable)(s) && (s.style.display = "none"),
                                        o > r && ("horizontal" === i ? s.style.flexShrink = "1" : s.style.maxWidth = "".concat((0,
                                            f.numTrunc)(r - u - c), "px"))
                                }
                            }
                        }
                        var b = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = v(n);
                            function n() {
                                return (0,
                                    a.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                s.default)(n, [{
                                    key: "dynamicCalcSize",
                                    value: function () {
                                        if (d.getGlobalConfig("shouldExecLinearLayoutHack"))
                                            try {
                                                var e = d.driver.findDOMNode(this);
                                                y.call(this, e)
                                            } catch (e) {
                                                d.utils.log.warn(e)
                                            }
                                    }
                                }, {
                                    key: "childGravity",
                                    value: function (e) {
                                        var t, n, r = this.props.orientation, i = e.search(/[A-Z]/);
                                        -1 !== i ? (t = e.slice(0, i),
                                            n = e.slice(i).toLowerCase()) : t = n = e;
                                        var o = {
                                            left: "flex-start",
                                            top: "flex-start",
                                            right: "flex-end",
                                            bottom: "flex-end",
                                            center: "center"
                                        }
                                            , a = [o[t], o[n]];
                                        r && "horizontal" !== r || (a = a.reverse()),
                                            this.setStyles({
                                                alignItems: a[0],
                                                justifyContent: a[1]
                                            })
                                    }
                                }, {
                                    key: "orientation",
                                    value: function (e) {
                                        var t;
                                        t = "horizontal" === e ? "row" : "column",
                                            this.setStyles({
                                                flexDirection: t
                                            })
                                    }
                                }, {
                                    key: "listData",
                                    value: function (e) {
                                        this._listData = e
                                    }
                                }, {
                                    key: "renderLoopChildren",
                                    value: function () {
                                        var e = this
                                            , t = []
                                            , n = this.getChildren()
                                            , r = this.props
                                            , i = {
                                                display: "flex",
                                                flexShrink: 0,
                                                flexGrow: 0,
                                                height: "fit-content"
                                            };
                                        return this._listData && this._listData.forEach((function (o, a) {
                                            n.forEach((function (n, s) {
                                                if (n) {
                                                    var l = "".concat(a, ".").concat(s)
                                                        , u = n.props._originProps.filter
                                                        , c = u && d.dataParser(u, {
                                                            data: o
                                                        })
                                                        , f = n.props._originProps.visibility
                                                        , g = f && d.dataParser(f, {
                                                            _tplId: r._tplId,
                                                            data: o
                                                        })
                                                        , m = i;
                                                    n.props.weight && (m = h(h({}, i), {}, {
                                                        flex: n.props.weight
                                                    })),
                                                        "gone" === g || void 0 !== c && !0 !== c && "true" !== c || t.push(d.h("div", {
                                                            key: l,
                                                            className: "list-item",
                                                            style: m
                                                        }, p.loopMergeSubData.call(e, n, o, l, r._id)))
                                                }
                                            }
                                            ))
                                        }
                                        )),
                                            t
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return Array.isArray(this._listData) && this._listData.length ? this.renderLoopChildren() : this.props.children
                                    }
                                }]),
                                n
                        }(r(n(12)).default);
                        b.defaultProps = {
                            orientation: "horizontal"
                        },
                            d.registerView("LinearLayout", b),
                            d.registerView("DLinearLayout", b);
                        var _ = b;
                        t.default = _
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = m(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(13))
                            , g = n(8);
                        function m(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (m = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function h(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function v(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? h(Object(n), !0).forEach((function (t) {
                                    (0,
                                        d.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        function y(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var b = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = y(n);
                            function n() {
                                var e;
                                (0,
                                    o.default)(this, n);
                                for (var r = arguments.length, i = new Array(r), a = 0; a < r; a++)
                                    i[a] = arguments[a];
                                return e = t.call.apply(t, [this].concat(i)),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "textContent", null),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "maxLines", ["textSize", "lineSpacing", "lineHeight", function (e) {
                                                var t = ~~e
                                                    , n = parseFloat(this.fontSize)
                                                    , r = {
                                                        whiteSpace: "pre-wrap"
                                                    };
                                                if (t > 1) {
                                                    var i = (0,
                                                        g.numTrunc)(1.2 * (n + parseFloat(this._lineSpacing)));
                                                    this._lineHeight && (i = (0,
                                                        g.numTrunc)(parseFloat(this._lineHeight) + parseFloat(this._lineSpacing))),
                                                        r = v(v({}, r), {}, {
                                                            display: "-webkit-box",
                                                            WebkitBoxOrient: "vertical",
                                                            WebkitLineClamp: "".concat(t),
                                                            lineHeight: "".concat(i, "px"),
                                                            overflow: "hidden"
                                                        })
                                                } else
                                                    r.lineHeight = this._lineHeight || "".concat((0,
                                                        g.numTrunc)(1.2 * n), "px"),
                                                        1 === t && (r.whiteSpace = "pre");
                                                this.setStyles({
                                                    overflow: "hidden"
                                                }),
                                                    this.setStyles(r, "font")
                                            }
                                        ]),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "textAlignment", ["textGravity", e.textGravity]),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "_elmCallback", (function (t) {
                                                var n = e.layoutProps && "AdaptiveLinearLayout" === e.layoutProps._viewName;
                                                f.getGlobalConfig("disableCharBreak") || !t || "char" !== e.props.lineBreakMode || n || setTimeout((function () {
                                                    e._sliceText(t)
                                                }
                                                ), 100)
                                            }
                                        )),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "_sliceText", (function (t) {
                                                var n = t.offsetWidth;
                                                if (n && e.props.text && !/\d/.test(e.props.text))
                                                    try {
                                                        var r = window.getComputedStyle(t, null).getPropertyValue("font-size")
                                                            , i = parseFloat(r) || 12
                                                            , o = Math.floor(n / i)
                                                            , a = e.props.text.slice(0, o);
                                                        a !== e.textContent && (e.textContent = a,
                                                            e.forceUpdate())
                                                    } catch (e) {
                                                        console.error(e)
                                                    }
                                            }
                                        )),
                                    e
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "componentDidUpdate",
                                    value: function () {
                                        this.calcLayoutSize()
                                    }
                                }, {
                                    key: "lineHeight",
                                    value: function (e) {
                                        this._lineHeight = -1 == e ? 0 : f.unitParser(e)
                                    }
                                }, {
                                    key: "text",
                                    value: function (e, t) {
                                        var n = (t || this.props).visibility;
                                        "gone" !== n && "invisible" !== n && (e ? (this.textContent = e,
                                            this.setStyles({
                                                display: "flex",
                                                visibility: "visible"
                                            })) : this.setStyles({
                                                visibility: "hidden"
                                            }))
                                    }
                                }, {
                                    key: "textSize",
                                    value: function (e) {
                                        if (e) {
                                            var t = f.unitParser(e);
                                            this.setStyles({
                                                fontSize: t
                                            }),
                                                this.fontSize = t
                                        }
                                    }
                                }, {
                                    key: "lineSpacing",
                                    value: function (e) {
                                        this._lineSpacing = f.unitParser(e) || 0
                                    }
                                }, {
                                    key: "textStyle",
                                    value: function (e) {
                                        var t = {};
                                        switch (e) {
                                            case "bold":
                                                t.fontWeight = "bold";
                                                break;
                                            case "italic":
                                                t.fontStyle = "italic"
                                        }
                                        this.setStyles(t)
                                    }
                                }, {
                                    key: "textColor",
                                    value: function (e) {
                                        this.setStyles({
                                            color: f.colorParser(e)
                                        })
                                    }
                                }, {
                                    key: "textGravity",
                                    value: function (e) {
                                        var t = {
                                            justifyContent: "center",
                                            alignItems: "center"
                                        };
                                        switch (e) {
                                            case "left":
                                                t.justifyContent = "flex-start";
                                                break;
                                            case "right":
                                                t.justifyContent = "flex-end";
                                                break;
                                            case "center":
                                                t.textAlign = "center"
                                        }
                                        this.setStyles(t)
                                    }
                                }, {
                                    key: "lineBreakMode",
                                    value: function (e) {
                                        var t = {
                                            overflow: "hidden"
                                        };
                                        switch (e) {
                                            case "none":
                                                this.setStyles({
                                                    overflow: "hidden"
                                                }),
                                                    t.textOverflow = "clip";
                                                break;
                                            case "start":
                                            case "middle":
                                                break;
                                            case "end":
                                                t.textOverflow = "ellipsis"
                                        }
                                        this.setStyles(t, "font")
                                    }
                                }, {
                                    key: "maxWidth",
                                    value: function (e) {
                                        this.setStyles({
                                            maxWidth: "-1" === e ? "none" : f.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "isBold",
                                    value: function (e) {
                                        var t = (0,
                                            g.isTrue)(e) ? "bold" : "normal";
                                        this.setStyles({
                                            fontWeight: t
                                        })
                                    }
                                }, {
                                    key: "isItalic",
                                    value: function (e) {
                                        var t = (0,
                                            g.isTrue)(e) ? "italic" : "normal";
                                        this.setStyles({
                                            fontStyle: t
                                        })
                                    }
                                }, {
                                    key: "isStrikeThrough",
                                    value: function (e) {
                                        var t = (0,
                                            g.isTrue)(e) ? "line-through" : "none";
                                        this.setStyles({
                                            textDecoration: t
                                        })
                                    }
                                }, {
                                    key: "strikeThroughStyle",
                                    value: function (e) {
                                        var t = (0,
                                            g.isTrue)(e) ? "line-through" : "none";
                                        this.setStyles({
                                            textDecoration: t
                                        })
                                    }
                                }, {
                                    key: "isUnderline",
                                    value: function (e) {
                                        var t = (0,
                                            g.isTrue)(e) ? "underline" : "none";
                                        this.setStyles({
                                            textDecoration: t
                                        })
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return f.h("span", {
                                            style: this.getStyles("font"),
                                            ref: this._elmCallback
                                        }, (e = this.textContent,
                                            t = /&#(\d{1,5});/g,
                                            (0,
                                                g.isString)(e) && -1 !== e.search(t) ? e.replace(t, (function (e, t) {
                                                    return String.fromCharCode(t)
                                                }
                                                )) : e));
                                        var e, t
                                    }
                                }]),
                                n
                        }(p.default);
                        b.defaultProps = {
                            textSize: "12np",
                            textGravity: "left",
                            lineBreakMode: "end",
                            maxLines: "1",
                            maxWidth: "-1",
                            lineHeight: "-1"
                        },
                            f.registerView("TextView", b),
                            f.registerView("DTextView", b);
                        var _ = b;
                        t.default = _
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = g(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , d = r(n(13))
                            , f = r(n(43))
                            , p = n(8);
                        function g(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (g = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function m(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var h = /^(http)?(s)?(:)?\/\//
                            , v = /\/\/(gw|img)\.alicdn\.com/
                            , y = /(\.(gif|webp))$/
                            , b = [16, 20, 24, 30, 32, 36, 40, 48, 50, 60, 64, 70, 72, 80, 88, 90, 100, 110, 120, 125, 128, 145, 180, 190, 200, 200, 210, 220, 230, 240, 250, 270, 300, 310, 315, 320, 336, 360, 468, 490, 540, 560, 580, 600, 640, 720, 728, 760, 970]
                            , _ = (0,
                                f.default)();
                        function w(e, t, n) {
                            if (!v.test(n) || y.test(n))
                                return "";
                            var r = parseInt(e) || -1
                                , i = parseInt(t) || -1
                                , o = "_620x10000"
                                , a = _ ? "_.webp" : "";
                            if (-1 !== r && -1 !== i)
                                for (var s = 2 * Math.max(r, i), l = 0, u = b.length; l < u; l++)
                                    if (b[l] > s) {
                                        var c = b[l];
                                        o = "_".concat(c, "x").concat(c);
                                        break
                                    }
                            return o + "q90" + a
                        }
                        var x = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = m(n);
                            function n(e) {
                                var r;
                                return (0,
                                    o.default)(this, n),
                                    (r = t.call(this, e)).setStyles({
                                        width: "100%",
                                        height: "100%"
                                    }, "img"),
                                    r.setStyles({
                                        overflow: "hidden"
                                    }),
                                    r.imageData = {},
                                    r.forceOriginalImg = c.getGlobalConfig("forceOriginalImg") || (0,
                                        p.isTrue)(e.forceOriginal),
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "imageName",
                                    value: function (e) {
                                        this.setStyles({
                                            backgroundImage: "url(".concat(c.getLocalImage(e), ")")
                                        }, "img")
                                    }
                                }, {
                                    key: "image",
                                    value: function (e) {
                                        h.test(e) ? this.setStyles({
                                            backgroundImage: "url(".concat(e, ")")
                                        }, "img") : this.setStyles({
                                            background: e
                                        }, "img")
                                    }
                                }, {
                                    key: "imageUrl",
                                    value: function () {
                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                                            , t = this.props
                                            , n = t.width
                                            , r = t.height
                                            , i = t.aspectRatio;
                                        if ("match_content" === n && void 0 === i || "match_content" === r && void 0 === i)
                                            this.imageData = {
                                                isAutoImg: !0,
                                                imgSrc: e,
                                                fallbackSrc: e
                                            };
                                        else {
                                            var o = ""
                                                , a = "";
                                            if (e && !this.forceOriginalImg && (a = e.replace(/_\d+x\d+\.(jpg|png|gif|jpeg)$/i, ""),
                                                o = w(n, r, e)),
                                                this.imageData = {
                                                    isAutoImg: !1,
                                                    imgSrc: (a || e) + o,
                                                    fallbackSrc: e
                                                },
                                                i) {
                                                var s = {}
                                                    , l = String(n)
                                                    , u = String(r)
                                                    , d = /match_/;
                                                if (d.test(l) && r && !d.test(u)) {
                                                    var f = parseFloat(c.unitParser(u));
                                                    s.width = f * i + "px"
                                                } else if (d.test(u) && l && !d.test(l)) {
                                                    var p = parseFloat(c.unitParser(l));
                                                    s.height = p / i + "px"
                                                }
                                                this.setStyles(s, "img")
                                            }
                                        }
                                    }
                                }, {
                                    key: "aspectRatio",
                                    value: function (e) {
                                        this.aspectRatioValue = e
                                    }
                                }, {
                                    key: "scaleType",
                                    value: function (e) {
                                        var t = {
                                            backgroundRepeat: "no-repeat",
                                            backgroundPosition: "center"
                                        };
                                        switch (e) {
                                            case "fitXY":
                                                t.backgroundSize = "100% 100%";
                                                break;
                                            case "fitCenter":
                                            case "centerInside":
                                                t.backgroundSize = "contain";
                                                break;
                                            case "centerCrop":
                                                t.backgroundSize = "cover"
                                        }
                                        this.setStyles(t, "img")
                                    }
                                }, {
                                    key: "dynamicImageLoaded",
                                    value: function () {
                                        var e = this.imageData
                                            , t = e.imgSrc
                                            , n = e.isAutoImg
                                            , r = this.$wrap;
                                        if (n && r) {
                                            var i = this.$img || {}
                                                , o = i.naturalHeight
                                                , a = void 0 === o ? null : o
                                                , s = i.naturalWidth
                                                , l = void 0 === s ? null : s
                                                , u = this.props
                                                , c = u.width
                                                , d = u.height
                                                , f = null;
                                            if (a && l && (f = this.aspectRatioValue || l / a),
                                                !f)
                                                return;
                                            if ("match_content" === c && "match_content" === d && (r.style.height = a,
                                                r.style.width = l),
                                                "match_content" === d && "match_content" !== c) {
                                                var p = r.parentElement.offsetWidth;
                                                r.style.height = "".concat(Math.ceil(parseFloat("match_parent" === c ? p : c) * (1 / f)), "px")
                                            }
                                            if ("match_content" === c && "match_content" !== d) {
                                                var g = r.parentElement && r.parentElement.offsetHeight;
                                                r.style.width = "".concat(Math.ceil(f * parseFloat("match_parent" === d ? g : d)), "px")
                                            }
                                            this.calcLayoutSize()
                                        }
                                        r && (r.style.backgroundImage = "url(".concat(t, ")"))
                                    }
                                }, {
                                    key: "dynamicImageLoadError",
                                    value: function () {
                                        var e = this.imageData.fallbackSrc
                                            , t = this.props
                                            , n = t.width
                                            , r = t.height
                                            , i = e;
                                        if (this.$wrap && !this.forceOriginalImg && "match_parent" === n && "match_parent" === r) {
                                            var o = ~~this.$wrap.offsetHeight;
                                            i += w(~~this.$wrap.offsetWidth, o, e)
                                        }
                                        this.$wrap && (this.$wrap.style.backgroundImage = i !== e ? "url(".concat(i, "), url(").concat(e, ")") : "url(".concat(i, ")"))
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        var e = this
                                            , t = (this.imageData || {}).imgSrc
                                            , n = this.props
                                            , r = n.width
                                            , i = n.height;
                                        return t && "undefined" !== t ? c.h("div", {
                                            ref: function (t) {
                                                return e.$wrap = t
                                            },
                                            style: this.getStyles("img")
                                        }, c.h("img", {
                                            onLoad: function () {
                                                return e.dynamicImageLoaded()
                                            },
                                            onError: function () {
                                                return e.dynamicImageLoadError()
                                            },
                                            src: "match_parent" === r && "match_parent" === i ? "" : t,
                                            ref: function (t) {
                                                return e.$img = t
                                            },
                                            style: {
                                                maxHeight: "100%",
                                                maxWidth: "100%",
                                                opacity: 0
                                            }
                                        })) : c.h("div", {
                                            style: this.getStyles("img")
                                        })
                                    }
                                }]),
                                n
                        }(d.default);
                        x.defaultProps = {
                            scaleType: "fitCenter"
                        },
                            c.registerView("ImageView", x),
                            c.registerView("DImageView", x);
                        var O = x;
                        t.default = O
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.chooseCssValue = function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                                    , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []
                                    , n = t[t.length - 1] || "";
                                switch (e) {
                                    case "display":
                                        t.indexOf(i) > -1 && (n = i)
                                }
                                return n
                            }
                            ;
                        var r = document.createElement("div");
                        r.style.display = "-webkit-box",
                            r.style.display = "-moz-box",
                            r.style.display = "-webkit-flex",
                            r.style.display = "flex";
                        var i = r.style.display
                    }
                    , function (e, t) {
                        function n() {
                            return e.exports = n = Object.assign || function (e) {
                                for (var t = 1; t < arguments.length; t++) {
                                    var n = arguments[t];
                                    for (var r in n)
                                        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                                }
                                return e
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0,
                                n.apply(this, arguments)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, n) {
                        e.exports = t
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function f(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var p = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = f(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "hImageUrl",
                                    value: function (e) {
                                        this.imageUrl(e)
                                    }
                                }, {
                                    key: "hPlaceHolderImage",
                                    value: function (e) {
                                        this.placeHolderImage(e)
                                    }
                                }, {
                                    key: "hAspectRatio",
                                    value: function (e) {
                                        this.aspectRatio(e)
                                    }
                                }, {
                                    key: "hCornerRadius",
                                    value: function (e) {
                                        this.cornerRadius(e)
                                    }
                                }, {
                                    key: "hBorderWidth",
                                    value: function (e) {
                                        this.borderWidth(e)
                                    }
                                }, {
                                    key: "hBorderColor",
                                    value: function (e) {
                                        this.borderColor(e)
                                    }
                                }, {
                                    key: "hScaleType",
                                    value: function (e) {
                                        this.scaleType(e)
                                    }
                                }]),
                                n
                        }(r(n(17)).default);
                        p.defaultProps = {
                            hScaleType: "fitCenter"
                        },
                            c.registerView("HImageView", p);
                        var g = p;
                        t.default = g
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e) {
                                return (0,
                                    o.default)(e)
                            }
                            ;
                        var r, i = n(29), o = (r = i) && r.__esModule ? r : {
                            default: r
                        };
                        e.exports = t.default
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            Object.defineProperty(t, "AdaptiveLinearLayout", {
                                enumerable: !0,
                                get: function () {
                                    return a.default
                                }
                            }),
                            Object.defineProperty(t, "CheckBox", {
                                enumerable: !0,
                                get: function () {
                                    return _.default
                                }
                            }),
                            Object.defineProperty(t, "DTextView", {
                                enumerable: !0,
                                get: function () {
                                    return p.default
                                }
                            }),
                            Object.defineProperty(t, "FastTextView", {
                                enumerable: !0,
                                get: function () {
                                    return g.default
                                }
                            }),
                            Object.defineProperty(t, "FlexLayout", {
                                enumerable: !0,
                                get: function () {
                                    return l.default
                                }
                            }),
                            Object.defineProperty(t, "FrameLayout", {
                                enumerable: !0,
                                get: function () {
                                    return i.default
                                }
                            }),
                            Object.defineProperty(t, "GridLayout", {
                                enumerable: !0,
                                get: function () {
                                    return u.default
                                }
                            }),
                            Object.defineProperty(t, "HGifView", {
                                enumerable: !0,
                                get: function () {
                                    return v.default
                                }
                            }),
                            Object.defineProperty(t, "HVideoView", {
                                enumerable: !0,
                                get: function () {
                                    return y.default
                                }
                            }),
                            Object.defineProperty(t, "ImageView", {
                                enumerable: !0,
                                get: function () {
                                    return m.default
                                }
                            }),
                            Object.defineProperty(t, "Layout", {
                                enumerable: !0,
                                get: function () {
                                    return d.default
                                }
                            }),
                            Object.defineProperty(t, "LinearLayout", {
                                enumerable: !0,
                                get: function () {
                                    return o.default
                                }
                            }),
                            Object.defineProperty(t, "ListLayout", {
                                enumerable: !0,
                                get: function () {
                                    return s.default
                                }
                            }),
                            Object.defineProperty(t, "ScrollerLayout", {
                                enumerable: !0,
                                get: function () {
                                    return c.default
                                }
                            }),
                            Object.defineProperty(t, "Switch", {
                                enumerable: !0,
                                get: function () {
                                    return b.default
                                }
                            }),
                            Object.defineProperty(t, "TImageView", {
                                enumerable: !0,
                                get: function () {
                                    return h.default
                                }
                            }),
                            Object.defineProperty(t, "TextInput", {
                                enumerable: !0,
                                get: function () {
                                    return w.default
                                }
                            }),
                            Object.defineProperty(t, "TextView", {
                                enumerable: !0,
                                get: function () {
                                    return p.default
                                }
                            }),
                            Object.defineProperty(t, "View", {
                                enumerable: !0,
                                get: function () {
                                    return f.default
                                }
                            }),
                            Object.defineProperty(t, "bindGestureEvent", {
                                enumerable: !0,
                                get: function () {
                                    return x.bindGestureEvent
                                }
                            }),
                            Object.defineProperty(t, "loopMergeSubData", {
                                enumerable: !0,
                                get: function () {
                                    return O.loopMergeSubData
                                }
                            }),
                            n(18);
                        var i = r(n(24))
                            , o = r(n(15))
                            , a = r(n(37))
                            , s = r(n(38))
                            , l = r(n(39))
                            , u = r(n(40))
                            , c = r(n(41))
                            , d = r(n(12))
                            , f = r(n(13))
                            , p = r(n(16))
                            , g = r(n(42))
                            , m = r(n(17))
                            , h = r(n(44))
                            , v = r(n(45))
                            , y = r(n(46))
                            , b = r(n(47))
                            , _ = r(n(48))
                            , w = r(n(49))
                            , x = n(8)
                            , O = n(14)
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = p(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , d = r(n(12))
                            , f = n(8);
                        function p(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (p = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function g(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        function m(e) {
                            var t = "match_content" === this.props.width
                                , n = "match_content" === this.props.height;
                            if (!t && !n)
                                return null;
                            t && (e.style.width = "auto"),
                                n && (e.style.height = "auto");
                            for (var r = -1, i = -1, o = e.childNodes || [], a = o.length, s = this.getChildren(), l = 0; l < a; l++) {
                                var u = o[l];
                                if ((u.nodeType === Node.ELEMENT_NODE || u.nodeType === Node.TEXT_NODE) && !(0,
                                    f.isElementInvisable)(u)) {
                                    var d = s[l].props || {}
                                        , p = !1;
                                    t && "match_parent" === d.width && (p = !0);
                                    var g = !1;
                                    if (n && "match_parent" === d.height && (g = !0),
                                        !g || !p) {
                                        var m = (0,
                                            f.getRect)(u);
                                        if (m) {
                                            var h = m.width
                                                , v = void 0 === h ? u.offsetWidth : h
                                                , y = m.height
                                                , b = void 0 === y ? u.offsetHeight : y;
                                            u.style && "none" !== u.style.display && (u.style.marginLeft && (v += parseFloat(u.style.marginLeft) || 0),
                                                u.style.marginRight && (v += parseFloat(u.style.marginRight) || 0),
                                                u.style.marginTop && (b += parseFloat(u.style.marginTop) || 0),
                                                u.style.marginBottom && (b += parseFloat(u.style.marginBottom) || 0)),
                                                p || (r = Math.max(v, r)),
                                                g || (i = Math.max(b, i))
                                        }
                                    }
                                }
                            }
                            var _ = (0,
                                f.getRect)(e) || {
                                width: 0,
                                height: 0
                            }
                                , w = this.props
                                , x = w.paddingTop
                                , O = w.paddingBottom
                                , S = w.paddingLeft
                                , M = w.paddingRight;
                            return x && (i += parseFloat(c.unitParser(x))),
                                O && (i += parseFloat(c.unitParser(O))),
                                S && (r += parseFloat(c.unitParser(S))),
                                M && (r += parseFloat(c.unitParser(M))),
                            {
                                width: (0,
                                    f.numTrunc)(t ? r : _.width),
                                height: (0,
                                    f.numTrunc)(n ? i : _.height)
                            }
                        }
                        function h(e, t) {
                            for (var n = t || (0,
                                f.getRect)(e) || {
                                width: 0,
                                height: 0
                            }, r = n.width, i = n.height, o = e.childNodes || [], a = this.getChildren(), s = 0; s < o.length; s++) {
                                var l = o[s]
                                    , u = a[s]
                                    , c = (0,
                                        f.getRect)(l);
                                if (u && u.props && c) {
                                    var d = u.props.gravity
                                        , p = parseFloat(l.style.marginLeft) || 0
                                        , g = parseFloat(l.style.marginRight) || 0
                                        , m = parseFloat(l.style.marginTop) || 0
                                        , h = parseFloat(l.style.marginBottom) || 0
                                        , v = c.width + p + g
                                        , y = c.height + m + h;
                                    "center" !== d && "leftCenter" !== d && "rightCenter" !== d || (l.style.top = "".concat((i - y) / 2, "px")),
                                        "center" !== d && "centerTop" !== d && "centerBottom" !== d || (l.style.left = "".concat((r - v) / 2, "px"))
                                }
                            }
                        }
                        var v = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = g(n);
                            function n(e) {
                                var r;
                                (0,
                                    o.default)(this, n),
                                    r = t.call(this, e);
                                var i = c.getGlobalConfig("enableExperimentalRender");
                                return r.shouldConvert2Flex = i && e.childrenLen <= 1,
                                    r.updateFlexStyle(),
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "updateFlexStyle",
                                    value: function () {
                                        var e = this.shouldConvert2Flex
                                            , t = this.props;
                                        if (e && t.children && t.children.props && t.children.props.gravity) {
                                            var n = t.children.props.gravity
                                                , r = (0,
                                                    f.parseGravity)(n)
                                                , i = r.x
                                                , o = r.y
                                                , a = {
                                                    left: "flex-start",
                                                    top: "flex-start",
                                                    right: "flex-end",
                                                    bottom: "flex-end",
                                                    center: "center"
                                                };
                                            this.setStyles({
                                                justifyContent: a[i],
                                                alignItems: a[o]
                                            })
                                        }
                                    }
                                }, {
                                    key: "dynamicCalcSize",
                                    value: function () {
                                        if (!this.shouldConvert2Flex) {
                                            var e;
                                            try {
                                                e = c.driver.findDOMNode(this)
                                            } catch (e) {
                                                return
                                            }
                                            var t = m.call(this, e);
                                            if (h.call(this, e, t),
                                                t) {
                                                var n = t.width
                                                    , r = t.height;
                                                "match_content" === this.props.width && (e.style.width = "".concat(n, "px")),
                                                    "match_content" === this.props.height && (e.style.height = "".concat(r, "px"))
                                            }
                                        }
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return this.props.children
                                    }
                                }]),
                                n
                        }(d.default);
                        c.registerView("FrameLayout", v),
                            c.registerView("DFrameLayout", v);
                        var y = v;
                        t.default = y
                    }
                    , function (e, t) {
                        function n(t, r) {
                            return e.exports = n = Object.setPrototypeOf || function (e, t) {
                                return e.__proto__ = t,
                                    e
                            }
                                ,
                                e.exports.default = e.exports,
                                e.exports.__esModule = !0,
                                n(t, r)
                        }
                        e.exports = n,
                            e.exports.default = e.exports,
                            e.exports.__esModule = !0
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(19))
                            , a = r(n(3))
                            , s = r(n(4))
                            , l = r(n(11))
                            , u = r(n(5))
                            , c = r(n(6))
                            , d = r(n(7))
                            , f = r(n(9))
                            , p = y(n(2))
                            , g = y(n(8))
                            , m = r(n(28))
                            , h = n(18);
                        function v(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (v = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function y(e, t) {
                            if (!t && e && e.__esModule)
                                return e;
                            if (null === e || "object" !== i(e) && "function" != typeof e)
                                return {
                                    default: e
                                };
                            var n = v(t);
                            if (n && n.has(e))
                                return n.get(e);
                            var r = {}
                                , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                            for (var a in e)
                                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                }
                            return r.default = e,
                                n && n.set(e, r),
                                r
                        }
                        function b(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    d.default)(e);
                                if (t) {
                                    var i = (0,
                                        d.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    c.default)(this, n)
                            }
                        }
                        var _ = function () { }
                            , w = function (e) {
                                return e && "_" === e[0]
                            }
                            , x = function (e) {
                                return "children" !== e && "dinamic" !== e
                            }
                            , O = function () {
                                try {
                                    var e = navigator.userAgent.toLowerCase()
                                        , t = 0;
                                    return e.indexOf("android") > 0 && (t = (e.match(/android [\d._]+/gi) + "").replace(/[^0-9|_.]/gi, "").replace(/_/gi, "."),
                                        t = parseInt(t.split(".")[0])),
                                        t
                                } catch (e) { }
                                return 0
                            }()
                            , S = function () {
                                try {
                                    var e = navigator.userAgent;
                                    if (/iphone/i.test(e) || /ipad/i.test(e)) {
                                        var t = e.match(/ os (\d+)_+/i);
                                        if (t)
                                            return parseInt(t[1])
                                    }
                                } catch (e) {
                                    console.log(e)
                                }
                                return null
                            }()
                            , M = function (e) {
                                (0,
                                    u.default)(n, e);
                                var t = b(n);
                                function n(e) {
                                    var r, i;
                                    if ((0,
                                        a.default)(this, n),
                                        r = t.call(this, e),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "getStyles", (i = P.call((0,
                                                    l.default)(r), "styles"),
                                                    function () {
                                                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default";
                                                        return this.styleParser(i(e))
                                                    }
                                            )),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "setStyles", E.call((0,
                                                    l.default)(r), "styles")),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "getAttrs", P.call((0,
                                                    l.default)(r), "attrs")),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "setAttrs", E.call((0,
                                                    l.default)(r), "attrs")),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "getEvents", P.call((0,
                                                    l.default)(r), "events")),
                                        (0,
                                            f.default)((0,
                                                l.default)(r), "setEvents", E.call((0,
                                                    l.default)(r), "events")),
                                        r.setStyles({
                                            position: "relative",
                                            display: "flex"
                                        }),
                                        r.layoutProps = C.call((0,
                                            l.default)(r)),
                                        r.layoutProps) {
                                        var o = r.layoutProps
                                            , s = o._viewName
                                            , u = o.childrenLen;
                                        if ("FrameLayout" === s) {
                                            var c = !0;
                                            p.getGlobalConfig("enableExperimentalRender") && 1 === u && (c = !1);
                                            var d = function () {
                                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                                                    , t = e._idIndex
                                                    , n = e._tplContext;
                                                if (!t || !n || !n.componentIndexSet)
                                                    return !1;
                                                var r = n.componentIndexSet[t]
                                                    , i = n.componentIndexSet[t - 1];
                                                return !(!r || !i || r.pid !== i.id)
                                            }(e)
                                                , g = !e.gravity || /leftTop/.test(e.gravity);
                                            d && g && (c = !1),
                                                p.utils && p.utils.env && !p.utils.env.isIOS && O <= 6 && (c = !0),
                                                c ? (r.setStyles({
                                                    position: "absolute"
                                                }),
                                                    !e.gravity && S && S <= 10 && r.setStyles({
                                                        left: 0
                                                    })) : r.setStyles({
                                                        alignSelf: "flex-start"
                                                    })
                                        } else
                                            "LinearLayout" === s && r.setStyles({
                                                flexShrink: 0,
                                                flexGrow: 0
                                            })
                                    }
                                    return j.call((0,
                                        l.default)(r)),
                                        D.call((0,
                                            l.default)(r)),
                                        r
                                }
                                return (0,
                                    s.default)(n, [{
                                        key: "render",
                                        value: function () {
                                            var e = this.props;
                                            return k.call(this),
                                                p.h("div", (0,
                                                    o.default)({
                                                        key: e._id,
                                                        "view-name": this.getViewName(),
                                                        style: this.getStyles()
                                                    }, this.getAttrs()), "gone" !== e.visibility && this.renderView && this.renderView(e))
                                        }
                                    }, {
                                        key: "getChildren",
                                        value: function () {
                                            var e = this.props.children;
                                            return Array.isArray(e) ? e : g.isObject(e) ? [e] : []
                                        }
                                    }, {
                                        key: "getTemplateId",
                                        value: function () {
                                            return this.props._tplId
                                        }
                                    }, {
                                        key: "getViewName",
                                        value: function () {
                                            return this.props._viewName
                                        }
                                    }, {
                                        key: "styleParser",
                                        value: function (e) {
                                            var t = (0,
                                                m.default)(e);
                                            for (var n in t) {
                                                var r = t[n];
                                                Array.isArray(r) && (t[n] = (0,
                                                    h.chooseCssValue)(n, r))
                                            }
                                            return t
                                        }
                                    }, {
                                        key: "propParser",
                                        value: function (e) {
                                            var t = this
                                                , n = []
                                                , r = e || this.props;
                                            for (var i in r) {
                                                var o = r[i];
                                                if (!w(i) && x(i)) {
                                                    var a = this[i];
                                                    if (!a)
                                                        continue;
                                                    if (Array.isArray(a) && a.length > 1)
                                                        a.slice(0, -1).forEach((function (e) {
                                                            var i = t[e];
                                                            if (-1 === n.indexOf(e) && g.isFunction(i)) {
                                                                var o = r[e];
                                                                i.call(t, o),
                                                                    n.push(e)
                                                            }
                                                        }
                                                        )),
                                                            a.slice(-1)[0].call(this, o);
                                                    else {
                                                        if (-1 !== n.indexOf(i))
                                                            continue;
                                                        a.call(this, o, r),
                                                            n.push(i)
                                                    }
                                                }
                                            }
                                        }
                                    }]),
                                    n
                            }(p.Component);
                        function P(e) {
                            var t = this;
                            return function () {
                                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "default";
                                return Object.assign({}, t[e][n]) || {}
                            }
                        }
                        function E(e) {
                            var t = this;
                            return this[e] = this[e] || {},
                                function (n) {
                                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "default";
                                    t[e][r] = Object.assign(t[e][r] || {}, n)
                                }
                        }
                        function k() {
                            for (var e = this.props, t = e._id, n = e._tplContext.componentIndexSet, r = n.length - 1; r >= 0; r--)
                                if (n[r].id === t)
                                    return void (n[r].context = this)
                        }
                        function I() {
                            var e = this
                                , t = this.props._tplContext.lifeCycles.componentWillBindEvent
                                , n = p.driver.findDOMNode(this);
                            if (!n)
                                return !1;
                            var r = this.getEvents();
                            if (Object.keys(r).length > 0) {
                                var i = g.bindGestureEvent(n)
                                    , o = function (o) {
                                        var a = r[o];
                                        t.call(e, a, n),
                                            a && i.on(o, (function (t) {
                                                var n = e.getEvents();
                                                (a = n[o]).handler(t)
                                            }
                                            ))
                                    };
                                for (var a in r)
                                    o(a)
                            }
                        }
                        function C() {
                            for (var e = this.props, t = e._tplContext, n = e._id, r = t.componentIndexSet, i = r.length - 1; i >= 0; i--) {
                                var o = r[i]
                                    , a = o.id
                                    , s = o.pid;
                                if (a === n) {
                                    if (!s)
                                        break;
                                    for (var l = i - 1; l >= 0; l--) {
                                        var u = r[l]
                                            , c = u.id
                                            , d = u.props;
                                        if (s === c)
                                            return d
                                    }
                                }
                            }
                            return null
                        }
                        var T = {};
                        function D() {
                            var e = this
                                , t = p.getGlobalConfig("shouldSplitLayoutTask");
                            this.calcLayoutSize = function () {
                                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _
                                    , r = e.props._tplContext
                                    , i = r.componentIndexSet
                                    , o = (r.lifeCycles,
                                        e.getTemplateId())
                                    , a = T[o];
                                a && window.clearTimeout(a),
                                    T[o] = setTimeout((function () {
                                        for (var e = function (e) {
                                            var r = i[e].context;
                                            r && r.dynamicCalcSize && (t ? g.runframeTask(n)((function () {
                                                return r.dynamicCalcSize()
                                            }
                                            )) : r.dynamicCalcSize())
                                        }, r = i.length - 1; r >= 0; r--)
                                            e(r);
                                        t || n()
                                    }
                                    ), 0)
                            }
                        }
                        function j() {
                            var e = this
                                , t = {
                                    shouldComponentUpdate: function (t, n) {
                                        return !(!n && !t.children && g.isEqual(t, e.props) || (e.propParser(t),
                                            0))
                                    },
                                    componentWillMount: function () {
                                        e.propParser()
                                    },
                                    componentDidMount: function () {
                                        var t = e.props._tplContext
                                            , n = t.lifeCycles
                                            , r = t.shadow;
                                        n.componentFinishFirstPaint.call(e, e.dxCompId, p.driver.findDOMNode(e), r, {
                                            bindData: e._bindData
                                        }),
                                            p.getGlobalConfig("disableEventBinding") || I.call(e)
                                    },
                                    componentWillUnmount: _,
                                    componentWillReceiveProps: _,
                                    componentWillUpdate: _,
                                    componentDidUpdate: function (t, n) {
                                        e.layoutProps && e.layoutProps.listData && e.props._id !== t._id && I.call(e)
                                    }
                                }
                                , n = function (n) {
                                    var r = t[n]
                                        , i = e[n] || function () { }
                                        ;
                                    e[n] = function () {
                                        for (var t = arguments.length, n = new Array(t), o = 0; o < t; o++)
                                            n[o] = arguments[o];
                                        var a = r.apply(e, n)
                                            , s = i.apply(e, n);
                                        return s || a
                                    }
                                };
                            for (var r in t)
                                n(r)
                        }
                        M.defaultProps = {
                            gravity: "leftTop"
                        };
                        var N = M;
                        t.default = N
                    }
                    , function (e, t, n) {
                        e.exports = function () {
                            "use strict";
                            function e(t) {
                                return (e = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {
                                    return typeof e
                                }
                                    : function (e) {
                                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                                    }
                                )(t)
                            }
                            function t(e, t) {
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    r.enumerable = r.enumerable || !1,
                                        r.configurable = !0,
                                        "value" in r && (r.writable = !0),
                                        Object.defineProperty(e, r.key, r)
                                }
                            }
                            var n = window.document
                                , r = n.documentElement
                                , i = function (e) {
                                    return Array.prototype.slice.call(e)
                                }
                                , o = {}
                                , a = null
                                , s = "ontouchstart" in r
                                , l = {
                                    tap: "click"
                                }
                                , u = function (e, t) {
                                    return Math.abs(e) > Math.abs(t) ? e < 0 ? "left" : "right" : t < 0 ? "up" : "down"
                                };
                            function c(e, t) {
                                for (var n = e; n;) {
                                    if (n.contains(t) || n === t)
                                        return n;
                                    n = n.parentNode
                                }
                                return null
                            }
                            function d(t, r, i) {
                                if (t) {
                                    var o = n.createEvent("HTMLEvents");
                                    if (o.initEvent(r, !0, !0),
                                        "object" === e(i))
                                        for (var a in i)
                                            o[a] = i[a];
                                    t.dispatchEvent(o)
                                }
                            }
                            function f(e) {
                                var t, n, a, s;
                                function l(n, r) {
                                    return function () {
                                        "tapping" === t.status && (t.status = "longTapping",
                                            d(n, "dx_longtap", {
                                                touch: r,
                                                touches: e.touches,
                                                changedTouches: e.changedTouches,
                                                touchEvent: e
                                            })),
                                            clearTimeout(t.longTapHandler),
                                            t.longTapHandler = null
                                    }
                                }
                                0 === Object.keys(o).length && (r.addEventListener("touchmove", p, !1),
                                    r.addEventListener("touchend", g, !1),
                                    r.addEventListener("touchcancel", m, !1));
                                for (var u = 0; u < e.changedTouches.length; u++) {
                                    for (var f in a = {},
                                        n = e.changedTouches[u])
                                        a[f] = n[f];
                                    t = {
                                        startTouch: a,
                                        startTime: Date.now(),
                                        status: "tapping",
                                        element: e.srcElement || e.target,
                                        longTapHandler: setTimeout(l(e.srcElement || e.target, e.changedTouches[u]), 500)
                                    },
                                        o[n.identifier] = t
                                }
                                if (2 === Object.keys(o).length) {
                                    for (var h in s = [],
                                        o)
                                        s.push(o[h].element);
                                    d(c(s[0], s[1]), "dx_dualtouchstart", {
                                        touches: i(e.touches),
                                        touchEvent: e
                                    })
                                }
                            }
                            function p(e) {
                                for (var t = 0; t < e.changedTouches.length; t++) {
                                    var n = e.changedTouches[t]
                                        , r = o[n.identifier];
                                    if (!r)
                                        return;
                                    r.lastTouch || (r.lastTouch = r.startTouch),
                                        r.lastTime || (r.lastTime = r.startTime),
                                        r.velocityX || (r.velocityX = 0),
                                        r.velocityY || (r.velocityY = 0),
                                        r.duration || (r.duration = 0);
                                    var i = Date.now() - r.lastTime
                                        , a = (n.clientX - r.lastTouch.clientX) / i
                                        , s = (n.clientY - r.lastTouch.clientY) / i;
                                    for (var l in i > 70 && (i = 70),
                                        r.duration + i > 70 && (r.duration = 70 - i),
                                        r.velocityX = (r.velocityX * r.duration + a * i) / (r.duration + i),
                                        r.velocityY = (r.velocityY * r.duration + s * i) / (r.duration + i),
                                        r.duration += i,
                                        r.lastTouch = {},
                                        n)
                                        r.lastTouch[l] = n[l];
                                    r.lastTime = Date.now();
                                    var f = n.clientX - r.startTouch.clientX
                                        , p = n.clientY - r.startTouch.clientY
                                        , g = u(f, p)
                                        , m = Math.sqrt(Math.pow(f, 2) + Math.pow(p, 2));
                                    ("tapping" === r.status || "longTapping" === r.status) && m > 10 && (r.status = "panning",
                                        d(r.element, "dx_panbegin", {
                                            touch: n,
                                            touches: e.touches,
                                            changedTouches: e.changedTouches,
                                            touchEvent: e,
                                            direction: g
                                        })),
                                        "panning" === r.status && (r.panTime = Date.now(),
                                            d(r.element, "dx_panmove", {
                                                displacementX: f,
                                                displacementY: p,
                                                touch: n,
                                                direction: g,
                                                touches: e.touches,
                                                changedTouches: e.changedTouches,
                                                touchEvent: e
                                            }))
                                }
                                if (2 === Object.keys(o).length) {
                                    for (var h, v = [], y = [], b = [], _ = 0; _ < e.touches.length; _++) {
                                        var w = e.touches[_]
                                            , x = o[w.identifier];
                                        x && x.startTouch && v.push([x.startTouch.clientX, x.startTouch.clientY]),
                                            y.push([w.clientX, w.clientY])
                                    }
                                    for (var O in o)
                                        b.push(o[O].element);
                                    try {
                                        S = v[0][0],
                                            M = v[0][1],
                                            P = v[1][0],
                                            E = v[1][1],
                                            k = y[0][0],
                                            I = y[0][1],
                                            C = y[1][0],
                                            T = y[1][1],
                                            D = Math.atan2(T - I, C - k) - Math.atan2(E - M, P - S),
                                            j = Math.sqrt((Math.pow(T - I, 2) + Math.pow(C - k, 2)) / (Math.pow(E - M, 2) + Math.pow(P - S, 2))),
                                            N = [k - j * S * Math.cos(D) + j * M * Math.sin(D), I - j * M * Math.cos(D) - j * S * Math.sin(D)],
                                            h = {
                                                rotate: D,
                                                scale: j,
                                                translate: N,
                                                matrix: [[j * Math.cos(D), -j * Math.sin(D), N[0]], [j * Math.sin(D), j * Math.cos(D), N[1]], [0, 0, 1]]
                                            },
                                            d(c(b[0], b[1]), "dx_dualtouch", {
                                                transform: h,
                                                touches: e.touches,
                                                touchEvent: e
                                            })
                                    } catch (e) { }
                                }
                                var S, M, P, E, k, I, C, T, D, j, N
                            }
                            function g(e) {
                                if (2 === Object.keys(o).length) {
                                    var t = [];
                                    for (var n in o)
                                        t.push(o[n].element);
                                    d(c(t[0], t[1]), "dx_dualtouchend", {
                                        touches: i(e.touches),
                                        touchEvent: e
                                    })
                                }
                                for (var s = 0; s < e.changedTouches.length; s++) {
                                    var l = e.changedTouches[s]
                                        , f = l.identifier
                                        , h = o[f];
                                    if (h) {
                                        if (h.longTapHandler && (clearTimeout(h.longTapHandler),
                                            h.longTapHandler = null),
                                            "tapping" === h.status && (h.timestamp = Date.now(),
                                                d(h.element, "dx_tap", {
                                                    touch: l,
                                                    touchEvent: e
                                                }),
                                                a && h.timestamp - a.timestamp < 300 && d(h.element, "dx_doubletap", {
                                                    touch: l,
                                                    touchEvent: e
                                                }),
                                                a = h),
                                            "panning" === h.status) {
                                            var v = Date.now()
                                                , y = v - h.startTime
                                                , b = l.clientX - h.startTouch.clientX
                                                , _ = l.clientY - h.startTouch.clientY
                                                , w = u(b, _)
                                                , x = Math.sqrt(h.velocityY * h.velocityY + h.velocityX * h.velocityX) > .5 && v - h.lastTime < 100
                                                , O = {
                                                    duration: y,
                                                    isflick: x,
                                                    velocityX: h.velocityX,
                                                    velocityY: h.velocityY,
                                                    displacementX: b,
                                                    displacementY: _,
                                                    touch: l,
                                                    direction: w,
                                                    touches: e.touches,
                                                    changedTouches: e.changedTouches,
                                                    touchEvent: e
                                                };
                                            d(h.element, "dx_panend", O),
                                                x && d(h.element, "dx_swipe", O)
                                        }
                                        delete o[f]
                                    }
                                }
                                0 === Object.keys(o).length && (r.removeEventListener("touchmove", p, !1),
                                    r.removeEventListener("touchend", g, !1),
                                    r.removeEventListener("touchcancel", m, !1))
                            }
                            function m(e) {
                                if (2 === Object.keys(o).length) {
                                    var t = [];
                                    for (var n in o)
                                        t.push(o[n].element);
                                    d(c(t[0], t[1]), "dx_dualtouchend", {
                                        touches: i(e.touches),
                                        touchEvent: e
                                    })
                                }
                                for (var a = 0; a < e.changedTouches.length; a++) {
                                    var s = e.changedTouches[a]
                                        , l = s.identifier
                                        , u = o[l];
                                    u && (u.longTapHandler && (clearTimeout(u.longTapHandler),
                                        u.longTapHandler = null),
                                        "panning" === u.status && d(u.element, "dx_panend", {
                                            touch: s,
                                            touches: e.touches,
                                            changedTouches: e.changedTouches,
                                            touchEvent: e
                                        }),
                                        delete o[l])
                                }
                                0 === Object.keys(o).length && (r.removeEventListener("touchmove", p, !1),
                                    r.removeEventListener("touchend", g, !1),
                                    r.removeEventListener("touchcancel", m, !1))
                            }
                            return function () {
                                function e(t, n, i, o) {
                                    var a = this;
                                    !function (e, t) {
                                        if (!(e instanceof t))
                                            throw new TypeError("Cannot call a class as a function")
                                    }(this, e),
                                        this._pc_mode = i,
                                        this.enable_tap_delay = o,
                                        this._pc_mode || r.addEventListener("touchstart", f, !1),
                                        this.el = t;
                                    var s = function (e) {
                                        var t = a.processEventType(e);
                                        a.el && a.el.addEventListener(t, (function (t) {
                                            t.stopPropagation(),
                                                n[e](t)
                                        }
                                        ))
                                    };
                                    for (var l in n)
                                        s(l)
                                }
                                var n, i, o;
                                return n = e,
                                    (i = [{
                                        key: "on",
                                        value: function (e, t) {
                                            var n = this
                                                , r = this.processEventType(e);
                                            this.el.addEventListener(r, (function (r) {
                                                if (r.stopPropagation(),
                                                    n.enable_tap_delay && "tap" === e) {
                                                    var i = n._pc_mode ? 0 : 80;
                                                    setTimeout((function () {
                                                        t(r)
                                                    }
                                                    ), i)
                                                } else
                                                    t(r)
                                            }
                                            ))
                                        }
                                    }, {
                                        key: "processEventType",
                                        value: function () {
                                            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                                                , t = e.toLowerCase()
                                                , n = "dx_";
                                            return s && !this._pc_mode || !l[t] || (t = l[t],
                                                n = ""),
                                                t = n + t
                                        }
                                    }]) && t(n.prototype, i),
                                    o && t(n, o),
                                    e
                            }()
                        }()
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var i = n(50)
                            , o = r(n(30))
                            , a = (0,
                                i.createPrefixer)(o.default);
                        t.default = function (e) {
                            return a(e)
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = /[A-Z]/g
                            , i = /^ms-/
                            , o = {};
                        function a(e) {
                            return "-" + e.toLowerCase()
                        }
                        e.exports = function (e) {
                            if (o.hasOwnProperty(e))
                                return o[e];
                            var t = e.replace(r, a);
                            return o[e] = i.test(t) ? "-" + t : t
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var i = r(n(31))
                            , o = r(n(32))
                            , a = r(n(33))
                            , s = r(n(34))
                            , l = r(n(35))
                            , u = r(n(36))
                            , c = ["Webkit"]
                            , d = {
                                plugins: [i.default, o.default, a.default, s.default, l.default, u.default],
                                prefixMap: {
                                    appearance: c,
                                    userSelect: c,
                                    textEmphasisPosition: c,
                                    textEmphasis: c,
                                    textEmphasisStyle: c,
                                    textEmphasisColor: c,
                                    boxDecorationBreak: c,
                                    clipPath: c,
                                    maskImage: c,
                                    maskMode: c,
                                    maskRepeat: c,
                                    maskPosition: c,
                                    maskClip: c,
                                    maskOrigin: c,
                                    maskSize: c,
                                    maskComposite: c,
                                    mask: c,
                                    maskBorderSource: c,
                                    maskBorderMode: c,
                                    maskBorderSlice: c,
                                    maskBorderWidth: c,
                                    maskBorderOutset: c,
                                    maskBorderRepeat: c,
                                    maskBorder: c,
                                    maskType: c,
                                    textDecorationStyle: c,
                                    textDecorationSkip: c,
                                    textDecorationLine: c,
                                    textDecorationColor: c,
                                    filter: c,
                                    fontFeatureSettings: c,
                                    breakAfter: c,
                                    breakBefore: c,
                                    breakInside: c,
                                    columnCount: c,
                                    columnFill: c,
                                    columnGap: c,
                                    columnRule: c,
                                    columnRuleColor: c,
                                    columnRuleStyle: c,
                                    columnRuleWidth: c,
                                    columns: c,
                                    columnSpan: c,
                                    columnWidth: c,
                                    writingMode: c,
                                    flex: c,
                                    flexBasis: c,
                                    flexDirection: c,
                                    flexGrow: c,
                                    flexFlow: c,
                                    flexShrink: c,
                                    flexWrap: c,
                                    alignContent: c,
                                    alignItems: c,
                                    alignSelf: c,
                                    justifyContent: c,
                                    order: c,
                                    transform: c,
                                    transformOrigin: c,
                                    transformOriginX: c,
                                    transformOriginY: c,
                                    backfaceVisibility: c,
                                    perspective: c,
                                    perspectiveOrigin: c,
                                    transformStyle: c,
                                    transformOriginZ: c,
                                    animation: c,
                                    animationDelay: c,
                                    animationDirection: c,
                                    animationFillMode: c,
                                    animationDuration: c,
                                    animationIterationCount: c,
                                    animationName: c,
                                    animationPlayState: c,
                                    animationTimingFunction: c,
                                    backdropFilter: c,
                                    fontKerning: c,
                                    scrollSnapType: c,
                                    scrollSnapPointsX: c,
                                    scrollSnapPointsY: c,
                                    scrollSnapDestination: c,
                                    scrollSnapCoordinate: c,
                                    textSizeAdjust: c,
                                    shapeImageThreshold: c,
                                    shapeImageMargin: c,
                                    shapeImageOutside: c,
                                    hyphens: c,
                                    flowInto: c,
                                    flowFrom: c,
                                    regionFragment: c,
                                    borderImage: c,
                                    borderImageOutset: c,
                                    borderImageRepeat: c,
                                    borderImageSlice: c,
                                    borderImageSource: c,
                                    borderImageWidth: c,
                                    transitionDelay: c,
                                    transitionDuration: c,
                                    transitionProperty: c,
                                    transitionTimingFunction: c
                                }
                            };
                        t.default = d
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t) {
                                if ("string" == typeof t && "text" === t)
                                    return ["-webkit-text", "text"]
                            }
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t) {
                                if ("display" === e && r.hasOwnProperty(t))
                                    return r[t]
                            }
                            ;
                        var r = {
                            flex: ["-webkit-box", "-moz-box", "-ms-flexbox", "-webkit-flex", "flex"],
                            "inline-flex": ["-webkit-inline-box", "-moz-inline-box", "-ms-inline-flexbox", "-webkit-inline-flex", "inline-flex"]
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t, n) {
                                "flexDirection" === e && "string" == typeof t && (t.indexOf("column") > -1 ? n.WebkitBoxOrient = "vertical" : n.WebkitBoxOrient = "horizontal",
                                    t.indexOf("reverse") > -1 ? n.WebkitBoxDirection = "reverse" : n.WebkitBoxDirection = "normal"),
                                    i.hasOwnProperty(e) && (n[i[e]] = r[t] || t)
                            }
                            ;
                        var r = {
                            "space-around": "justify",
                            "space-between": "justify",
                            "flex-start": "start",
                            "flex-end": "end",
                            "wrap-reverse": "multiple",
                            wrap: "multiple"
                        }
                            , i = {
                                alignItems: "WebkitBoxAlign",
                                justifyContent: "WebkitBoxPack",
                                flexWrap: "WebkitBoxLines",
                                flexGrow: "WebkitBoxFlex"
                            }
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t) {
                                if ("string" == typeof t && !(0,
                                    o.default)(t) && s.test(t))
                                    return a.map((function (e) {
                                        return t.replace(s, (function (t) {
                                            return e + t
                                        }
                                        ))
                                    }
                                    ))
                            }
                            ;
                        var r, i = n(10), o = (r = i) && r.__esModule ? r : {
                            default: r
                        }, a = ["-webkit-", "-moz-", ""], s = /linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t, n) {
                                if (Object.prototype.hasOwnProperty.call(r, e))
                                    for (var i = r[e], o = 0, a = i.length; o < a; ++o)
                                        n[i[o]] = t
                            }
                            ;
                        var r = {
                            marginBlockStart: ["WebkitMarginBefore"],
                            marginBlockEnd: ["WebkitMarginAfter"],
                            marginInlineStart: ["WebkitMarginStart", "MozMarginStart"],
                            marginInlineEnd: ["WebkitMarginEnd", "MozMarginEnd"],
                            paddingBlockStart: ["WebkitPaddingBefore"],
                            paddingBlockEnd: ["WebkitPaddingAfter"],
                            paddingInlineStart: ["WebkitPaddingStart", "MozPaddingStart"],
                            paddingInlineEnd: ["WebkitPaddingEnd", "MozPaddingEnd"],
                            borderBlockStart: ["WebkitBorderBefore"],
                            borderBlockStartColor: ["WebkitBorderBeforeColor"],
                            borderBlockStartStyle: ["WebkitBorderBeforeStyle"],
                            borderBlockStartWidth: ["WebkitBorderBeforeWidth"],
                            borderBlockEnd: ["WebkitBorderAfter"],
                            borderBlockEndColor: ["WebkitBorderAfterColor"],
                            borderBlockEndStyle: ["WebkitBorderAfterStyle"],
                            borderBlockEndWidth: ["WebkitBorderAfterWidth"],
                            borderInlineStart: ["WebkitBorderStart", "MozBorderStart"],
                            borderInlineStartColor: ["WebkitBorderStartColor", "MozBorderStartColor"],
                            borderInlineStartStyle: ["WebkitBorderStartStyle", "MozBorderStartStyle"],
                            borderInlineStartWidth: ["WebkitBorderStartWidth", "MozBorderStartWidth"],
                            borderInlineEnd: ["WebkitBorderEnd", "MozBorderEnd"],
                            borderInlineEndColor: ["WebkitBorderEndColor", "MozBorderEndColor"],
                            borderInlineEndStyle: ["WebkitBorderEndStyle", "MozBorderEndStyle"],
                            borderInlineEndWidth: ["WebkitBorderEndWidth", "MozBorderEndWidth"]
                        }
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = function (e, t) {
                                if ("position" === e && "sticky" === t)
                                    return ["-webkit-sticky", "sticky"]
                            }
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = h(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(15))
                            , g = n(14)
                            , m = n(8);
                        function h(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (h = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function v(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function y(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? v(Object(n), !0).forEach((function (t) {
                                    (0,
                                        d.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : v(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        function b(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var _ = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = b(n);
                            function n(e) {
                                var r;
                                return (0,
                                    o.default)(this, n),
                                    r = t.call(this, e),
                                    (0,
                                        d.default)((0,
                                            s.default)(r), "_elmCallback", (function (e) {
                                                r.state.maxLength || setTimeout((function () {
                                                    try {
                                                        for (var t = (0,
                                                            m.getRect)(e.parentElement), n = 0, i = 0; i < e.children.length; i++) {
                                                            var o = e.children[i];
                                                            if ((n += (0,
                                                                m.getRect)(o).width) > t.width) {
                                                                r.setState({
                                                                    maxLength: i
                                                                });
                                                                break
                                                            }
                                                        }
                                                    } catch (e) {
                                                        console.warn(e)
                                                    }
                                                }
                                                ), 0)
                                            }
                                        )),
                                    r.state = {
                                        maxLength: null
                                    },
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "listData",
                                    value: function (e) {
                                        this._listData = e
                                    }
                                }, {
                                    key: "renderLoopChildren",
                                    value: function () {
                                        var e = this
                                            , t = []
                                            , n = this.getChildren()
                                            , r = this.props
                                            , i = {
                                                display: "flex",
                                                flexShrink: 0,
                                                flexGrow: 0,
                                                height: "fit-content",
                                                paddingTop: 5,
                                                paddingBottom: 5
                                            };
                                        return this._listData && this._listData.forEach((function (o, a) {
                                            e.state.maxLength && a >= e.state.maxLength || n.forEach((function (n, s) {
                                                if (n) {
                                                    var l = "".concat(a, ".").concat(s)
                                                        , u = n.props._originProps.filter
                                                        , c = u && f.dataParser(u, {
                                                            data: o
                                                        })
                                                        , d = n.props._originProps.visibility
                                                        , p = d && f.dataParser(d, {
                                                            _tplId: r._tplId,
                                                            data: o
                                                        })
                                                        , m = i;
                                                    n.props.weight && (m = y(y({}, i), {}, {
                                                        flex: n.props.weight
                                                    })),
                                                        "gone" === p || void 0 !== c && !0 !== c && "true" !== c || t.push(f.h("div", {
                                                            key: l,
                                                            className: "list-item",
                                                            style: m
                                                        }, g.loopMergeSubData.call(e, n, o, l, r._id)))
                                                }
                                            }
                                            ))
                                        }
                                        )),
                                            t
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return f.h("div", {
                                            style: {
                                                display: "flex",
                                                flexDirection: "row",
                                                flexWrap: "nowrap"
                                            },
                                            ref: this._elmCallback
                                        }, this._listData ? this.renderLoopChildren() : this.props.children)
                                    }
                                }]),
                                n
                        }(p.default);
                        f.registerView("AdaptiveLinearLayout", _);
                        var w = _;
                        t.default = w
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = r(n(9))
                            , d = (r(n(20)),
                                m(n(2)))
                            , f = r(n(15))
                            , p = m(n(8));
                        function g(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (g = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function m(e, t) {
                            if (!t && e && e.__esModule)
                                return e;
                            if (null === e || "object" !== i(e) && "function" != typeof e)
                                return {
                                    default: e
                                };
                            var n = g(t);
                            if (n && n.has(e))
                                return n.get(e);
                            var r = {}
                                , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                            for (var a in e)
                                if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                    var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                    s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                }
                            return r.default = e,
                                n && n.set(e, r),
                                r
                        }
                        function h(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        function v(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function y(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? v(Object(n), !0).forEach((function (t) {
                                    (0,
                                        c.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : v(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        var b = /(\$|\@)?subdata/
                            , _ = /^[d][A-Z]/;
                        function w(e) {
                            if (_.test(e)) {
                                var t = e.slice(1);
                                e = t[0].toLowerCase() + t.slice(1)
                            }
                            return e
                        }
                        function x(e, t, n, r) {
                            var i = this;
                            if (e) {
                                var o = this.props._tplId
                                    , a = this.props._tplContext
                                    , s = e.props
                                    , l = y({
                                        key: "".concat(s._id, "-").concat(n)
                                    }, s)
                                    , u = l._id = "cc".concat(++a.componentIdSeq)
                                    , c = s._originProps;
                                for (var f in c) {
                                    var g = c[f]
                                        , m = w(f);
                                    if (b.test(g)) {
                                        var h = {
                                            data: t,
                                            _tplId: o,
                                            _tplName: s._tplName,
                                            _tplContext: s._tplContext,
                                            _viewName: s._viewName,
                                            _originProps: s._originProps
                                        };
                                        "on" === m.slice(0, 2) ? l[m] = d.eventHandlerParser(g, h) : l[m] = d.dataParser(g, h)
                                    }
                                }
                                a.componentIndexSet.push({
                                    id: u,
                                    props: l,
                                    pid: r
                                });
                                var v = s.children;
                                return v && (Array.isArray(v) ? v = v.map((function (e) {
                                    return x.call(i, e, t, n, u)
                                }
                                )) : p.isObject(v) && (v = x.call(this, v, t, n, u))),
                                    d.driver.cloneElement(e, l, v)
                            }
                        }
                        var O = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = h(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "listData",
                                    value: function (e) {
                                        this._listData = e
                                    }
                                }, {
                                    key: "renderLoopChildren",
                                    value: function () {
                                        var e = this
                                            , t = []
                                            , n = this.getChildren()
                                            , r = this.props
                                            , i = {
                                                flexShrink: 0,
                                                flexGrow: 0,
                                                height: "fit-content"
                                            };
                                        return Array.isArray(this._listData) && this._listData.forEach((function (o, a) {
                                            n.forEach((function (n) {
                                                if (n) {
                                                    var s = n.props._id
                                                        , l = n.props._originProps.filter
                                                        , u = l && d.dataParser(l, {
                                                            data: o
                                                        })
                                                        , c = n.props._originProps.visibility
                                                        , f = c && d.dataParser(c, {
                                                            _tplId: r._tplId,
                                                            data: o
                                                        })
                                                        , p = i;
                                                    n.props.weight && (p = y(y({}, i), {}, {
                                                        flex: n.props.weight
                                                    })),
                                                        "gone" === f || void 0 !== u && !0 !== u && "true" !== u || t.push(d.h("div", {
                                                            key: "".concat(s, "-").concat(a),
                                                            className: "list-item",
                                                            style: p
                                                        }, x.call(e, n, o, a, r._id)))
                                                }
                                            }
                                            ))
                                        }
                                        )),
                                            t
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return this.renderLoopChildren()
                                    }
                                }]),
                                n
                        }(f.default);
                        O.defaultProps = {
                            orientation: "horizontal"
                        },
                            d.registerView("ListLayout", O),
                            d.registerView("DLoopLinearLayout", O);
                        var S = O;
                        t.default = S
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = f(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , d = r(n(12));
                        function f(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (f = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function p(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        n(8);
                        var g = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = p(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "flexDirection",
                                    value: function (e) {
                                        this.setStyles({
                                            flexDirection: e
                                        })
                                    }
                                }, {
                                    key: "flexWrap",
                                    value: function (e) {
                                        this.setStyles({
                                            flexWrap: e
                                        })
                                    }
                                }, {
                                    key: "justifyContent",
                                    value: function (e) {
                                        this.setStyles({
                                            justifyContent: e
                                        })
                                    }
                                }, {
                                    key: "alignItems",
                                    value: function (e) {
                                        this.setStyles({
                                            alignItems: e
                                        })
                                    }
                                }, {
                                    key: "alignContent",
                                    value: function (e) {
                                        this.setStyles({
                                            alignContent: e
                                        })
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return this.props.children
                                    }
                                }]),
                                n
                        }(d.default);
                        g.defaultProps = {},
                            c.registerView("FlexLayout", g),
                            c.registerView("HFlexLayout", g);
                        var m = g;
                        t.default = m
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = m(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(12))
                            , g = n(14);
                        function m(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (m = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function h(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var v = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = h(n);
                            function n(e) {
                                var r;
                                (0,
                                    o.default)(this, n),
                                    r = t.call(this, e),
                                    (0,
                                        d.default)((0,
                                            s.default)(r), "itemHeight", (function (e) {
                                                r._itemHeight = f.unitParser(e)
                                            }
                                        )),
                                    (0,
                                        d.default)((0,
                                            s.default)(r), "needSeparator", ["lineColor", "lineWidth", function (e) {
                                                r._needSeparator = r._lineColor && r._lineWidth && "true" === e,
                                                    r._borderStyle = r._needSeparator ? "".concat(r._lineWidth, " solid ").concat(r._lineColor) : ""
                                            }
                                        ]),
                                    (0,
                                        d.default)((0,
                                            s.default)(r), "listData", ["columnCount", function () {
                                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                                                    , t = Number(r._columnCount);
                                                r._listData = [];
                                                for (var n = 0; n < e.length / r._columnCount; n++) {
                                                    var i = n * t
                                                        , o = i + t;
                                                    r._listData.push(e.slice(i, o))
                                                }
                                            }
                                        ]);
                                var i = e.columnCount
                                    , a = e.itemWidth
                                    , l = e.itemHeight;
                                return i && a && l || (f.utils.log.warn("GridLayout 控件 columnCount/itemWidth/itemHeight 为必填属性"),
                                    r._error = !1),
                                    r.setStyles({
                                        flexDirection: "column"
                                    }),
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "columnCount",
                                    value: function (e) {
                                        this._columnCount = e
                                    }
                                }, {
                                    key: "itemWidth",
                                    value: function (e) {
                                        this._itemWidth = f.unitParser(e)
                                    }
                                }, {
                                    key: "rowCount",
                                    value: function (e) { }
                                }, {
                                    key: "rowSpacing",
                                    value: function (e) {
                                        this._rowSpacing = f.unitParser(e)
                                    }
                                }, {
                                    key: "columnSpacing",
                                    value: function (e) {
                                        this._columnSpacing = f.unitParser(e)
                                    }
                                }, {
                                    key: "lineColor",
                                    value: function (e) {
                                        this._lineColor = e
                                    }
                                }, {
                                    key: "lineWidth",
                                    value: function (e) {
                                        this._lineWidth = f.unitParser(e)
                                    }
                                }, {
                                    key: "renderLoopChildren",
                                    value: function () {
                                        var e = this
                                            , t = []
                                            , n = this.getChildren()
                                            , r = this.props;
                                        return this._listData.length,
                                            Array.isArray(this._listData) && this._listData.map((function (i, o) {
                                                var a = {
                                                    display: "flex",
                                                    flexDirection: "row",
                                                    justifyContent: "flex-start",
                                                    alignItems: "center",
                                                    borderTop: o && e._borderStyle ? e._borderStyle : ""
                                                }
                                                    , s = i.map((function (t, i) {
                                                        return n.map((function (n) {
                                                            var a = n.props._id
                                                                , s = o * e._columnCount + i
                                                                , l = "".concat(a, "-").concat(o, "-").concat(i)
                                                                , u = {
                                                                    overflow: "hidden",
                                                                    width: e._itemWidth,
                                                                    height: e._itemHeight,
                                                                    display: "flex",
                                                                    justifyContent: "center",
                                                                    alignItems: "center",
                                                                    marginLeft: i && e._columnSpacing ? e._columnSpacing : 0,
                                                                    borderLeft: i && e._borderStyle ? e._borderStyle : "",
                                                                    marginTop: o && e._rowSpacing ? e._rowSpacing : 0
                                                                };
                                                            return f.h("div", {
                                                                key: l,
                                                                className: "grid-item",
                                                                style: u
                                                            }, g.loopMergeSubData.call(e, n, t, s, r._id))
                                                        }
                                                        ))
                                                    }
                                                    ));
                                                t.push(f.h("div", {
                                                    key: "gridrow".concat(o),
                                                    className: "grid-row",
                                                    style: a
                                                }, s))
                                            }
                                            )),
                                            t
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return this._error ? null : this.renderLoopChildren()
                                    }
                                }]),
                                n
                        }(p.default);
                        v.defaultProps = {
                            rowSpacing: 0,
                            needSeparator: !1,
                            lineWidth: 0
                        },
                            f.registerView("GridLayout", v);
                        var y = v;
                        t.default = y
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = p(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , d = r(n(12))
                            , f = n(14);
                        function p(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (p = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function g(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var m = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = g(n);
                            function n(e) {
                                var r;
                                return (0,
                                    o.default)(this, n),
                                    (r = t.call(this, e)).setStyles({
                                        overflow: "auto"
                                    }),
                                    r.setAttrs({
                                        class: "dx-scrollerlayout"
                                    }),
                                    r
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "listData",
                                    value: function (e) {
                                        console.log(e),
                                            this._listData = e
                                    }
                                }, {
                                    key: "paddingRight",
                                    value: function (e) {
                                        this._paddingRight = c.unitParser(e)
                                    }
                                }, {
                                    key: "renderLoopChildren",
                                    value: function () {
                                        var e = this
                                            , t = []
                                            , n = this.getChildren()
                                            , r = this.props
                                            , i = {};
                                        return Array.isArray(this._listData) && this._listData.forEach((function (o, a) {
                                            n.forEach((function (n) {
                                                if (n) {
                                                    var s = n.props._id;
                                                    t.push(c.h("div", {
                                                        key: "".concat(s, "-").concat(a),
                                                        className: "scroller-item",
                                                        style: i
                                                    }, f.loopMergeSubData.call(e, n, o, a, r._id)))
                                                }
                                            }
                                            ))
                                        }
                                        )),
                                            this._paddingRight && t.length && t.push(c.h("div", {
                                                style: {
                                                    paddingRight: this._paddingRight
                                                }
                                            })),
                                            t
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        return this.renderLoopChildren()
                                    }
                                }]),
                                n
                        }(d.default);
                        m.defaultProps = {
                            rowSpacing: 0,
                            needSeparator: !1,
                            lineWidth: 0
                        },
                            c.registerView("ScrollerLayout", m);
                        var h = m;
                        t.default = h
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function f(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var p = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = f(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "paddingLeft",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingLeft: c.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingTop",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingTop: c.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingRight",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingRight: c.unitParser(e)
                                        })
                                    }
                                }, {
                                    key: "paddingBottom",
                                    value: function (e) {
                                        this.setStyles({
                                            paddingBottom: c.unitParser(e)
                                        })
                                    }
                                }]),
                                n
                        }(r(n(16)).default);
                        c.registerView("FastTextView", p);
                        var g = p;
                        t.default = g
                    }
                    , function (e, t, n) {
                        "use strict";
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var r = {
                            getItem: function () { },
                            setItem: function () { }
                        };
                        try {
                            r = window.localStorage
                        } catch (e) { }
                        var i = function () {
                            if (void 0 !== window.DXSUPPORTWEBP)
                                return window.DXSUPPORTWEBP;
                            var e = "false";
                            try {
                                e = r.getItem("dx-isSupportWebp")
                            } catch (e) { }
                            if ("true" === e)
                                return window.DXSUPPORTWEBP = "true" === e,
                                    window.DXSUPPORTWEBP;
                            var t = 0 == document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp");
                            try {
                                r.setItem("dx-isSupportWebp", t ? "true" : "false")
                            } catch (e) {
                                console.warn(e)
                            }
                            return window.DXSUPPORTWEBP = t,
                                t
                        };
                        t.default = i
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function f(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var p = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = f(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "tImage",
                                    value: function (e) {
                                        this.image(e)
                                    }
                                }, {
                                    key: "tImageUrl",
                                    value: function (e) {
                                        this.imageUrl(e)
                                    }
                                }, {
                                    key: "tLocalImageName",
                                    value: function (e) {
                                        this.imageName(e)
                                    }
                                }, {
                                    key: "tScaleType",
                                    value: function (e) {
                                        this.scaleType(e)
                                    }
                                }]),
                                n
                        }(r(n(17)).default);
                        p.defaultProps = {
                            tScaleType: "fitCenter"
                        },
                            c.registerView("TImageView", p);
                        var g = p;
                        t.default = g
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function f(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var p = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = f(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "hGifUrl",
                                    value: function (e) {
                                        e && this.setStyles({
                                            backgroundImage: "url(".concat(e, ")")
                                        }, "img")
                                    }
                                }]),
                                n
                        }(r(n(21)).default);
                        c.registerView("HGifView", p);
                        var g = p;
                        t.default = g
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(5))
                            , l = r(n(6))
                            , u = r(n(7))
                            , c = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = d(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2));
                        function d(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (d = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function f(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    u.default)(e);
                                if (t) {
                                    var i = (0,
                                        u.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    l.default)(this, n)
                            }
                        }
                        var p = function (e) {
                            (0,
                                s.default)(n, e);
                            var t = f(n);
                            function n() {
                                return (0,
                                    o.default)(this, n),
                                    t.apply(this, arguments)
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "hCoverURL",
                                    value: function (e) {
                                        var t = this.props
                                            , n = t.width
                                            , r = t.height;
                                        "match_content" !== n && "match_content" !== r || (this.isAutoImg = !0,
                                            this.imgSrc = e),
                                            e && this.setStyles({
                                                backgroundImage: "url(".concat(e, ")")
                                            })
                                    }
                                }, {
                                    key: "coverUrl",
                                    value: function (e) {
                                        this.imageUrl(e)
                                    }
                                }]),
                                n
                        }(r(n(21)).default);
                        c.registerView("HVideoView", p);
                        var g = p;
                        t.default = g
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = m(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(13))
                            , g = n(8);
                        function m(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (m = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function h(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function v(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? h(Object(n), !0).forEach((function (t) {
                                    (0,
                                        d.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        function y(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var b = function (e) {
                            (0,
                                l.default)(n, e);
                            var t = y(n);
                            function n() {
                                var e;
                                (0,
                                    o.default)(this, n);
                                for (var r = arguments.length, i = new Array(r), a = 0; a < r; a++)
                                    i[a] = arguments[a];
                                return e = t.call.apply(t, [this].concat(i)),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "_checked", !1),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "_enabled", !0),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "switchOn", ["onColor", "offColor", function (e) {
                                                var t = (0,
                                                    g.toLikeBoolean)(e);
                                                this.setStyles({
                                                    backgroundColor: t ? this._onColor : this._offColor
                                                }),
                                                    this._checked = t
                                            }
                                        ]),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "enabled", ["switchOn", function (t) {
                                                var n = (0,
                                                    g.toLikeBoolean)(t);
                                                n || e.setStyles({
                                                    backgroundColor: "#ccc"
                                                }),
                                                    e._enabled = n
                                            }
                                        ]),
                                    (0,
                                        d.default)((0,
                                            s.default)(e), "toggleCheck", (function () {
                                                var t = !e._checked;
                                                e.setStyles({
                                                    backgroundColor: t ? e._onColor : e._offColor
                                                });
                                                var n = e.getEvents("switch").onChange;
                                                n && n.handler({
                                                    value: t
                                                })
                                            }
                                        )),
                                    e
                            }
                            return (0,
                                a.default)(n, [{
                                    key: "componentDidMount",
                                    value: function () {
                                        var e = this
                                            , t = this.$switch;
                                        this.$switch && this.$switch.parentNode && (t = this.$switch.parentNode),
                                            (0,
                                                g.bindGestureEvent)(t, {
                                                    tap: function () {
                                                        e._enabled && e.toggleCheck()
                                                    }
                                                })
                                    }
                                }, {
                                    key: "componentWillMount",
                                    value: function () {
                                        this._preprocessingStyle()
                                    }
                                }, {
                                    key: "_preprocessingStyle",
                                    value: function () {
                                        var e = this.props.height
                                            , t = f.unitParser(e)
                                            , n = t.replace(/(\d*)/, (function (e) {
                                                return e - 2
                                            }
                                            ));
                                        this.setStyles({
                                            borderRadius: t
                                        }),
                                            this.setStyles(v(v({}, _), {}, {
                                                width: n,
                                                height: n
                                            }), "switch"),
                                            this.setStyles({
                                                left: "1px"
                                            }, "switchNormal"),
                                            this.setStyles({
                                                right: "1px"
                                            }, "switchActive"),
                                            this.setStyles({
                                                boxShadow: "inset 0 0 0 1px #ccc"
                                            })
                                    }
                                }, {
                                    key: "onColor",
                                    value: function (e) {
                                        this._onColor = f.colorParser(e)
                                    }
                                }, {
                                    key: "offColor",
                                    value: function (e) {
                                        this._offColor = f.colorParser(e)
                                    }
                                }, {
                                    key: "onChange",
                                    value: function (e) {
                                        this.setEvents({
                                            onChange: e
                                        }, "switch")
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        var e = this;
                                        return f.h("div", {
                                            style: v(v({}, this.getStyles("switch")), this.getStyles(this._checked ? "switchActive" : "switchNormal")),
                                            ref: function (t) {
                                                return e.$switch = t
                                            }
                                        })
                                    }
                                }]),
                                n
                        }(p.default)
                            , _ = {
                                position: "absolute",
                                top: "1px",
                                borderRadius: "50%",
                                backgroundColor: "#FFFFFF",
                                boxShadow: "0px 2px 5px 1px #ccc"
                            };
                        b.defaultProps = {
                            width: "25np",
                            height: "12.5np",
                            onColor: "#ff5000",
                            offColor: "#FFFFFF",
                            switchOn: 0
                        },
                            f.registerView("Switch", b),
                            f.registerView("DSwitch", b);
                        var w = b;
                        t.default = w
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(3))
                            , a = r(n(4))
                            , s = r(n(11))
                            , l = r(n(5))
                            , u = r(n(6))
                            , c = r(n(7))
                            , d = r(n(9))
                            , f = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = m(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , p = r(n(13))
                            , g = n(8);
                        function m(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (m = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function h(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    c.default)(e);
                                if (t) {
                                    var i = (0,
                                        c.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    u.default)(this, n)
                            }
                        }
                        var v = /^((http(s)?)|(data:image))/
                            , y = function (e, t) {
                                if (v.test(e))
                                    return e;
                                var n = f.getLocalImage(e);
                                return n || f.getLocalImage(t)
                            }
                            , b = function (e) {
                                (0,
                                    l.default)(n, e);
                                var t = h(n);
                                function n() {
                                    var e;
                                    (0,
                                        o.default)(this, n);
                                    for (var r = arguments.length, i = new Array(r), a = 0; a < r; a++)
                                        i[a] = arguments[a];
                                    return e = t.call.apply(t, [this].concat(i)),
                                        (0,
                                            d.default)((0,
                                                s.default)(e), "_enabled", !0),
                                        (0,
                                            d.default)((0,
                                                s.default)(e), "_checked", !1),
                                        (0,
                                            d.default)((0,
                                                s.default)(e), "_selfChecked", null),
                                        (0,
                                            d.default)((0,
                                                s.default)(e), "toggleCheck", (function () {
                                                    e._selfChecked = !e._checked,
                                                        e.forceUpdate();
                                                    var t = e.getEvents("checkbox").onChange;
                                                    t && t.handler({
                                                        value: e._selfChecked
                                                    })
                                                }
                                            )),
                                        e
                                }
                                return (0,
                                    a.default)(n, [{
                                        key: "componentDidMount",
                                        value: function () {
                                            var e = this;
                                            (0,
                                                g.bindGestureEvent)(this.$checkbox, {
                                                    tap: function () {
                                                        e._enabled && e.toggleCheck()
                                                    }
                                                })
                                        }
                                    }, {
                                        key: "_updateImages",
                                        value: function () {
                                            this.setStyles({
                                                borderRadius: "50%",
                                                width: "100%",
                                                height: "100%"
                                            }, "checkbox");
                                            var e = this._checked
                                                , t = this._enabled
                                                , n = e ? "checked" : "unchecked"
                                                , r = this["_".concat(t ? "" : "dis").concat(n, "Img")];
                                            this.setStyles({
                                                background: "url(".concat(r, ") 0% 0% / 100% 100%")
                                            }, "checkbox")
                                        }
                                    }, {
                                        key: "enabled",
                                        value: function (e) {
                                            this._enabled = (0,
                                                g.toLikeBoolean)(e)
                                        }
                                    }, {
                                        key: "checked",
                                        value: function (e) {
                                            var t = this._selfChecked;
                                            null !== t ? (this._checked = t,
                                                this._selfChecked = null) : this._checked = (0,
                                                    g.toLikeBoolean)(e)
                                        }
                                    }, {
                                        key: "checkImg",
                                        value: function (e) {
                                            this._checkedImg = y(e, "dinamicx_checked")
                                        }
                                    }, {
                                        key: "disCheckImg",
                                        value: function (e) {
                                            this._discheckedImg = y(e, "dinamicx_discheck")
                                        }
                                    }, {
                                        key: "uncheckImg",
                                        value: function (e) {
                                            this._uncheckedImg = y(e, "dinamicx_uncheck")
                                        }
                                    }, {
                                        key: "disUncheckImg",
                                        value: function (e) {
                                            this._disuncheckedImg = y(e, "dinamicx_disunchk")
                                        }
                                    }, {
                                        key: "onChange",
                                        value: function (e) {
                                            this.setEvents({
                                                onChange: e
                                            }, "checkbox")
                                        }
                                    }, {
                                        key: "renderView",
                                        value: function () {
                                            var e = this;
                                            return this._updateImages(),
                                                f.h("div", {
                                                    style: this.getStyles("checkbox"),
                                                    ref: function (t) {
                                                        return e.$checkbox = t
                                                    }
                                                })
                                        }
                                    }]),
                                    n
                            }(p.default);
                        b.defaultProps = {
                            enabled: 1,
                            checked: 0,
                            checkImg: "dinamicx_checked",
                            disCheckImg: "dinamicx_discheck",
                            uncheckImg: "dinamicx_uncheck",
                            disUncheckImg: "dinamicx_disunchk"
                        },
                            f.setLocalImage({
                                dinamicx_checked: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABEBAMAAADKPY6BAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAqUExURUdwTP9rAP9xAP9vAP9pAP9tAP9rAP9tAP9fAP90AP9XAP99AP9nAP9tACJieToAAAAIdFJOUwCH6CSqRmbMw7TcXwAAAy1JREFUSMd1lr+LE0EUxzdeFMuAdnfCgYIecqAiIlwTPQRBhHioaHd4ZRrxKrlOPBlCqhM8hmWLmJAsU1oIy1RayBax0EYC2f/F92tmZ5Lc1o/PfN+b73zfJkn43bv8bvvn9QcHyVnf+YdVVf2eTqfltc7qittbWQY1UDJVHy6tqniutRbKtK/Uo+WKu1Axm1XVfA4HlUqp3cWKRgoleA4d1AdM3oor1t4XGjFOL2Imt6KSvaKQijnJxc8chxUXbKGhJhNKSZRevh+UrBdIybSj9LFCmUGg1VqtQy0KKaZnasVdW1jXEVFEjBn7wVubotoMp+vnghTjLuKOhRqk6GguKjdmKCVH1lLPuvJzcZSJF+tr3Fy4Bj4WvIPn6FQa4rk4ipz0BCHUNY6OKFhDWsxI+oFPc0tLFOqpSVJsGkwu0GLaIiWYLs6FOuoxBcWse0oW+UWRFhJzs9aio5tminFquaPYL6wF9JJaOKbQtV8A8/HljV5P9J6zjElDvyi1n7xiLWZTGiqKWMunJLnIEGipa+WkyC9gyfs9poy5Z/BLEfrlF3T6WLQM6IbwoMgvAGkqOWiEZvEHOb8IhGsmMrki8ksLITJd81VKbOiXHwjx0zWJQEK/MCSX6UoJUE4O3vA9OkhNES32e7K2xfkiSpwW47V8hsdCfiFI6f0CHR0J5QskyDbKRUg/uOmJjM7qb5Ame0D5A5CN0C8jfwHpVfBORpCG+CWXC+i60Z0A5jVD6AnIcOEad8QvujgEDEMiylAsha47BcwzgQRaNsWYNN1DfuLukUhHbbE3hccplWzUWSf2duPFO3orEMo6d0fuqaUUQYi54nOXtQz8g6U3AphG8I5y92CbNWX278XTxdfYduHBposSU7R0XARxTZ0vfUcZ+SDjxJwF+0i0DH0cpgv54v3S8qFq43zxyTCpo5nlLufLMAz4aB+VTkunXhOcddE+Qr+Mg2XDWafjlAqXDdxTvI8oDk24smDxxfuI/RItvmTPxvuIao4XlnC8j9TyEk4a8T5CSmvVD0HU0e7K34p6H5Wrfivo58Tvo9U/J/KLQ1rO+sWRH6W/iz9K/wEP1oz20WaXfgAAAABJRU5ErkJggg==",
                                dinamicx_discheck: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAIVBMVEVHcEzNzc3Nzc3Nzc3Nzc3Nzc3T09PNzc3Pz8/Nzc3MzMz103I3AAAACnRSTlMAz1LsjLEVZyI/uIMIOwAAAVdJREFUOMuFlTFPw0AMha9RVdKtA2K4CSTE0KnA1EydOxXB1KmdKjF1YMpUqbB3ZiKkSMW/kgvNOXdnn89Lm3x6iWM/+5TCGNw+Pdb3L3eKi3cN57jcUXgDGNW1ACn+AC9+vIcPC5/C1KUlhLHtYJ9AOHZ0SSksBKkjLjlq3zxkIfye6Z6n9S6aE+aVRSB8N7QXo1VDxzEKTS90lI6UyqMQTpFCYbmYpKq3wqb1yr2vre2KSdlIPm3Scy7V9uaM1tFIL7CWmpGW+LeIS2FC6JXjhomykuf2d9VJ4ctqFwNNpN2Tt2pNpIZq+2n/Yk9qcl6iEdah1HzvHFudF43UrewMr4x4b6SZbw7s0UHlgdT0qOcNZRaUDb1RH0ILHl1fTUNvn1xPGvE47JZz52FD/SzPgjxH8gwm5leefXlvJHaOvK8Su07ek4kdK+/nxG5PnAuJM4U9j/4A+2ARe5cQ9TAAAAAASUVORK5CYII=",
                                dinamicx_uncheck: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAANlBMVEVHcEzMzMzNzc3V1dXOzs7Nzc3Nzc3Nzc3Nzc3Nzc3b29vMzMz////19fXu7u7a2trk5OTR0dG06x/LAAAAC3RSTlMAN84GVqG36X8jB0no5zwAAAGJSURBVFjDrVjZtoQgDFOEqUvZ/v9nRwGvy1UHMHmdMadNWmhpmlsMsleCaJqIhOrl0JRilGr++ghSciygaP8zrDxtLsVnesAnh2bYKKwzWvMMrY2zG80vdbo+/dO78Pke2vn0Y989hiFSDIYvYVI84iEYGfW0mm+hIw3JO46Yijf8CBOT6p84LP+EvWeJHI4z4O5YIofhLJhrFhnk0JwJHYQ5qTsEX7I5Zpbg0cHpThTksstIdGdBHBfBnWQZMr29cHpLaOk5z8VYxP389X6xIDtZ2l0glitgt1DaQndPPsdQVG0gMRQVzmSqU2RVhcZU8J4r4VPxq/I6O1bckg/VyrpKS6lauRqxamW9N6s/MvSeqydxoQtVvcGryaoRb3SNyop35qz20Ctzgj3UTO9JJgwJJB2IsBCLIcUGKXtIA0KOAsihhDkeIQc15MqAXF6YaxRyoWNGC8iQgxm3IIMfZgSFDMOYsRyzIGBWFczShFnfMIskZqXFLNeYNR/04AB6+gA9wpQ+B30B3RGo3Y8v7Z8AAAAASUVORK5CYII=",
                                dinamicx_disunchk: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA5BAMAAAB+Np62AAAAJFBMVEVHcEzNzc3Ozs7Ozs7Nzc3Nzc3Nzc3Ozs7MzMzx8fHa2trr6+ssMFmhAAAACHRSTlMA0kwgje2zY5e6RVIAAAFESURBVDjLhZW/TsMwEMZNygN0YMgIG2MGQIyMHQsSUkaQGDoiwZCR0j/6SF6gl7xACi+QtC+HjUudNufzrT995/P57rNS+xi8Pz8u7l/eFBdXMWycJX14gX1Mzzn4vW1pu6n7+AbIW7KxAZYHyaPUQaISeOjSrAv/1K8OngJdSNRg7ugEPweQqhpPTprTUZROnGF9TKn+PznqS43409JrRqrFi2RXU8vQxtYVoWAgVTb1CZtYp54aeskmNqnNW8Q5C3XVQz0R+OIpYWYatfbQem6Kaj200WXdwgNphURluY+WutUjgd6pSeGjle5lLNChSgU6VqmvGbodYwWBfgS08rlyzfJ95V7JfZbfSH5feTYGKHwlz0IzGZhneRfkPfLs4GrnDfL+yrsv+0bAc2S/Cnid7JMBj5X9OeDtgX8h8Kew/9Ev78HvEWic5SIAAAAASUVORK5CYII="
                            }),
                            f.registerView("CheckBox", b),
                            f.registerView("DCheckBox", b);
                        var _ = b;
                        t.default = _
                    }
                    , function (e, t, n) {
                        "use strict";
                        var r = n(0)
                            , i = n(1);
                        Object.defineProperty(t, "__esModule", {
                            value: !0
                        }),
                            t.default = void 0;
                        var o = r(n(19))
                            , a = r(n(3))
                            , s = r(n(4))
                            , l = r(n(11))
                            , u = r(n(5))
                            , c = r(n(6))
                            , d = r(n(7))
                            , f = r(n(9))
                            , p = function (e, t) {
                                if (!t && e && e.__esModule)
                                    return e;
                                if (null === e || "object" !== i(e) && "function" != typeof e)
                                    return {
                                        default: e
                                    };
                                var n = h(t);
                                if (n && n.has(e))
                                    return n.get(e);
                                var r = {}
                                    , o = Object.defineProperty && Object.getOwnPropertyDescriptor;
                                for (var a in e)
                                    if ("default" !== a && Object.prototype.hasOwnProperty.call(e, a)) {
                                        var s = o ? Object.getOwnPropertyDescriptor(e, a) : null;
                                        s && (s.get || s.set) ? Object.defineProperty(r, a, s) : r[a] = e[a]
                                    }
                                return r.default = e,
                                    n && n.set(e, r),
                                    r
                            }(n(2))
                            , g = r(n(16))
                            , m = n(8);
                        function h(e) {
                            if ("function" != typeof WeakMap)
                                return null;
                            var t = new WeakMap
                                , n = new WeakMap;
                            return (h = function (e) {
                                return e ? n : t
                            }
                            )(e)
                        }
                        function v(e, t) {
                            var n = Object.keys(e);
                            if (Object.getOwnPropertySymbols) {
                                var r = Object.getOwnPropertySymbols(e);
                                t && (r = r.filter((function (t) {
                                    return Object.getOwnPropertyDescriptor(e, t).enumerable
                                }
                                ))),
                                    n.push.apply(n, r)
                            }
                            return n
                        }
                        function y(e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var n = null != arguments[t] ? arguments[t] : {};
                                t % 2 ? v(Object(n), !0).forEach((function (t) {
                                    (0,
                                        f.default)(e, t, n[t])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : v(Object(n)).forEach((function (t) {
                                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t))
                                }
                                ))
                            }
                            return e
                        }
                        function b(e) {
                            var t = function () {
                                if ("undefined" == typeof Reflect || !Reflect.construct)
                                    return !1;
                                if (Reflect.construct.sham)
                                    return !1;
                                if ("function" == typeof Proxy)
                                    return !0;
                                try {
                                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }
                                    ))),
                                        !0
                                } catch (e) {
                                    return !1
                                }
                            }();
                            return function () {
                                var n, r = (0,
                                    d.default)(e);
                                if (t) {
                                    var i = (0,
                                        d.default)(this).constructor;
                                    n = Reflect.construct(r, arguments, i)
                                } else
                                    n = r.apply(this, arguments);
                                return (0,
                                    c.default)(this, n)
                            }
                        }
                        var _ = function (e) {
                            (0,
                                u.default)(n, e);
                            var t = b(n);
                            function n(e) {
                                var r;
                                return (0,
                                    a.default)(this, n),
                                    r = t.call(this, e),
                                    (0,
                                        f.default)((0,
                                            l.default)(r), "state", {
                                            _holderHelperName: "",
                                            _holderIndex: null
                                        }),
                                    (0,
                                        f.default)((0,
                                            l.default)(r), "blur", (function () {
                                                var e = r.getEvents("textInput").onFinish;
                                                e && e.handler({
                                                    value: r.$inputText.value
                                                })
                                            }
                                        )),
                                    (0,
                                        f.default)((0,
                                            l.default)(r), "input", (function () {
                                                var e = r.getEvents("textInput").onChange;
                                                e && e.handler({
                                                    value: r.$inputText.value
                                                })
                                            }
                                        )),
                                    (0,
                                        f.default)((0,
                                            l.default)(r), "focus", (function () {
                                                var e = r.getEvents("textInput").onBegin;
                                                e && e.handler({
                                                    value: r.$inputText.value
                                                })
                                            }
                                        )),
                                    r.setStyles(x, "textInput"),
                                    r
                            }
                            return (0,
                                s.default)(n, [{
                                    key: "componentDidMount",
                                    value: function () {
                                        (0,
                                            m.bindGestureEvent)(this.$inputText, {
                                                tap: function () { }
                                            })
                                    }
                                }, {
                                    key: "text",
                                    value: function (e) {
                                        this.setAttrs({
                                            value: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "textSize",
                                    value: function (e) {
                                        this.setStyles({
                                            fontSize: p.unitParser(e)
                                        }, "textInput")
                                    }
                                }, {
                                    key: "placeholderColor",
                                    value: function (e) { }
                                }, {
                                    key: "textColor",
                                    value: function (e) {
                                        this.setStyles({
                                            color: p.colorParser(e)
                                        }, "textInput")
                                    }
                                }, {
                                    key: "keyboard",
                                    value: function (e) {
                                        this.setAttrs({
                                            type: w[e]
                                        }, "textInput")
                                    }
                                }, {
                                    key: "maxLength",
                                    value: function (e) {
                                        this.setAttrs({
                                            maxLength: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "placeholder",
                                    value: function (e) {
                                        this.setAttrs({
                                            placeholder: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "textGravity",
                                    value: function (e) {
                                        this.setStyles({
                                            textAlign: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "onFinish",
                                    value: function (e) {
                                        this.setEvents({
                                            onFinish: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "onChange",
                                    value: function (e) {
                                        this.setEvents({
                                            onChange: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "onBegin",
                                    value: function (e) {
                                        this.setEvents({
                                            onBegin: e
                                        }, "textInput")
                                    }
                                }, {
                                    key: "renderView",
                                    value: function () {
                                        var e = this
                                            , t = this.getStyles("font")
                                            , n = this.getStyles("textInput")
                                            , r = y(y({}, t), n);
                                        return p.h("input", (0,
                                            o.default)({
                                                ref: function (t) {
                                                    return e.$inputText = t
                                                },
                                                onFocus: function (t) {
                                                    return e.focus(t)
                                                },
                                                onInput: function (t) {
                                                    return e.input(t)
                                                },
                                                onBlur: function (t) {
                                                    return e.blur(t)
                                                },
                                                style: r
                                            }, this.getAttrs("textInput"), {
                                                className: this.state._holderHelperName
                                            }))
                                    }
                                }]),
                                n
                        }(g.default)
                            , w = {
                                0: "text",
                                1: "number",
                                2: "tel"
                            }
                            , x = {
                                width: "100%",
                                height: "100%",
                                outline: "none",
                                border: "none",
                                padding: 0,
                                margin: 0,
                                userSelect: "auto"
                            };
                        _.defaultProps = {
                            maxLength: -1,
                            textSize: "12np",
                            textGravity: "left",
                            keyboard: 0
                        },
                            p.registerView("TextInput", _),
                            p.registerView("DTextInput", _);
                        var O = _;
                        t.default = O
                    }
                    , function (e, t, n) {
                        "use strict";
                        function r(e) {
                            return e.charAt(0).toUpperCase() + e.slice(1)
                        }
                        function i(e, t, n) {
                            if (e.hasOwnProperty(t)) {
                                for (var i = {}, o = e[t], a = r(t), s = Object.keys(n), l = 0; l < s.length; l++) {
                                    var u = s[l];
                                    if (u === t)
                                        for (var c = 0; c < o.length; c++)
                                            i[o[c] + a] = n[t];
                                    i[u] = n[u]
                                }
                                return i
                            }
                            return n
                        }
                        function o(e, t, n, r, i) {
                            for (var o = 0, a = e.length; o < a; ++o) {
                                var s = e[o](t, n, r, i);
                                if (s)
                                    return s
                            }
                        }
                        function a(e, t) {
                            -1 === e.indexOf(t) && e.push(t)
                        }
                        function s(e, t) {
                            if (Array.isArray(t))
                                for (var n = 0, r = t.length; n < r; ++n)
                                    a(e, t[n]);
                            else
                                a(e, t)
                        }
                        function l(e) {
                            return e instanceof Object && !Array.isArray(e)
                        }
                        function u(e) {
                            var t = e.prefixMap
                                , n = e.plugins;
                            return function e(r) {
                                for (var a in r) {
                                    var u = r[a];
                                    if (l(u))
                                        r[a] = e(u);
                                    else if (Array.isArray(u)) {
                                        for (var c = [], d = 0, f = u.length; d < f; ++d)
                                            s(c, o(n, a, u[d], r, t) || u[d]);
                                        c.length > 0 && (r[a] = c)
                                    } else {
                                        var p = o(n, a, u, r, t);
                                        p && (r[a] = p),
                                            r = i(t, a, r)
                                    }
                                }
                                return r
                            }
                        }
                        n.r(t),
                            n.d(t, "createPrefixer", (function () {
                                return u
                            }
                            )),
                            n.d(t, "prefix", (function () {
                                return F
                            }
                            ));
                        var c = ["Webkit"]
                            , d = ["ms"]
                            , f = ["Webkit", "ms"]
                            , p = {
                                plugins: [],
                                prefixMap: {
                                    appearance: ["Webkit", "Moz"],
                                    textEmphasisPosition: c,
                                    textEmphasis: c,
                                    textEmphasisStyle: c,
                                    textEmphasisColor: c,
                                    boxDecorationBreak: c,
                                    maskImage: c,
                                    maskMode: c,
                                    maskRepeat: c,
                                    maskPosition: c,
                                    maskClip: c,
                                    maskOrigin: c,
                                    maskSize: c,
                                    maskComposite: c,
                                    mask: c,
                                    maskBorderSource: c,
                                    maskBorderMode: c,
                                    maskBorderSlice: c,
                                    maskBorderWidth: c,
                                    maskBorderOutset: c,
                                    maskBorderRepeat: c,
                                    maskBorder: c,
                                    maskType: c,
                                    textDecorationStyle: c,
                                    textDecorationSkip: c,
                                    textDecorationLine: c,
                                    textDecorationColor: c,
                                    userSelect: ["Webkit", "Moz", "ms"],
                                    backdropFilter: c,
                                    fontKerning: c,
                                    scrollSnapType: f,
                                    scrollSnapPointsX: f,
                                    scrollSnapPointsY: f,
                                    scrollSnapDestination: f,
                                    scrollSnapCoordinate: f,
                                    clipPath: c,
                                    shapeImageThreshold: c,
                                    shapeImageMargin: c,
                                    shapeImageOutside: c,
                                    filter: c,
                                    hyphens: f,
                                    flowInto: f,
                                    flowFrom: f,
                                    breakBefore: f,
                                    breakAfter: f,
                                    breakInside: f,
                                    regionFragment: f,
                                    writingMode: f,
                                    textOrientation: c,
                                    tabSize: ["Moz"],
                                    fontFeatureSettings: c,
                                    columnCount: c,
                                    columnFill: c,
                                    columnGap: c,
                                    columnRule: c,
                                    columnRuleColor: c,
                                    columnRuleStyle: c,
                                    columnRuleWidth: c,
                                    columns: c,
                                    columnSpan: c,
                                    columnWidth: c,
                                    wrapFlow: d,
                                    wrapThrough: d,
                                    wrapMargin: d,
                                    textSizeAdjust: f
                                }
                            }
                            , g = ["-webkit-", "-moz-", ""]
                            , m = {
                                "zoom-in": !0,
                                "zoom-out": !0,
                                grab: !0,
                                grabbing: !0
                            }
                            , h = n(10)
                            , v = n.n(h)
                            , y = ["-webkit-", ""]
                            , b = ["-webkit-", ""]
                            , _ = {
                                flex: ["-webkit-box", "-moz-box", "-ms-flexbox", "-webkit-flex", "flex"],
                                "inline-flex": ["-webkit-inline-box", "-moz-inline-box", "-ms-inline-flexbox", "-webkit-inline-flex", "inline-flex"]
                            }
                            , w = {
                                "space-around": "justify",
                                "space-between": "justify",
                                "flex-start": "start",
                                "flex-end": "end",
                                "wrap-reverse": "multiple",
                                wrap: "multiple"
                            }
                            , x = {
                                alignItems: "WebkitBoxAlign",
                                justifyContent: "WebkitBoxPack",
                                flexWrap: "WebkitBoxLines",
                                flexGrow: "WebkitBoxFlex"
                            }
                            , O = ["-webkit-", "-moz-", ""]
                            , S = /linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi
                            , M = function (e, t) {
                                if (Array.isArray(e))
                                    return e;
                                if (Symbol.iterator in Object(e))
                                    return function (e, t) {
                                        var n = []
                                            , r = !0
                                            , i = !1
                                            , o = void 0;
                                        try {
                                            for (var a, s = e[Symbol.iterator](); !(r = (a = s.next()).done) && (n.push(a.value),
                                                !t || n.length !== t); r = !0)
                                                ;
                                        } catch (e) {
                                            i = !0,
                                                o = e
                                        } finally {
                                            try {
                                                !r && s.return && s.return()
                                            } finally {
                                                if (i)
                                                    throw o
                                            }
                                        }
                                        return n
                                    }(e, t);
                                throw new TypeError("Invalid attempt to destructure non-iterable instance")
                            };
                        function P(e) {
                            return "number" == typeof e && !isNaN(e)
                        }
                        function E(e) {
                            return "string" == typeof e && e.includes("/")
                        }
                        var k = ["center", "end", "start", "stretch"]
                            , I = {
                                "inline-grid": ["-ms-inline-grid", "inline-grid"],
                                grid: ["-ms-grid", "grid"]
                            }
                            , C = {
                                alignSelf: function (e, t) {
                                    k.indexOf(e) > -1 && (t.msGridRowAlign = e)
                                },
                                gridColumn: function (e, t) {
                                    if (P(e))
                                        t.msGridColumn = e;
                                    else if (E(e)) {
                                        var n = e.split("/")
                                            , r = M(n, 2)
                                            , i = r[0]
                                            , o = r[1];
                                        C.gridColumnStart(+i, t);
                                        var a = o.split(/ ?span /)
                                            , s = M(a, 2)
                                            , l = s[0]
                                            , u = s[1];
                                        "" === l ? C.gridColumnEnd(+i + +u, t) : C.gridColumnEnd(+o, t)
                                    } else
                                        C.gridColumnStart(e, t)
                                },
                                gridColumnEnd: function (e, t) {
                                    var n = t.msGridColumn;
                                    P(e) && P(n) && (t.msGridColumnSpan = e - n)
                                },
                                gridColumnStart: function (e, t) {
                                    P(e) && (t.msGridColumn = e)
                                },
                                gridRow: function (e, t) {
                                    if (P(e))
                                        t.msGridRow = e;
                                    else if (E(e)) {
                                        var n = e.split("/")
                                            , r = M(n, 2)
                                            , i = r[0]
                                            , o = r[1];
                                        C.gridRowStart(+i, t);
                                        var a = o.split(/ ?span /)
                                            , s = M(a, 2)
                                            , l = s[0]
                                            , u = s[1];
                                        "" === l ? C.gridRowEnd(+i + +u, t) : C.gridRowEnd(+o, t)
                                    } else
                                        C.gridRowStart(e, t)
                                },
                                gridRowEnd: function (e, t) {
                                    var n = t.msGridRow;
                                    P(e) && P(n) && (t.msGridRowSpan = e - n)
                                },
                                gridRowStart: function (e, t) {
                                    P(e) && (t.msGridRow = e)
                                },
                                gridTemplateColumns: function (e, t) {
                                    t.msGridColumns = e
                                },
                                gridTemplateRows: function (e, t) {
                                    t.msGridRows = e
                                },
                                justifySelf: function (e, t) {
                                    k.indexOf(e) > -1 && (t.msGridColumnAlign = e)
                                }
                            }
                            , T = ["-webkit-", ""]
                            , D = {
                                marginBlockStart: ["WebkitMarginBefore"],
                                marginBlockEnd: ["WebkitMarginAfter"],
                                marginInlineStart: ["WebkitMarginStart", "MozMarginStart"],
                                marginInlineEnd: ["WebkitMarginEnd", "MozMarginEnd"],
                                paddingBlockStart: ["WebkitPaddingBefore"],
                                paddingBlockEnd: ["WebkitPaddingAfter"],
                                paddingInlineStart: ["WebkitPaddingStart", "MozPaddingStart"],
                                paddingInlineEnd: ["WebkitPaddingEnd", "MozPaddingEnd"],
                                borderBlockStart: ["WebkitBorderBefore"],
                                borderBlockStartColor: ["WebkitBorderBeforeColor"],
                                borderBlockStartStyle: ["WebkitBorderBeforeStyle"],
                                borderBlockStartWidth: ["WebkitBorderBeforeWidth"],
                                borderBlockEnd: ["WebkitBorderAfter"],
                                borderBlockEndColor: ["WebkitBorderAfterColor"],
                                borderBlockEndStyle: ["WebkitBorderAfterStyle"],
                                borderBlockEndWidth: ["WebkitBorderAfterWidth"],
                                borderInlineStart: ["WebkitBorderStart", "MozBorderStart"],
                                borderInlineStartColor: ["WebkitBorderStartColor", "MozBorderStartColor"],
                                borderInlineStartStyle: ["WebkitBorderStartStyle", "MozBorderStartStyle"],
                                borderInlineStartWidth: ["WebkitBorderStartWidth", "MozBorderStartWidth"],
                                borderInlineEnd: ["WebkitBorderEnd", "MozBorderEnd"],
                                borderInlineEndColor: ["WebkitBorderEndColor", "MozBorderEndColor"],
                                borderInlineEndStyle: ["WebkitBorderEndStyle", "MozBorderEndStyle"],
                                borderInlineEndWidth: ["WebkitBorderEndWidth", "MozBorderEndWidth"]
                            }
                            , j = ["-webkit-", "-moz-", ""]
                            , N = {
                                maxHeight: !0,
                                maxWidth: !0,
                                width: !0,
                                height: !0,
                                columnWidth: !0,
                                minWidth: !0,
                                minHeight: !0
                            }
                            , A = {
                                "min-content": !0,
                                "max-content": !0,
                                "fill-available": !0,
                                "fit-content": !0,
                                "contain-floats": !0
                            }
                            , R = n(22)
                            , L = n.n(R)
                            , B = {
                                transition: !0,
                                transitionProperty: !0,
                                WebkitTransition: !0,
                                WebkitTransitionProperty: !0,
                                MozTransition: !0,
                                MozTransitionProperty: !0
                            }
                            , U = {
                                Webkit: "-webkit-",
                                Moz: "-moz-",
                                ms: "-ms-"
                            }
                            , F = u({
                                prefixMap: p.prefixMap,
                                plugins: [function (e, t) {
                                    if ("string" == typeof t && "text" === t)
                                        return ["-webkit-text", "text"]
                                }
                                    , function (e, t) {
                                        if ("string" == typeof t && !v()(t) && t.indexOf("cross-fade(") > -1)
                                            return y.map((function (e) {
                                                return t.replace(/cross-fade\(/g, e + "cross-fade(")
                                            }
                                            ))
                                    }
                                    , function (e, t) {
                                        if ("cursor" === e && m.hasOwnProperty(t))
                                            return g.map((function (e) {
                                                return e + t
                                            }
                                            ))
                                    }
                                    , function (e, t) {
                                        if ("string" == typeof t && !v()(t) && t.indexOf("filter(") > -1)
                                            return b.map((function (e) {
                                                return t.replace(/filter\(/g, e + "filter(")
                                            }
                                            ))
                                    }
                                    , function (e, t, n) {
                                        "flexDirection" === e && "string" == typeof t && (t.indexOf("column") > -1 ? n.WebkitBoxOrient = "vertical" : n.WebkitBoxOrient = "horizontal",
                                            t.indexOf("reverse") > -1 ? n.WebkitBoxDirection = "reverse" : n.WebkitBoxDirection = "normal"),
                                            x.hasOwnProperty(e) && (n[x[e]] = w[t] || t)
                                    }
                                    , function (e, t) {
                                        if ("string" == typeof t && !v()(t) && S.test(t))
                                            return O.map((function (e) {
                                                return t.replace(S, (function (t) {
                                                    return e + t
                                                }
                                                ))
                                            }
                                            ))
                                    }
                                    , function (e, t, n) {
                                        if ("display" === e && t in I)
                                            return I[t];
                                        e in C && (0,
                                            C[e])(t, n)
                                    }
                                    , function (e, t) {
                                        if ("string" == typeof t && !v()(t) && t.indexOf("image-set(") > -1)
                                            return T.map((function (e) {
                                                return t.replace(/image-set\(/g, e + "image-set(")
                                            }
                                            ))
                                    }
                                    , function (e, t, n) {
                                        if (Object.prototype.hasOwnProperty.call(D, e))
                                            for (var r = D[e], i = 0, o = r.length; i < o; ++i)
                                                n[r[i]] = t
                                    }
                                    , function (e, t) {
                                        if ("position" === e && "sticky" === t)
                                            return ["-webkit-sticky", "sticky"]
                                    }
                                    , function (e, t) {
                                        if (N.hasOwnProperty(e) && A.hasOwnProperty(t))
                                            return j.map((function (e) {
                                                return e + t
                                            }
                                            ))
                                    }
                                    , function (e, t, n, i) {
                                        if ("string" == typeof t && B.hasOwnProperty(e)) {
                                            var o = function (e, t) {
                                                if (v()(e))
                                                    return e;
                                                for (var n = e.split(/,(?![^()]*(?:\([^()]*\))?\))/g), r = 0, i = n.length; r < i; ++r) {
                                                    var o = n[r]
                                                        , a = [o];
                                                    for (var s in t) {
                                                        var l = L()(s);
                                                        if (o.indexOf(l) > -1 && "order" !== l)
                                                            for (var u = t[s], c = 0, d = u.length; c < d; ++c)
                                                                a.unshift(o.replace(l, U[u[c]] + l))
                                                    }
                                                    n[r] = a.join(",")
                                                }
                                                return n.join(",")
                                            }(t, i)
                                                , a = o.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function (e) {
                                                    return !/-moz-|-ms-/.test(e)
                                                }
                                                )).join(",");
                                            if (e.indexOf("Webkit") > -1)
                                                return a;
                                            var s = o.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function (e) {
                                                return !/-webkit-|-ms-/.test(e)
                                            }
                                            )).join(",");
                                            return e.indexOf("Moz") > -1 ? s : (n["Webkit" + r(e)] = a,
                                                n["Moz" + r(e)] = s,
                                                o)
                                        }
                                    }
                                    , function (e, t) {
                                        if ("display" === e && _.hasOwnProperty(t))
                                            return _[t]
                                    }
                                ]
                            })
                    }
                ])
            }
            ,
            e.exports = r(n(25), n(0))
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e, t) {
            return function () {
                for (var n = new Array(arguments.length), r = 0; r < n.length; r++)
                    n[r] = arguments[r];
                return e.apply(t, n)
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        function i(e) {
            return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]")
        }
        e.exports = function (e, t, n) {
            if (!t)
                return e;
            var o;
            if (n)
                o = n(t);
            else if (r.isURLSearchParams(t))
                o = t.toString();
            else {
                var a = [];
                r.forEach(t, (function (e, t) {
                    null != e && (r.isArray(e) ? t += "[]" : e = [e],
                        r.forEach(e, (function (e) {
                            r.isDate(e) ? e = e.toISOString() : r.isObject(e) && (e = JSON.stringify(e)),
                                a.push(i(t) + "=" + i(e))
                        }
                        )))
                }
                )),
                    o = a.join("&")
            }
            if (o) {
                var s = e.indexOf("#");
                -1 !== s && (e = e.slice(0, s)),
                    e += (-1 === e.indexOf("?") ? "?" : "&") + o
            }
            return e
        }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            return !(!e || !e.__CANCEL__)
        }
    }
    , function (e, t, n) {
        "use strict";
        (function (t) {
            var r = n(9)
                , i = n(146)
                , o = {
                    "Content-Type": "application/x-www-form-urlencoded"
                };
            function a(e, t) {
                !r.isUndefined(e) && r.isUndefined(e["Content-Type"]) && (e["Content-Type"] = t)
            }
            var s, l = {
                adapter: (("undefined" != typeof XMLHttpRequest || void 0 !== t && "[object process]" === Object.prototype.toString.call(t)) && (s = n(51)),
                    s),
                transformRequest: [function (e, t) {
                    return i(t, "Accept"),
                        i(t, "Content-Type"),
                        r.isFormData(e) || r.isArrayBuffer(e) || r.isBuffer(e) || r.isStream(e) || r.isFile(e) || r.isBlob(e) ? e : r.isArrayBufferView(e) ? e.buffer : r.isURLSearchParams(e) ? (a(t, "application/x-www-form-urlencoded;charset=utf-8"),
                            e.toString()) : r.isObject(e) ? (a(t, "application/json;charset=utf-8"),
                                JSON.stringify(e)) : e
                }
                ],
                transformResponse: [function (e) {
                    if ("string" == typeof e)
                        try {
                            e = JSON.parse(e)
                        } catch (e) { }
                    return e
                }
                ],
                timeout: 0,
                xsrfCookieName: "XSRF-TOKEN",
                xsrfHeaderName: "X-XSRF-TOKEN",
                maxContentLength: -1,
                validateStatus: function (e) {
                    return e >= 200 && e < 300
                }
            };
            l.headers = {
                common: {
                    Accept: "application/json, text/plain, */*"
                }
            },
                r.forEach(["delete", "get", "head"], (function (e) {
                    l.headers[e] = {}
                }
                )),
                r.forEach(["post", "put", "patch"], (function (e) {
                    l.headers[e] = r.merge(o)
                }
                )),
                e.exports = l
        }
        ).call(this, n(17))
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9)
            , i = n(147)
            , o = n(48)
            , a = n(149)
            , s = n(152)
            , l = n(153)
            , u = n(52);
        e.exports = function (e) {
            return new Promise((function (t, c) {
                var d = e.data
                    , f = e.headers;
                r.isFormData(d) && delete f["Content-Type"];
                var p = new XMLHttpRequest;
                if (e.auth) {
                    var g = e.auth.username || ""
                        , m = e.auth.password || "";
                    f.Authorization = "Basic " + btoa(g + ":" + m)
                }
                var h = a(e.baseURL, e.url);
                if (p.open(e.method.toUpperCase(), o(h, e.params, e.paramsSerializer), !0),
                    p.timeout = e.timeout,
                    p.onreadystatechange = function () {
                        if (p && 4 === p.readyState && (0 !== p.status || p.responseURL && 0 === p.responseURL.indexOf("file:"))) {
                            var n = "getAllResponseHeaders" in p ? s(p.getAllResponseHeaders()) : null
                                , r = {
                                    data: e.responseType && "text" !== e.responseType ? p.response : p.responseText,
                                    status: p.status,
                                    statusText: p.statusText,
                                    headers: n,
                                    config: e,
                                    request: p
                                };
                            i(t, c, r),
                                p = null
                        }
                    }
                    ,
                    p.onabort = function () {
                        p && (c(u("Request aborted", e, "ECONNABORTED", p)),
                            p = null)
                    }
                    ,
                    p.onerror = function () {
                        c(u("Network Error", e, null, p)),
                            p = null
                    }
                    ,
                    p.ontimeout = function () {
                        var t = "timeout of " + e.timeout + "ms exceeded";
                        e.timeoutErrorMessage && (t = e.timeoutErrorMessage),
                            c(u(t, e, "ECONNABORTED", p)),
                            p = null
                    }
                    ,
                    r.isStandardBrowserEnv()) {
                    var v = n(154)
                        , y = (e.withCredentials || l(h)) && e.xsrfCookieName ? v.read(e.xsrfCookieName) : void 0;
                    y && (f[e.xsrfHeaderName] = y)
                }
                if ("setRequestHeader" in p && r.forEach(f, (function (e, t) {
                    void 0 === d && "content-type" === t.toLowerCase() ? delete f[t] : p.setRequestHeader(t, e)
                }
                )),
                    r.isUndefined(e.withCredentials) || (p.withCredentials = !!e.withCredentials),
                    e.responseType)
                    try {
                        p.responseType = e.responseType
                    } catch (t) {
                        if ("json" !== e.responseType)
                            throw t
                    }
                "function" == typeof e.onDownloadProgress && p.addEventListener("progress", e.onDownloadProgress),
                    "function" == typeof e.onUploadProgress && p.upload && p.upload.addEventListener("progress", e.onUploadProgress),
                    e.cancelToken && e.cancelToken.promise.then((function (e) {
                        p && (p.abort(),
                            c(e),
                            p = null)
                    }
                    )),
                    void 0 === d && (d = null),
                    p.send(d)
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(148);
        e.exports = function (e, t, n, i, o) {
            var a = new Error(e);
            return r(a, t, n, i, o)
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        e.exports = function (e, t) {
            t = t || {};
            var n = {}
                , i = ["url", "method", "params", "data"]
                , o = ["headers", "auth", "proxy"]
                , a = ["baseURL", "url", "transformRequest", "transformResponse", "paramsSerializer", "timeout", "withCredentials", "adapter", "responseType", "xsrfCookieName", "xsrfHeaderName", "onUploadProgress", "onDownloadProgress", "maxContentLength", "validateStatus", "maxRedirects", "httpAgent", "httpsAgent", "cancelToken", "socketPath"];
            r.forEach(i, (function (e) {
                void 0 !== t[e] && (n[e] = t[e])
            }
            )),
                r.forEach(o, (function (i) {
                    r.isObject(t[i]) ? n[i] = r.deepMerge(e[i], t[i]) : void 0 !== t[i] ? n[i] = t[i] : r.isObject(e[i]) ? n[i] = r.deepMerge(e[i]) : void 0 !== e[i] && (n[i] = e[i])
                }
                )),
                r.forEach(a, (function (r) {
                    void 0 !== t[r] ? n[r] = t[r] : void 0 !== e[r] && (n[r] = e[r])
                }
                ));
            var s = i.concat(o).concat(a)
                , l = Object.keys(t).filter((function (e) {
                    return -1 === s.indexOf(e)
                }
                ));
            return r.forEach(l, (function (r) {
                void 0 !== t[r] ? n[r] = t[r] : void 0 !== e[r] && (n[r] = e[r])
            }
            )),
                n
        }
    }
    , function (e, t, n) {
        "use strict";
        function r(e) {
            this.message = e
        }
        r.prototype.toString = function () {
            return "Cancel" + (this.message ? ": " + this.message : "")
        }
            ,
            r.prototype.__CANCEL__ = !0,
            e.exports = r
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.utLogClK = void 0,
            t.utLogClK = function (e) {
                window.imsdk.invoke("im.bizutil.PageButtonClickUT", e).then((function () { }
                )).catch((function () { }
                ))
            }
    }
    , function (e, t, n) {
        "use strict";
        n.r(t),
            n.d(t, "createLogger", (function () {
                return a
            }
            )),
            n.d(t, "Logger", (function () {
                return o
            }
            ));
        var r = n(57)
            , i = n.n(r)
            , o = function () {
                function e(e, t) {
                    var n = this;
                    void 0 === t && (t = !0),
                        this.namespace = e,
                        this.limit = t,
                        this._debug = void 0,
                        this.fmt = "yyyy-MM-dd hh:mm:ss",
                        this.format = function (e, t) {
                            void 0 === t && (t = n.fmt);
                            var r = {
                                "M+": e.getMonth() + 1,
                                "d+": e.getDate(),
                                "h+": e.getHours(),
                                "m+": e.getMinutes(),
                                "s+": e.getSeconds(),
                                "q+": Math.floor((e.getMonth() + 3) / 3),
                                S: e.getMilliseconds()
                            };
                            for (var i in /(y+)/.test(t) && (t = t.replace(RegExp.$1, (e.getFullYear() + "").substr(4 - RegExp.$1.length))),
                                r)
                                new RegExp("(" + i + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? r[i] : ("00" + r[i]).substr(("" + r[i]).length)));
                            return t
                        }
                        ,
                        this._debug = i()(e),
                        this._debug.enabled = !0,
                        this._debug.log = console.log
                }
                var t = e.prototype;
                return t.shouldSlice = function () {
                    return !!this.limit
                }
                    ,
                    t.writeLog = function () {
                        if (window.workbench) {
                            var e = this.stringify.apply(this, arguments);
                            this.shouldSlice() && (e = e.slice(0, 200)),
                                window.workbench.im.log(0, "[" + this.namespace + "]: " + e)
                        }
                    }
                    ,
                    t.stringify = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        var r = t.map((function (e) {
                            if ("string" == typeof e)
                                return e;
                            try {
                                return JSON.stringify(e)
                            } catch (t) {
                                return String(e)
                            }
                        }
                        ));
                        return r.join(" ")
                    }
                    ,
                    t.color = function (e) {
                        this._debug.color = e
                    }
                    ,
                    t.log = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        this._debug.apply(this, [].concat(t, [this.format(new Date)])),
                            this.writeLog.apply(this, t)
                    }
                    ,
                    t.consoleLog = function () {
                        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
                            t[n] = arguments[n];
                        this._debug.apply(this, [].concat(t, [this.format(new Date)]))
                    }
                    ,
                    e
            }()
            , a = function (e) {
                return function (t, n) {
                    return void 0 === n && (n = !0),
                        new o("message:" + e + ":" + t, n)
                }
            }
    }
    , function (e, t, n) {
        (function (r) {
            t.formatArgs = function (t) {
                if (t[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff),
                    !this.useColors)
                    return;
                const n = "color: " + this.color;
                t.splice(1, 0, n, "color: inherit");
                let r = 0
                    , i = 0;
                t[0].replace(/%[a-zA-Z%]/g, e => {
                    "%%" !== e && (r++,
                        "%c" === e && (i = r))
                }
                ),
                    t.splice(i, 0, n)
            }
                ,
                t.save = function (e) {
                    try {
                        e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug")
                    } catch (e) { }
                }
                ,
                t.load = function () {
                    let e;
                    try {
                        e = t.storage.getItem("debug")
                    } catch (e) { }
                    !e && void 0 !== r && "env" in r && (e = r.env.DEBUG);
                    return e
                }
                ,
                t.useColors = function () {
                    if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs))
                        return !0;
                    if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
                        return !1;
                    return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
                }
                ,
                t.storage = function () {
                    try {
                        return localStorage
                    } catch (e) { }
                }(),
                t.destroy = (() => {
                    let e = !1;
                    return () => {
                        e || (e = !0,
                            console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))
                    }
                }
                )(),
                t.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"],
                t.log = console.debug || console.log || (() => { }
                ),
                e.exports = n(81)(t);
            const { formatters: i } = e.exports;
            i.j = function (e) {
                try {
                    return JSON.stringify(e)
                } catch (e) {
                    return "[UnexpectedJSONParseError]: " + e.message
                }
            }
        }
        ).call(this, n(17))
    }
    , function (e, t, n) {
        (function (r) {
            t.formatArgs = function (t) {
                if (t[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + t[0] + (this.useColors ? "%c " : " ") + "+" + e.exports.humanize(this.diff),
                    !this.useColors)
                    return;
                const n = "color: " + this.color;
                t.splice(1, 0, n, "color: inherit");
                let r = 0
                    , i = 0;
                t[0].replace(/%[a-zA-Z%]/g, e => {
                    "%%" !== e && (r++,
                        "%c" === e && (i = r))
                }
                ),
                    t.splice(i, 0, n)
            }
                ,
                t.save = function (e) {
                    try {
                        e ? t.storage.setItem("debug", e) : t.storage.removeItem("debug")
                    } catch (e) { }
                }
                ,
                t.load = function () {
                    let e;
                    try {
                        e = t.storage.getItem("debug")
                    } catch (e) { }
                    !e && void 0 !== r && "env" in r && (e = r.env.DEBUG);
                    return e
                }
                ,
                t.useColors = function () {
                    if ("undefined" != typeof window && window.process && ("renderer" === window.process.type || window.process.__nwjs))
                        return !0;
                    if ("undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))
                        return !1;
                    return "undefined" != typeof document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || "undefined" != typeof window && window.console && (window.console.firebug || window.console.exception && window.console.table) || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)
                }
                ,
                t.storage = function () {
                    try {
                        return localStorage
                    } catch (e) { }
                }(),
                t.destroy = (() => {
                    let e = !1;
                    return () => {
                        e || (e = !0,
                            console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))
                    }
                }
                )(),
                t.colors = ["#0000CC", "#0000FF", "#0033CC", "#0033FF", "#0066CC", "#0066FF", "#0099CC", "#0099FF", "#00CC00", "#00CC33", "#00CC66", "#00CC99", "#00CCCC", "#00CCFF", "#3300CC", "#3300FF", "#3333CC", "#3333FF", "#3366CC", "#3366FF", "#3399CC", "#3399FF", "#33CC00", "#33CC33", "#33CC66", "#33CC99", "#33CCCC", "#33CCFF", "#6600CC", "#6600FF", "#6633CC", "#6633FF", "#66CC00", "#66CC33", "#9900CC", "#9900FF", "#9933CC", "#9933FF", "#99CC00", "#99CC33", "#CC0000", "#CC0033", "#CC0066", "#CC0099", "#CC00CC", "#CC00FF", "#CC3300", "#CC3333", "#CC3366", "#CC3399", "#CC33CC", "#CC33FF", "#CC6600", "#CC6633", "#CC9900", "#CC9933", "#CCCC00", "#CCCC33", "#FF0000", "#FF0033", "#FF0066", "#FF0099", "#FF00CC", "#FF00FF", "#FF3300", "#FF3333", "#FF3366", "#FF3399", "#FF33CC", "#FF33FF", "#FF6600", "#FF6633", "#FF9900", "#FF9933", "#FFCC00", "#FFCC33"],
                t.log = console.debug || console.log || (() => { }
                ),
                e.exports = n(99)(t);
            const { formatters: i } = e.exports;
            i.j = function (e) {
                try {
                    return JSON.stringify(e)
                } catch (e) {
                    return "[UnexpectedJSONParseError]: " + e.message
                }
            }
        }
        ).call(this, n(17))
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__awaiter || function (e, t, n, r) {
                return new (n || (n = Promise))((function (i, o) {
                    function a(e) {
                        try {
                            l(r.next(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function s(e) {
                        try {
                            l(r.throw(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function l(e) {
                        var t;
                        e.done ? i(e.value) : (t = e.value,
                            t instanceof n ? t : new n((function (e) {
                                e(t)
                            }
                            ))).then(a, s)
                    }
                    l((r = r.apply(e, t || [])).next())
                }
                ))
            }
            , c = this && this.__generator || function (e, t) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                    "function" == typeof Symbol && (o[Symbol.iterator] = function () {
                        return this
                    }
                    ),
                    o;
                function s(o) {
                    return function (s) {
                        return function (o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a;)
                                try {
                                    if (n = 1,
                                        r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                        return i;
                                    switch (r = 0,
                                    i && (o = [2 & o[0], i.value]),
                                    o[0]) {
                                        case 0:
                                        case 1:
                                            i = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                            {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++,
                                                r = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys,
                                                (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < i[1]) {
                                                a.label = i[1],
                                                    i = o;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            i[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        r = 0
                                } finally {
                                    n = i = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , d = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var f = l(n(0))
            , p = d(n(20))
            , g = n(4)
            , m = d(n(1))
            , h = n(96)
            , v = d(n(129))
            , y = l(n(12))
            , b = d(n(130))
            , _ = d(n(18))
            , w = d(n(187));
        n(188);
        var x = n(13)
            , O = l(n(7))
            , S = n(32)
            , M = n(190)
            , P = d(n(5));
        window._imsdkLog = O.createLogger("imsdk")("log"),
            window._performanceLog = x.createPerfLogger("fst-screen"),
            window._errorLog = O.createLogger("tb-im-h5")("error|NO-LIMIT"),
            performance = performance || {
                timing: {}
            },
            M.startCheck();
        var E = m.default.SDK;
        window.imsdk.invoke("im.uiutil.GetEnableAccessibility", {
            param: {}
        }).then((function (e) {
            var t = P.default(e, "result.enableAccessibility", !1);
            m.default.updateAria(t)
        }
        ));
        var k = O.createLogger("tb-im-h5")("react-main|NO-LIMIT");
        S.registerEvent();
        var I = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
                t.prototype.componentDidMount = function () {
                    window._performanceLog.log("react main entry did mount", +new Date),
                        window._performanceLog.log("react 入口首次渲染耗时", +new Date - performance.timing.domLoading),
                        -1 !== location.href.indexOf("isPreview=true") && (m.default.isPreview = !0),
                        _.default.init(),
                        w.default.init(),
                        v.default(),
                        h.registerListener(),
                        this.getConfig()
                }
                ,
                t.prototype.getConfig = function () {
                    return u(this, void 0, void 0, (function () {
                        var e, t, n, r;
                        return c(this, (function (i) {
                            switch (i.label) {
                                case 0:
                                    return e = m.default,
                                        [4, E.getCurrentLoginID()];
                                case 1:
                                    return e.loginID = i.sent(),
                                        [4, E.getFontConfig()];
                                case 2:
                                    return t = i.sent(),
                                        y.onFontConfigChange(t),
                                        [4, E.getMsgMode()];
                                case 3:
                                    return n = i.sent(),
                                        m.default.updateBubbleMode(n),
                                        [4, E.getCurrentConversationID()];
                                case 4:
                                    return r = i.sent(),
                                        m.default.updateConversationID(r),
                                        m.default.chatType = 0 === r.ctype ? "single" : 2 === r.ctype ? "imba" : "group",
                                        y.conversationChange(),
                                        [2]
                            }
                        }
                        ))
                    }
                    ))
                }
                ,
                t.prototype.render = function () {
                    return f.createElement(f.Fragment, null, f.createElement(b.default, {
                        viewStore: m.default
                    }))
                }
                ,
                t = s([g.observer], t)
        }(f.Component);
        k.log("开始加载页面资源", "等待 DOMContentLoaded 完成"),
            window.addEventListener("DOMContentLoaded", (function () {
                return u(this, void 0, void 0, (function () {
                    return c(this, (function (e) {
                        return window.imsdk2 = m.default.SDK,
                            window.JSTracker2.push({
                                msg: "消息页面加载",
                                type: "custom",
                                url: "pc.banama.message.lunch",
                                sampling: 1
                            }),
                            k.log("DOMContentLoaded 结束", "开始渲染 React root"),
                            p.default.render(f.createElement(I, {
                                viewStore: m.default
                            }), document.getElementById("app")),
                            [2]
                    }
                    ))
                }
                ))
            }
            ));
        var C = window.onerror;
        window.onerror = function (e, t, n, r, i) {
            C && C(e, t, n, r, i),
                window._errorLog.log(e, t, n, r, i),
                window.tracker.log({
                    code: 14,
                    msg: JSON.stringify({
                        msg: e,
                        source: t,
                        lineno: n,
                        colno: r,
                        error: i
                    }),
                    sampleRate: 1
                })
        }
            ,
            window.onload = function () {
                if (performance && performance.timing) {
                    var e = performance.timing;
                    window._performanceLog.log("navigationStart", e.navigationStart),
                        window._performanceLog.log("domLoading", e.domLoading),
                        window._performanceLog.log("首次出现内容 -> time", e.domLoading - e.navigationStart),
                        window._performanceLog.log("domInteractive", e.domInteractive),
                        window._performanceLog.log("dom tree parsing 完成 (可交互) -> time", e.domInteractive - e.domLoading),
                        window._performanceLog.log("domContentLoadedEventStart", e.domContentLoadedEventStart),
                        window._performanceLog.log("domContentLoadedEventEnd", e.domContentLoadedEventEnd),
                        window._performanceLog.log("script 加载执行完成 -> time", e.domContentLoadedEventEnd - e.domLoading),
                        window._performanceLog.log("domComplete", e.domComplete),
                        window._performanceLog.log("whole dom parsing 完成 -> time", e.domComplete - e.domLoading),
                        window._performanceLog.log("loadEventStart", e.loadEventStart),
                        window._performanceLog.log("total time ->", e.loadEventStart - e.domLoading)
                }
            }
    }
    , , , , , function (e, t, n) {
        "use strict";
        function r(e) {
            var t = this;
            if (t instanceof r || (t = new r),
                t.tail = null,
                t.head = null,
                t.length = 0,
                e && "function" == typeof e.forEach)
                e.forEach((function (e) {
                    t.push(e)
                }
                ));
            else if (arguments.length > 0)
                for (var n = 0, i = arguments.length; n < i; n++)
                    t.push(arguments[n]);
            return t
        }
        function i(e, t, n) {
            var r = t === e.head ? new s(n, null, t, e) : new s(n, t, t.next, e);
            return null === r.next && (e.tail = r),
                null === r.prev && (e.head = r),
                e.length++,
                r
        }
        function o(e, t) {
            e.tail = new s(t, e.tail, null, e),
                e.head || (e.head = e.tail),
                e.length++
        }
        function a(e, t) {
            e.head = new s(t, null, e.head, e),
                e.tail || (e.tail = e.head),
                e.length++
        }
        function s(e, t, n, r) {
            if (!(this instanceof s))
                return new s(e, t, n, r);
            this.list = r,
                this.value = e,
                t ? (t.next = this,
                    this.prev = t) : this.prev = null,
                n ? (n.prev = this,
                    this.next = n) : this.next = null
        }
        e.exports = r,
            r.Node = s,
            r.create = r,
            r.prototype.removeNode = function (e) {
                if (e.list !== this)
                    throw new Error("removing node which does not belong to this list");
                var t = e.next
                    , n = e.prev;
                return t && (t.prev = n),
                    n && (n.next = t),
                    e === this.head && (this.head = t),
                    e === this.tail && (this.tail = n),
                    e.list.length--,
                    e.next = null,
                    e.prev = null,
                    e.list = null,
                    t
            }
            ,
            r.prototype.unshiftNode = function (e) {
                if (e !== this.head) {
                    e.list && e.list.removeNode(e);
                    var t = this.head;
                    e.list = this,
                        e.next = t,
                        t && (t.prev = e),
                        this.head = e,
                        this.tail || (this.tail = e),
                        this.length++
                }
            }
            ,
            r.prototype.pushNode = function (e) {
                if (e !== this.tail) {
                    e.list && e.list.removeNode(e);
                    var t = this.tail;
                    e.list = this,
                        e.prev = t,
                        t && (t.next = e),
                        this.tail = e,
                        this.head || (this.head = e),
                        this.length++
                }
            }
            ,
            r.prototype.push = function () {
                for (var e = 0, t = arguments.length; e < t; e++)
                    o(this, arguments[e]);
                return this.length
            }
            ,
            r.prototype.unshift = function () {
                for (var e = 0, t = arguments.length; e < t; e++)
                    a(this, arguments[e]);
                return this.length
            }
            ,
            r.prototype.pop = function () {
                if (this.tail) {
                    var e = this.tail.value;
                    return this.tail = this.tail.prev,
                        this.tail ? this.tail.next = null : this.head = null,
                        this.length--,
                        e
                }
            }
            ,
            r.prototype.shift = function () {
                if (this.head) {
                    var e = this.head.value;
                    return this.head = this.head.next,
                        this.head ? this.head.prev = null : this.tail = null,
                        this.length--,
                        e
                }
            }
            ,
            r.prototype.forEach = function (e, t) {
                t = t || this;
                for (var n = this.head, r = 0; null !== n; r++)
                    e.call(t, n.value, r, this),
                        n = n.next
            }
            ,
            r.prototype.forEachReverse = function (e, t) {
                t = t || this;
                for (var n = this.tail, r = this.length - 1; null !== n; r--)
                    e.call(t, n.value, r, this),
                        n = n.prev
            }
            ,
            r.prototype.get = function (e) {
                for (var t = 0, n = this.head; null !== n && t < e; t++)
                    n = n.next;
                if (t === e && null !== n)
                    return n.value
            }
            ,
            r.prototype.getReverse = function (e) {
                for (var t = 0, n = this.tail; null !== n && t < e; t++)
                    n = n.prev;
                if (t === e && null !== n)
                    return n.value
            }
            ,
            r.prototype.map = function (e, t) {
                t = t || this;
                for (var n = new r, i = this.head; null !== i;)
                    n.push(e.call(t, i.value, this)),
                        i = i.next;
                return n
            }
            ,
            r.prototype.mapReverse = function (e, t) {
                t = t || this;
                for (var n = new r, i = this.tail; null !== i;)
                    n.push(e.call(t, i.value, this)),
                        i = i.prev;
                return n
            }
            ,
            r.prototype.reduce = function (e, t) {
                var n, r = this.head;
                if (arguments.length > 1)
                    n = t;
                else {
                    if (!this.head)
                        throw new TypeError("Reduce of empty list with no initial value");
                    r = this.head.next,
                        n = this.head.value
                }
                for (var i = 0; null !== r; i++)
                    n = e(n, r.value, i),
                        r = r.next;
                return n
            }
            ,
            r.prototype.reduceReverse = function (e, t) {
                var n, r = this.tail;
                if (arguments.length > 1)
                    n = t;
                else {
                    if (!this.tail)
                        throw new TypeError("Reduce of empty list with no initial value");
                    r = this.tail.prev,
                        n = this.tail.value
                }
                for (var i = this.length - 1; null !== r; i--)
                    n = e(n, r.value, i),
                        r = r.prev;
                return n
            }
            ,
            r.prototype.toArray = function () {
                for (var e = new Array(this.length), t = 0, n = this.head; null !== n; t++)
                    e[t] = n.value,
                        n = n.next;
                return e
            }
            ,
            r.prototype.toArrayReverse = function () {
                for (var e = new Array(this.length), t = 0, n = this.tail; null !== n; t++)
                    e[t] = n.value,
                        n = n.prev;
                return e
            }
            ,
            r.prototype.slice = function (e, t) {
                (t = t || this.length) < 0 && (t += this.length),
                    (e = e || 0) < 0 && (e += this.length);
                var n = new r;
                if (t < e || t < 0)
                    return n;
                e < 0 && (e = 0),
                    t > this.length && (t = this.length);
                for (var i = 0, o = this.head; null !== o && i < e; i++)
                    o = o.next;
                for (; null !== o && i < t; i++,
                    o = o.next)
                    n.push(o.value);
                return n
            }
            ,
            r.prototype.sliceReverse = function (e, t) {
                (t = t || this.length) < 0 && (t += this.length),
                    (e = e || 0) < 0 && (e += this.length);
                var n = new r;
                if (t < e || t < 0)
                    return n;
                e < 0 && (e = 0),
                    t > this.length && (t = this.length);
                for (var i = this.length, o = this.tail; null !== o && i > t; i--)
                    o = o.prev;
                for (; null !== o && i > e; i--,
                    o = o.prev)
                    n.push(o.value);
                return n
            }
            ,
            r.prototype.splice = function (e, t, ...n) {
                e > this.length && (e = this.length - 1),
                    e < 0 && (e = this.length + e);
                for (var r = 0, o = this.head; null !== o && r < e; r++)
                    o = o.next;
                var a = [];
                for (r = 0; o && r < t; r++)
                    a.push(o.value),
                        o = this.removeNode(o);
                null === o && (o = this.tail),
                    o !== this.head && o !== this.tail && (o = o.prev);
                for (r = 0; r < n.length; r++)
                    o = i(this, o, n[r]);
                return a
            }
            ,
            r.prototype.reverse = function () {
                for (var e = this.head, t = this.tail, n = e; null !== n; n = n.prev) {
                    var r = n.prev;
                    n.prev = n.next,
                        n.next = r
                }
                return this.head = t,
                    this.tail = e,
                    this
            }
            ;
        try {
            n(65)(r)
        } catch (e) { }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            e.prototype[Symbol.iterator] = function* () {
                for (let e = this.head; e; e = e.next)
                    yield e.value
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__exportStar || function (e, t) {
                for (var n in e)
                    "default" === n || t.hasOwnProperty(n) || r(t, e, n)
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            i(n(67), t),
            i(n(68), t),
            i(n(69), t),
            i(n(70), t),
            i(n(71), t),
            i(n(72), t),
            i(n(73), t)
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.EmotionCache = void 0;
        var o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.EmotionCache = o
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.ScrollCache = void 0;
        var o = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.ScrollCache = o
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.MsgTipCache = void 0;
        var o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.MsgTipCache = o
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.BottomStatusCache = void 0;
        var o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.BottomStatusCache = o
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.MsgCurInvokingWay = t.MsgInvokingWay = void 0;
        var o = n(15)
            , a = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.store = new Map,
                        t
                }
                return i(t, e),
                    t
            }(o.MCache);
        t.MsgInvokingWay = a;
        var s = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(o.MCache);
        t.MsgCurInvokingWay = s
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.PerfRecord = void 0;
        var o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.PerfRecord = o
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        );
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.MouseStatusCache = void 0;
        var o = function (e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.store = new Map,
                    t
            }
            return i(t, e),
                t
        }(n(15).MCache);
        t.MouseStatusCache = o
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(36));
        t.default = i.default
    }
    , function (e, t, n) {
        var r = n(38).default
            , i = n(76);
        e.exports = function (e) {
            var t = i(e, "string");
            return "symbol" === r(t) ? t : String(t)
        }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t, n) {
        var r = n(38).default;
        e.exports = function (e, t) {
            if ("object" !== r(e) || null === e)
                return e;
            var n = e[Symbol.toPrimitive];
            if (void 0 !== n) {
                var i = n.call(e, t || "default");
                if ("object" !== r(i))
                    return i;
                throw new TypeError("@@toPrimitive must return a primitive value.")
            }
            return ("string" === t ? String : Number)(e)
        }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0;
        var r = n(78);
        Object.keys(r).forEach((function (e) {
            "default" !== e && "__esModule" !== e && (e in t && t[e] === r[e] || (t[e] = r[e]))
        }
        ))
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0,
            t.SDK = void 0;
        t.SDK = {
            GET_CURRENT_LOGIN_ID: "im.login.GetCurrentLoginID",
            GET_CURRENT_CONVERSATION_ID: "im.uiutil.GetCurrentConversationID",
            GET_SERVER_TIME: "im.bizutil.GetIMSvrTime",
            COPY: "im.bizutil.CopyToClipboard",
            COPY_TEXT: "im.bizutil.CopyText2Clipboard",
            MSG_FORWARD: "im.bizutil.ForwardChatMsg",
            MSGS_FORWARD: "im.bizutil.ForwardChatMsgs",
            ROAM_MSG_RECEIVE_STATE: "im.singlemsg.RoamMsgReceiverState",
            RECALL_MSG_SINGLE: "im.singlemsg.DoChatMsgWithdraw",
            RECALL_MSG_AMP: "im.amptribemsg.DoChatMsgWithdraw",
            GET_NEW_MSG_SINGLE: "im.singlemsg.GetNewMsg",
            GET_NEW_MSG_IMBA: "im.imbamsg.GetNewMsg",
            GET_NEW_MSG_AMP: "im.amptribemsg.GetNewMsg",
            PEEK_NEW_MSG_SINGLE: "im.singlemsg.PeekNewMsg",
            PEEK_NEW_MSG_IMBA: "im.imbamsg.PeekNewMsg",
            PEEK_NEW_MSG_AMP: "im.amptribemsg.PeekNewMsg",
            GET_LOCAL_HISTORY_MSG_SINGLE: "im.singlemsg.GetLocalHisMsg",
            GET_LOCAL_HISTORY_MSG_IMBA: "im.imbamsg.GetLocalHisMsg",
            GET_LOCAL_HISTORY_MSG_AMP: "im.amptribemsg.GetLocalHisMsg",
            GET_REMOTE_HISTORY_MSG_SINGLE: "im.singlemsg.GetRemoteHisMsg",
            GET_REMOTE_HISTORY_MSG_IMBA: "im.imbamsg.GetRemoteHisMsg",
            GET_REMOTE_HISTORY_MSG_AMP: "im.amptribemsg.GetRemoteHisMsg",
            RESEND_MSG_SINGLE: "im.singlemsg.FastReSendChatMsg",
            RESEND_MSG_IMBA: "im.imbamsg.FastReSendChatMsg",
            RESEND_MSG_AMP: "im.amptribemsg.FastReSendChatMsg",
            SINGLE_SDK_PREFIX: "im.singlemsg.",
            TRIBE_SDK_PREFIX: "im.tribemsg.",
            CONVERT_TEXT_TO_EMOTION_SINGLE: "im.singlemsg.ConvertMsgText2Emotion",
            CONVERT_TEXT_TO_ITEMS: "im.singlemsg.ConvertMsgTextItems",
            DOWNLOAD_CLOUD_FILE: "im.filetransfer.DownloadCloudFile",
            PREVIEW_CLOUD_FILE: "im.filetransfer.PreviewCloudFile",
            GET_URL_SNAPSHOT: "im.bizutil.GetUrlSnapshot",
            GET_IMAGE_PATH_SINGLE: "im.bizutil.GetPicturePath",
            GET_IMAGE_PATH_AMP: "im.ampmedia.GetPicture",
            GET_AUDIO_PATH_SINGLE: "im.bizutil.GetAudioPath",
            GET_AUDIO_PATH_AMP: "im.ampmedia.GetAudio",
            GET_DX_CONTENT: "im.bizutil.GetDXContent",
            START_AUDIO_PLAYER: "im.bizutil.PlayAudio",
            STOP_AUDIO_PLAYER: "im.bizutil.StopAudio",
            PREVIEW_IMAGE: "im.uiutil.ViewPicture",
            OPEN_READ_STATE_COUNT_DETAIL: "im.uiutil.ShowTribeAtMsgUnreadUsers",
            OPEN_URL: "im.bizutil.DoUrlAction",
            DO_WX_ACTION: "im.bizutil.DoWangXAction",
            OPEN_FILE_SETTING: "im.uiutil.OpenFileSetting",
            GET_FILE_TRANSFER_INFO: "im.filetransfer.GetFileTransferInfo",
            CANCEL_DOWNLOAD_CLOUD_FILE: "im.filetransfer.CancelDownloadCloudFile",
            CANCEL_UPLOAD_CLOUD_FILE: "im.filetransfer.CancelUploadFile",
            OPEN_FOLDER: "im.filetransfer.OpenFolder",
            DELETE_CLOUD_FILE: "im.filetransfer.DeleteCloudFile",
            SET_SINGLE_MSG_READ_STATUS: "im.singlemsg.SetFlagsPeerMsgReaded",
            GET_SINGLE_MSG_READ_STATUS: "im.singlemsg.GetFlagsMyMsgReaded",
            SET_IMBA_MSG_READ_STATUS: "im.imbamsg.SetFlagsPeerMsgReaded",
            GET_IMBA_MSG_READ_STATUS: "im.imbamsg.GetFlagsMyMsgReaded",
            GET_AUDIO_SHOW_TEXT_SETTING: "im.bizutil.GetShowAudio2textOption",
            ADD_AUDIO_TEXT_SETTING_TIP: "im.singlemsg.AddAudio2textSettingRemind",
            OPEN_SETTING: "im.uiutil.OpenSystemSetting",
            START_FACE_TIME: "im.bizutil.StartVideoChat",
            START_AUDIO_TIME: "im.bizutil.StartAudioChat",
            GET_BOARD: "jdy.api/wwgroup/notice",
            OPEN_TRIBE_BOARD: "im.uiutil.OpenTribeBoard",
            GET_MSG_MERGE_OPTION: "im.bizutil.onChatMsgMergeOptionChange",
            GET_MSG_DISPLAY_MODE: "im.bizutil.GetChatMsgDisplayMode",
            SHOW_CONTEXT_MENU: "im.uiutil.ShowContextMenu",
            GET_IM_CONFIG: "im.bizutil.GetIMCommonConfig",
            AT_TRIBE_MEMBER_AMP: "im.amptribemsg.AtTribeMember",
            GET_FONT_CONFIG: "im.uiutil.ConfigChatMsgDisplay",
            SET_SINGLE_CONVERSATION_READ: "im.singlemsg.SetConversationRead",
            SET_IMBA_CONVERSATION_READ: "im.imbamsg.SetConversationRead",
            SET_TRIBE_CONVERSATION_READ: "im.amptribemsg.SetConversationRead",
            SINGLE_SAFE_REPORT: "im.singlemsg.SafeReport",
            TRIBE_SAFE_REPORT: "im.amptribemsg.SafeReport",
            GET_ORIGIN_SINGLE_MSG_BY_ID: "im.singlemsg.GetOriginalMsgByID",
            GET_ORIGIN_GROUP_MSG_BY_ID: "im.amptribemsg.GetOriginalMsgByID",
            GET_ORIGIN_IMBA_MSG_BY_ID: "im.imbamsg.GetOriginalMsgByID",
            CANCEL_SEND_REMOTE_SINGLE: "im.singlemsg.CancelSendRemote",
            CANCEL_SEND_REMOTE_AMP: "im.amptribemsg.CancelSendRemote",
            GET_SKIN_THEME: "im.uiutil.GetSkinTheme",
            BUBBLE_MENU: "im.bizutil.DoMessageCommand",
            SINGLE_DELETE: "im.singlemsg.DeleteMessages",
            GROUP_DELETE: "im.amptribemsg.DeleteMessages",
            Open_Webview: "im.bizutil.OpenWebView",
            SINGLE_MSG_QUOTE: "im.singlemsg.OpenQuoteReply",
            TRIBE_MSG_QUOTE: "im.amptribemsg.OpenQuoteReply",
            SINGLE_CLOSE_QUOTE: "im.singlemsg.CloseQuoteReply",
            TRIBE_CLOSE_QUOTE: "im.amptribemsg.CloseQuoteReply",
            MSG_SOURCE: "im.uiutil.ShowCardMessageSource",
            MSG_REEDIT: "im.bizutil.ReEdit",
            GET_ARIA_HELP: "im.uiutil.GetEnableAccessibility"
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(80))
            , o = r(n(36))
            , a = function (e, t) {
                if (!t && e && e.__esModule)
                    return e;
                if (null === e || "object" != typeof e && "function" != typeof e)
                    return {
                        default: e
                    };
                var n = s(t);
                if (n && n.has(e))
                    return n.get(e);
                var r = {
                    __proto__: null
                }
                    , i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (var o in e)
                    if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
                        var a = i ? Object.getOwnPropertyDescriptor(e, o) : null;
                        a && (a.get || a.set) ? Object.defineProperty(r, o, a) : r[o] = e[o]
                    }
                return r.default = e,
                    n && n.set(e, r),
                    r
            }(n(56));
        function s(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
                , n = new WeakMap;
            return (s = function (e) {
                return e ? n : t
            }
            )(e)
        }
        var l = new (function () {
            function e() {
                this.logger = a.createLogger("im-client-sdk")("messageChannelService|NO-LIMIT"),
                    this.DB = i.default
            }
            var t = e.prototype;
            return t.isEqualMcode = function (e, t) {
                return e.messageId && t.messageId ? e.messageId === t.messageId : !(!e.clientId || !t.clientId) && e.clientId === t.clientId
            }
                ,
                t.exists = function (e) {
                    if (!e.cid || !e.cid.ccode)
                        return this.logger.log("exists", "没有会话cid，exists fail", e),
                            !0;
                    if (!e.mcode.messageId && !e.mcode.clientId)
                        return this.logger.log("exists", "该消息id为空，此条为废消息", e),
                            !0;
                    var t = i.default.msgIdCache.get(e.cid.ccode);
                    return !!t && !(!t.has(e.mcode.messageId || "") && !t.has(e.mcode.clientId || ""))
                }
                ,
                t.updateMessage = function (e, t, n, r) {
                    var o = this;
                    return e && e.ccode ? t.messageId || t.clientId ? void (i.default.msgDataMap.get(e.ccode) || []).forEach((function (e) {
                        o.isEqualMcode(t, {
                            messageId: e.messageId,
                            clientId: e.clientId
                        }) && r && r(e, n)
                    }
                    )) : (this.logger.log("updateMessage", "该消息id为空，此条为废消息"),
                        !0) : (this.logger.log("updateMessage", "没有会话cid，updateMessage fail"),
                            !0)
                }
                ,
                t.appendMessage = function (e, t) {
                    e && e.ccode ? (i.default.msgDataMap.get(e.ccode) || i.default.msgDataMap.set(e.ccode, []),
                        i.default.msgDataMap.get(e.ccode).push(t)) : this.logger.log("appendMessage", "没有会话cid, appendMessage fail", e)
                }
                ,
                t.insertBeforeMessage = function (e, t) {
                    e && e.ccode ? (i.default.msgDataMap.get(e.ccode) || i.default.msgDataMap.set(e.ccode, []),
                        i.default.msgDataMap.get(e.ccode).unshift(t)) : this.logger.log("insertBeforeMessage", "没有会话cid, insertBeforeMessage fail", e)
                }
                ,
                t.combineMessage = function (e, t) {
                    if (e && e.ccode) {
                        for (var n = i.default.msgDataMap.get(e.ccode), r = 0; r < n.length; r++)
                            if (Number(n[r].sendTime) > Number(t.sendTime)) {
                                n.splice(r, 0, t);
                                break
                            }
                    } else
                        this.logger.log("combineMessage", "没有会话cid，combineMessage fail", e)
                }
                ,
                t.findMessageBeforeTime = function (e, t, n, r) {
                    var i = this.DB.msgDataMap.get(e);
                    return i ? [].concat(i).reverse().filter((function (e) {
                        return e.isside === r && Number(e.sendTime) < Number(t)
                    }
                    )).slice(0, n) : []
                }
                ,
                t.replaceMessage = function (e, t, n) {
                    var r = t.messageId
                        , o = t.clientId;
                    if (!e || !e.ccode)
                        return this.logger.log("replaceMessage", "没有传会话cid，无法替换", e, t),
                            !1;
                    var a = i.default.msgDataMap.get(e.ccode);
                    if (!a)
                        return this.logger.log("replaceMessage", "没有找到" + e.ccode + "对应的消息列表"),
                            !1;
                    for (var s = 0; s < a.length; s++) {
                        if (r && a[s].messageId && r === a[s].messageId) {
                            a.splice(s, 1, n);
                            break
                        }
                        if (o && a[s].clientId && o === a[s].clientId) {
                            a.splice(s, 1, n);
                            break
                        }
                    }
                    return !0
                }
                ,
                t.replaceCacheQueue = function (e, t) {
                    var n = this;
                    if (this.logger.log("replaceCacheQueue", "ccode:", e),
                        e) {
                        this.logger.log("replaceCacheQueue", "prev queue", t.map((function (e) {
                            return {
                                timestamp: e.sendTime,
                                messageId: e.messageId,
                                clientId: e.clientId
                            }
                        }
                        )));
                        var r = new Set;
                        this.DB.msgIdCache.set(e, r),
                            this.DB.msgDataMap.delete(e),
                            t.forEach((function (t) {
                                t && (t.messageId || t.clientId) && !r.has(t.messageId || t.clientId || "") && (t.messageId && r.add(t.messageId),
                                    t.clientId && r.add(t.clientId),
                                    n.mergeToMessageList({
                                        ccode: e
                                    }, t))
                            }
                            ));
                        var i = this.DB.msgDataMap.get(e) || [];
                        this.logger.log("replaceCacheQueue", "updatedMsgList", i.map((function (e) {
                            return {
                                timestamp: e.sendTime,
                                messageId: e.messageId,
                                clientId: e.clientId
                            }
                        }
                        )))
                    }
                }
                ,
                t.removeMessage = function (e, t) {
                    var n = t.messageId
                        , r = t.clientId;
                    if (e && e.ccode) {
                        var o = i.default.msgDataMap.get(e.ccode)
                            , a = i.default.msgIdCache.get(e.ccode);
                        if (o) {
                            n && a && a.has(n) && a.delete(n),
                                r && a && a.has(r) && a.delete(r);
                            for (var s = 0; s < o.length; s++) {
                                if (n && o[s].messageId && n === o[s].messageId) {
                                    o.splice(s, 1);
                                    break
                                }
                                if (r && o[s].clientId && r === o[s].clientId) {
                                    o.splice(s, 1);
                                    break
                                }
                            }
                        } else
                            this.logger.log("removeMessage", "没有找到" + e.ccode + "对应的消息列表")
                    } else
                        this.logger.log("removeMessage", "没有传会话cid, 无法移除", e, t)
                }
                ,
                t.clearMessage = function (e) {
                    e && (i.default.msgDataMap.delete(e),
                        i.default.msgIdCache.delete(e),
                        this.logger.log("clearMessage", "删除 ccode: " + e + " 消息缓存成功"))
                }
                ,
                t.cacheMsgId = function (e) {
                    var t = i.default.msgIdCache.get(e.cid.ccode);
                    t || (t = new Set,
                        i.default.msgIdCache.set(e.cid.ccode, t)),
                        e.mcode.messageId && t.add(e.mcode.messageId),
                        e.mcode.clientId && t.add(e.mcode.clientId)
                }
                ,
                t.mergeToMessageList = function (e, t) {
                    if (e && e.ccode) {
                        i.default.msgDataMap.get(e.ccode) || i.default.msgDataMap.set(e.ccode, []);
                        var n = i.default.msgDataMap.get(e.ccode)
                            , r = n.length;
                        if (0 !== r) {
                            if (Number(n[r - 1].sendTime) <= Number(t.sendTime) ? this.appendMessage(e, t) : Number(n[0].sendTime) >= Number(t.sendTime) ? this.insertBeforeMessage(e, t) : this.combineMessage(e, t),
                                t.ext && t.ext.bizDataExt && "0" === t.ext.bizDataExt.unfix_readflag) {
                                var o = this.findMessageBeforeTime(e.ccode, t.sendTime, 11, !0);
                                this.logger.log("收到店小蜜的自动回复, 修正已读数据, 一共修正 " + o.length + " 条"),
                                    o.forEach((function (e) {
                                        return e.readflag = !0
                                    }
                                    ))
                            }
                        } else
                            this.appendMessage(e, t)
                    } else
                        this.logger.log("mergeToMessageList", "该消息没有会话cid, 无法缓存", t)
                }
                ,
                t.fixMsgReadState = function (e) {
                    try {
                        Object.keys(e).forEach((function (t) {
                            var n = {
                                cid: {
                                    ccode: t
                                },
                                mcodes: e[t]
                            };
                            o.default.getInst().getSingleMsgReadState(n)
                        }
                        ))
                    } catch (e) { }
                }
                ,
                e
        }());
        window._msgChannelService = l;
        t.default = l
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(37))
            , o = new (function () {
                function e() {
                    this._currentConversionId = "",
                        this._messageIdCache = new Map,
                        this._messageQueueCache = new Map,
                        this._selfSentMsgReaded = new Map,
                        this._opposingSentMsgUnreaded = new Map
                }
                return e.prototype.printIdCache = function (e) {
                    var t = this.msgIdCache.get(e) || new Set;
                    return Array.from(t.values())
                }
                    ,
                    (0,
                        i.default)(e, [{
                            key: "msgDataMap",
                            get: function () {
                                return this._messageQueueCache
                            }
                        }, {
                            key: "msgIdCache",
                            get: function () {
                                return this._messageIdCache
                            }
                        }, {
                            key: "selfSentMsgReaded",
                            get: function () {
                                return this._selfSentMsgReaded
                            }
                        }, {
                            key: "opposingSentMsgUnreaded",
                            get: function () {
                                return this._opposingSentMsgUnreaded
                            }
                        }]),
                    e
            }());
        window._db = o;
        t.default = o
    }
    , function (e, t, n) {
        e.exports = function (e) {
            function t(e) {
                let n, i, o, a = null;
                function s(...e) {
                    if (!s.enabled)
                        return;
                    const r = s
                        , i = Number(new Date)
                        , o = i - (n || i);
                    r.diff = o,
                        r.prev = n,
                        r.curr = i,
                        n = i,
                        e[0] = t.coerce(e[0]),
                        "string" != typeof e[0] && e.unshift("%O");
                    let a = 0;
                    e[0] = e[0].replace(/%([a-zA-Z%])/g, (n, i) => {
                        if ("%%" === n)
                            return "%";
                        a++;
                        const o = t.formatters[i];
                        if ("function" == typeof o) {
                            const t = e[a];
                            n = o.call(r, t),
                                e.splice(a, 1),
                                a--
                        }
                        return n
                    }
                    ),
                        t.formatArgs.call(r, e);
                    (r.log || t.log).apply(r, e)
                }
                return s.namespace = e,
                    s.useColors = t.useColors(),
                    s.color = t.selectColor(e),
                    s.extend = r,
                    s.destroy = t.destroy,
                    Object.defineProperty(s, "enabled", {
                        enumerable: !0,
                        configurable: !1,
                        get: () => null !== a ? a : (i !== t.namespaces && (i = t.namespaces,
                            o = t.enabled(e)),
                            o),
                        set: e => {
                            a = e
                        }
                    }),
                    "function" == typeof t.init && t.init(s),
                    s
            }
            function r(e, n) {
                const r = t(this.namespace + (void 0 === n ? ":" : n) + e);
                return r.log = this.log,
                    r
            }
            function i(e) {
                return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, "*")
            }
            return t.debug = t,
                t.default = t,
                t.coerce = function (e) {
                    if (e instanceof Error)
                        return e.stack || e.message;
                    return e
                }
                ,
                t.disable = function () {
                    const e = [...t.names.map(i), ...t.skips.map(i).map(e => "-" + e)].join(",");
                    return t.enable(""),
                        e
                }
                ,
                t.enable = function (e) {
                    let n;
                    t.save(e),
                        t.namespaces = e,
                        t.names = [],
                        t.skips = [];
                    const r = ("string" == typeof e ? e : "").split(/[\s,]+/)
                        , i = r.length;
                    for (n = 0; n < i; n++)
                        r[n] && ("-" === (e = r[n].replace(/\*/g, ".*?"))[0] ? t.skips.push(new RegExp("^" + e.slice(1) + "$")) : t.names.push(new RegExp("^" + e + "$")))
                }
                ,
                t.enabled = function (e) {
                    if ("*" === e[e.length - 1])
                        return !0;
                    let n, r;
                    for (n = 0,
                        r = t.skips.length; n < r; n++)
                        if (t.skips[n].test(e))
                            return !1;
                    for (n = 0,
                        r = t.names.length; n < r; n++)
                        if (t.names[n].test(e))
                            return !0;
                    return !1
                }
                ,
                t.humanize = n(82),
                t.destroy = function () {
                    console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")
                }
                ,
                Object.keys(e).forEach(n => {
                    t[n] = e[n]
                }
                ),
                t.names = [],
                t.skips = [],
                t.formatters = {},
                t.selectColor = function (e) {
                    let n = 0;
                    for (let t = 0; t < e.length; t++)
                        n = (n << 5) - n + e.charCodeAt(t),
                            n |= 0;
                    return t.colors[Math.abs(n) % t.colors.length]
                }
                ,
                t.enable(t.load()),
                t
        }
    }
    , function (e, t) {
        var n = 1e3
            , r = 6e4
            , i = 60 * r
            , o = 24 * i;
        function a(e, t, n, r) {
            var i = t >= 1.5 * n;
            return Math.round(e / n) + " " + r + (i ? "s" : "")
        }
        e.exports = function (e, t) {
            t = t || {};
            var s = typeof e;
            if ("string" === s && e.length > 0)
                return function (e) {
                    if ((e = String(e)).length > 100)
                        return;
                    var t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);
                    if (!t)
                        return;
                    var a = parseFloat(t[1]);
                    switch ((t[2] || "ms").toLowerCase()) {
                        case "years":
                        case "year":
                        case "yrs":
                        case "yr":
                        case "y":
                            return 315576e5 * a;
                        case "weeks":
                        case "week":
                        case "w":
                            return 6048e5 * a;
                        case "days":
                        case "day":
                        case "d":
                            return a * o;
                        case "hours":
                        case "hour":
                        case "hrs":
                        case "hr":
                        case "h":
                            return a * i;
                        case "minutes":
                        case "minute":
                        case "mins":
                        case "min":
                        case "m":
                            return a * r;
                        case "seconds":
                        case "second":
                        case "secs":
                        case "sec":
                        case "s":
                            return a * n;
                        case "milliseconds":
                        case "millisecond":
                        case "msecs":
                        case "msec":
                        case "ms":
                            return a;
                        default:
                            return
                    }
                }(e);
            if ("number" === s && isFinite(e))
                return t.long ? function (e) {
                    var t = Math.abs(e);
                    if (t >= o)
                        return a(e, t, o, "day");
                    if (t >= i)
                        return a(e, t, i, "hour");
                    if (t >= r)
                        return a(e, t, r, "minute");
                    if (t >= n)
                        return a(e, t, n, "second");
                    return e + " ms"
                }(e) : function (e) {
                    var t = Math.abs(e);
                    if (t >= o)
                        return Math.round(e / o) + "d";
                    if (t >= i)
                        return Math.round(e / i) + "h";
                    if (t >= r)
                        return Math.round(e / r) + "m";
                    if (t >= n)
                        return Math.round(e / n) + "s";
                    return e + "ms"
                }(e);
            throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(84))
            , o = n(39)
            , a = r(n(86))
            , s = r(n(89))
            , l = n(16);
        t.default = function (e) {
            function t(t) {
                var n;
                return (n = e.call(this) || this).proxy = !1,
                    n.middleware = [],
                    n.context = {},
                    n.options = {},
                    n.options = Object.assign(n.options, t),
                    n.context = Object.create(Object.assign(a.default, n.options)),
                    n
            }
            (0,
                i.default)(t, e);
            var n = t.prototype;
            return n.dispatch = function (e) {
                var t = this.createContext(e);
                this.handleContextExternal(t, e);
                var n = (0,
                    s.default)(this.middleware);
                return this.handleResult(t, n)
            }
                ,
                n.updateContext = function (e) {
                    var t = Object.create(this.context);
                    for (var n in t.app = this,
                        e)
                        this.context[n] = e[n];
                    return this.context
                }
                ,
                n.handleResult = function (e, t) {
                    return this.on("error", this.onerror),
                        t(e).then((function () {
                            return e
                        }
                        )).catch((function (t) {
                            e.onerror(t)
                        }
                        ))
                }
                ,
                n.createContext = function (e) {
                    var t = Object.create(this.context);
                    return t.app = this,
                        Object.assign(t, e)
                }
                ,
                n.handleContextExternal = function (e, t) {
                    return e
                }
                ,
                n.use = function (e) {
                    if ("function" != typeof e)
                        throw new TypeError("middleware must be a function!");
                    this.middleware.push(e)
                }
                ,
                n.useBatch = function (e) {
                    var t = this;
                    void 0 === e && (e = []),
                        e.forEach((function (e) {
                            t.use(e)
                        }
                        ))
                }
                ,
                n.onerror = function (e) {
                    var t = e.stack || e.toString();
                    console.error(e);
                    try {
                        try {
                            window && window.tracker && window.tracker.log({
                                code: 20,
                                msg: "中间件执行失败",
                                sampleRate: 1,
                                c1: window && window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                c2: (0,
                                    l.getAppVersion)(),
                                c3: JSON.stringify(t)
                            })
                        } catch (e) { }
                        (0,
                            l.tracker)({
                                nick: window._vs && window._vs.loginID ? window._vs.loginID.nick : "",
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                sampling: 1,
                                url: "PCIMSDK.middleware.error"
                            })
                    } catch (e) { }
                }
                ,
                t
        }(o.EventEmitter)
    }
    , function (e, t, n) {
        var r = n(85);
        e.exports = function (e, t) {
            e.prototype = Object.create(t.prototype),
                e.prototype.constructor = e,
                r(e, t)
        }
            ,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t) {
        function n(t, r) {
            return e.exports = n = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) {
                return e.__proto__ = t,
                    e
            }
                ,
                e.exports.__esModule = !0,
                e.exports.default = e.exports,
                n(t, r)
        }
        e.exports = n,
            e.exports.__esModule = !0,
            e.exports.default = e.exports
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.default = void 0;
        var i = r(n(26))
            , o = {
                ccode: "",
                _conversationId: {},
                _message: {},
                _messageQueue: [],
                _updateMsgQueue: [],
                _log: null,
                handleType: "add",
                messageChannel: {},
                newConversationId: null,
                get conversationId() {
                    return this._conversationId
                },
                set conversationId(e) {
                    if (!e)
                        throw "context conversationId must is object";
                    this._conversationId = e
                },
                get message() {
                    return this._message
                },
                set message(e) {
                    if (!e)
                        throw "context message must is object";
                    this._message = e
                },
                get messageQueue() {
                    return this._messageQueue
                },
                set messageQueue(e) {
                    if (!e)
                        throw "context messageQueue must is array";
                    this._messageQueue = e
                },
                get updateMsgQueue() {
                    return this._updateMsgQueue
                },
                set updateMsgQueue(e) {
                    if (!e)
                        throw "context updateMessageQueue must is array";
                    this._updateMsgQueue = e
                },
                get log() {
                    return this._log
                },
                set log(e) {
                    if (!e)
                        throw "context loggerInstance must is object";
                    this._log = e
                },
                onerror: function (e) {
                    null != e && (e instanceof Error || (e = new Error(i.default.format("non-error thrown: %j", e))),
                        this.app.emit("error", e, this))
                }
            };
        t.default = o
    }
    , function (e, t) {
        e.exports = function (e) {
            return e && "object" == typeof e && "function" == typeof e.copy && "function" == typeof e.fill && "function" == typeof e.readUInt8
        }
    }
    , function (e, t) {
        "function" == typeof Object.create ? e.exports = function (e, t) {
            e.super_ = t,
                e.prototype = Object.create(t.prototype, {
                    constructor: {
                        value: e,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                })
        }
            : e.exports = function (e, t) {
                e.super_ = t;
                var n = function () { };
                n.prototype = t.prototype,
                    e.prototype = new n,
                    e.prototype.constructor = e
            }
    }
    , function (e, t, n) {
        "use strict";
        function r(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++)
                r[n] = e[n];
            return r
        }
        t.__esModule = !0,
            t.default = function (e) {
                if (!Array.isArray(e))
                    throw new TypeError("Middleware stack must be an array!");
                for (var t, n = function (e, t) {
                    var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                    if (n)
                        return (n = n.call(e)).next.bind(n);
                    if (Array.isArray(e) || (n = function (e, t) {
                        if (!e)
                            return;
                        if ("string" == typeof e)
                            return r(e, t);
                        var n = Object.prototype.toString.call(e).slice(8, -1);
                        "Object" === n && e.constructor && (n = e.constructor.name);
                        if ("Map" === n || "Set" === n)
                            return Array.from(e);
                        if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
                            return r(e, t)
                    }(e)) || t && e && "number" == typeof e.length) {
                        n && (e = n);
                        var i = 0;
                        return function () {
                            return i >= e.length ? {
                                done: !0
                            } : {
                                done: !1,
                                value: e[i++]
                            }
                        }
                    }
                    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }(e); !(t = n()).done;) {
                    if ("function" != typeof t.value)
                        throw new TypeError("Middleware must be composed of functions!")
                }
                return function (t, n) {
                    var r = -1;
                    return function i(o) {
                        if (o <= r)
                            return Promise.reject(new Error("next() called multiple times"));
                        r = o;
                        var a = e[o];
                        o === e.length && (a = n);
                        if (!a)
                            return Promise.resolve(t);
                        try {
                            return Promise.resolve(a(t, (function () {
                                i.bind(null, o + 1)
                            }
                            )))
                        } catch (e) {
                            return Promise.reject(e)
                        }
                    }(0)
                }
            }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.MessageQueueHandler = void 0;
        var i = r(n(26))
            , o = n(91);
        function a(e) {
            if ("function" != typeof WeakMap)
                return null;
            var t = new WeakMap
                , n = new WeakMap;
            return (a = function (e) {
                return e ? n : t
            }
            )(e)
        }
        var s = function (e, t) {
            if (!t && e && e.__esModule)
                return e;
            if (null === e || "object" != typeof e && "function" != typeof e)
                return {
                    default: e
                };
            var n = a(t);
            if (n && n.has(e))
                return n.get(e);
            var r = {
                __proto__: null
            }
                , i = Object.defineProperty && Object.getOwnPropertyDescriptor;
            for (var o in e)
                if ("default" !== o && Object.prototype.hasOwnProperty.call(e, o)) {
                    var s = i ? Object.getOwnPropertyDescriptor(e, o) : null;
                    s && (s.get || s.set) ? Object.defineProperty(r, o, s) : r[o] = e[o]
                }
            return r.default = e,
                n && n.set(e, r),
                r
        }(n(56)).createLogger("tb-im-sdk")("middleware");
        t.MessageQueueHandler = function (e, t) {
            if (!e.messageQueue || !i.default.isArray(e.messageQueue))
                throw new Error("消息队列不存在!");
            if ("add" === e.handleType) {
                var n = {};
                s.log(e.conversationId.ccode, "add operation", "messageQueue --\x3e", e.messageQueue.map((function (e) {
                    return e.mcode
                }
                ))),
                    s.log(e.conversationId.ccode, "add operation", "msgIdCache --\x3e", e.messageChannel.DB.printIdCache(e.conversationId.ccode)),
                    e.messageQueue.forEach((function (t) {
                        if (e.messageChannel.exists(t))
                            "remote" === t.source && e.messageChannel.updateMessage(t.cid, t.mcode, t, e.handleCallback);
                        else {
                            e.messageChannel.cacheMsgId(t);
                            var r = (0,
                                o.transformMessage)(t, e.conversationId);
                            e.messageChannel.mergeToMessageList(t.cid, r);
                            var i = (new Date).getTime() - parseInt(r.sendTime) > 3e4;
                            "single" === e.chatType && r.isself && !r.readflag && r.isshowReadflag && i && (n[r.conversationId] = n[r.conversationId] || [],
                                n[r.conversationId].push({
                                    messageId: r.messageId,
                                    clientId: r.clientId
                                }))
                        }
                    }
                    )),
                    e.messageChannel.fixMsgReadState(n)
            } else if ("update" === e.handleType)
                console.log("CHAT_SEND_MSG_STATUS_CHANGE", e),
                    e.updateMsgQueue && e.updateMsgQueue.forEach((function (t) {
                        t.cid && t.cid.ccode && t.mcode ? e.messageChannel.updateMessage(t.cid, t.mcode, t, e.handleCallback) : console.log("更新消息队列 updateMsgQueue没有消息cid或mcode", t)
                    }
                    ));
            else if ("delete" === e.handleType)
                e.updateMsgQueue && e.updateMsgQueue.forEach((function (t) {
                    t.cid && t.cid.ccode && t.mcode ? e.messageChannel.removeMessage(t.cid, t.mcode) : console.log("删除消息队列 updateMsgQueue没有消息cid或mcode", t)
                }
                ));
            else if ("replace" === e.handleType) {
                var r = (e.messageQueue || []).map((function (t) {
                    return (0,
                        o.transformMessage)(t, e.conversationId)
                }
                ));
                e.messageChannel.replaceCacheQueue(e.ccode, r)
            }
            t()
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.transformMessage = void 0;
        var i = r(n(26))
            , o = r(n(40));
        t.transformMessage = function (e, t) {
            if (!e || !i.default.isObject(e))
                throw new Error("消息数据对象不存在!");
            var n = o.default.parse(e, t);
            return o.default.transform(e, n)
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(14);
        t.__esModule = !0,
            t.LruCache = void 0;
        var i = r(n(93));
        t.LruCache = function () {
            function e(e) {
                this.store = void 0,
                    this.store = new i.default(e)
            }
            var t = e.prototype;
            return t.clear = function () {
                this.store.reset()
            }
                ,
                t.delete = function (e) {
                    return this.store.del(e),
                        !0
                }
                ,
                t.forEach = function (e, t) {
                    this.store.forEach(e, t)
                }
                ,
                t.get = function (e) {
                    return this.store.get(e)
                }
                ,
                t.has = function (e) {
                    return this.store.has(e)
                }
                ,
                t.set = function (e, t) {
                    return this.store.set(e, t),
                        this
                }
                ,
                e
        }()
    }
    , function (e, t, n) {
        "use strict";
        const r = n(94)
            , i = Symbol("max")
            , o = Symbol("length")
            , a = Symbol("lengthCalculator")
            , s = Symbol("allowStale")
            , l = Symbol("maxAge")
            , u = Symbol("dispose")
            , c = Symbol("noDisposeOnSet")
            , d = Symbol("lruList")
            , f = Symbol("cache")
            , p = Symbol("updateAgeOnGet")
            , g = () => 1;
        const m = (e, t, n) => {
            const r = e[f].get(t);
            if (r) {
                const t = r.value;
                if (h(e, t)) {
                    if (y(e, r),
                        !e[s])
                        return
                } else
                    n && (e[p] && (r.value.now = Date.now()),
                        e[d].unshiftNode(r));
                return t.value
            }
        }
            , h = (e, t) => {
                if (!t || !t.maxAge && !e[l])
                    return !1;
                const n = Date.now() - t.now;
                return t.maxAge ? n > t.maxAge : e[l] && n > e[l]
            }
            , v = e => {
                if (e[o] > e[i])
                    for (let t = e[d].tail; e[o] > e[i] && null !== t;) {
                        const n = t.prev;
                        y(e, t),
                            t = n
                    }
            }
            , y = (e, t) => {
                if (t) {
                    const n = t.value;
                    e[u] && e[u](n.key, n.value),
                        e[o] -= n.length,
                        e[f].delete(n.key),
                        e[d].removeNode(t)
                }
            }
            ;
        class b {
            constructor(e, t, n, r, i) {
                this.key = e,
                    this.value = t,
                    this.length = n,
                    this.now = r,
                    this.maxAge = i || 0
            }
        }
        const _ = (e, t, n, r) => {
            let i = n.value;
            h(e, i) && (y(e, n),
                e[s] || (i = void 0)),
                i && t.call(r, i.value, i.key, e)
        }
            ;
        e.exports = class {
            constructor(e) {
                if ("number" == typeof e && (e = {
                    max: e
                }),
                    e || (e = {}),
                    e.max && ("number" != typeof e.max || e.max < 0))
                    throw new TypeError("max must be a non-negative number");
                this[i] = e.max || 1 / 0;
                const t = e.length || g;
                if (this[a] = "function" != typeof t ? g : t,
                    this[s] = e.stale || !1,
                    e.maxAge && "number" != typeof e.maxAge)
                    throw new TypeError("maxAge must be a number");
                this[l] = e.maxAge || 0,
                    this[u] = e.dispose,
                    this[c] = e.noDisposeOnSet || !1,
                    this[p] = e.updateAgeOnGet || !1,
                    this.reset()
            }
            set max(e) {
                if ("number" != typeof e || e < 0)
                    throw new TypeError("max must be a non-negative number");
                this[i] = e || 1 / 0,
                    v(this)
            }
            get max() {
                return this[i]
            }
            set allowStale(e) {
                this[s] = !!e
            }
            get allowStale() {
                return this[s]
            }
            set maxAge(e) {
                if ("number" != typeof e)
                    throw new TypeError("maxAge must be a non-negative number");
                this[l] = e,
                    v(this)
            }
            get maxAge() {
                return this[l]
            }
            set lengthCalculator(e) {
                "function" != typeof e && (e = g),
                    e !== this[a] && (this[a] = e,
                        this[o] = 0,
                        this[d].forEach(e => {
                            e.length = this[a](e.value, e.key),
                                this[o] += e.length
                        }
                        )),
                    v(this)
            }
            get lengthCalculator() {
                return this[a]
            }
            get length() {
                return this[o]
            }
            get itemCount() {
                return this[d].length
            }
            rforEach(e, t) {
                t = t || this;
                for (let n = this[d].tail; null !== n;) {
                    const r = n.prev;
                    _(this, e, n, t),
                        n = r
                }
            }
            forEach(e, t) {
                t = t || this;
                for (let n = this[d].head; null !== n;) {
                    const r = n.next;
                    _(this, e, n, t),
                        n = r
                }
            }
            keys() {
                return this[d].toArray().map(e => e.key)
            }
            values() {
                return this[d].toArray().map(e => e.value)
            }
            reset() {
                this[u] && this[d] && this[d].length && this[d].forEach(e => this[u](e.key, e.value)),
                    this[f] = new Map,
                    this[d] = new r,
                    this[o] = 0
            }
            dump() {
                return this[d].map(e => !h(this, e) && {
                    k: e.key,
                    v: e.value,
                    e: e.now + (e.maxAge || 0)
                }).toArray().filter(e => e)
            }
            dumpLru() {
                return this[d]
            }
            set(e, t, n) {
                if ((n = n || this[l]) && "number" != typeof n)
                    throw new TypeError("maxAge must be a number");
                const r = n ? Date.now() : 0
                    , s = this[a](t, e);
                if (this[f].has(e)) {
                    if (s > this[i])
                        return y(this, this[f].get(e)),
                            !1;
                    const a = this[f].get(e).value;
                    return this[u] && (this[c] || this[u](e, a.value)),
                        a.now = r,
                        a.maxAge = n,
                        a.value = t,
                        this[o] += s - a.length,
                        a.length = s,
                        this.get(e),
                        v(this),
                        !0
                }
                const p = new b(e, t, s, r, n);
                return p.length > this[i] ? (this[u] && this[u](e, t),
                    !1) : (this[o] += p.length,
                        this[d].unshift(p),
                        this[f].set(e, this[d].head),
                        v(this),
                        !0)
            }
            has(e) {
                if (!this[f].has(e))
                    return !1;
                const t = this[f].get(e).value;
                return !h(this, t)
            }
            get(e) {
                return m(this, e, !0)
            }
            peek(e) {
                return m(this, e, !1)
            }
            pop() {
                const e = this[d].tail;
                return e ? (y(this, e),
                    e.value) : null
            }
            del(e) {
                y(this, this[f].get(e))
            }
            load(e) {
                this.reset();
                const t = Date.now();
                for (let n = e.length - 1; n >= 0; n--) {
                    const r = e[n]
                        , i = r.e || 0;
                    if (0 === i)
                        this.set(r.k, r.v);
                    else {
                        const e = i - t;
                        e > 0 && this.set(r.k, r.v, e)
                    }
                }
            }
            prune() {
                this[f].forEach((e, t) => m(this, t, !1))
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        function r(e) {
            var t = this;
            if (t instanceof r || (t = new r),
                t.tail = null,
                t.head = null,
                t.length = 0,
                e && "function" == typeof e.forEach)
                e.forEach((function (e) {
                    t.push(e)
                }
                ));
            else if (arguments.length > 0)
                for (var n = 0, i = arguments.length; n < i; n++)
                    t.push(arguments[n]);
            return t
        }
        function i(e, t, n) {
            var r = t === e.head ? new s(n, null, t, e) : new s(n, t, t.next, e);
            return null === r.next && (e.tail = r),
                null === r.prev && (e.head = r),
                e.length++,
                r
        }
        function o(e, t) {
            e.tail = new s(t, e.tail, null, e),
                e.head || (e.head = e.tail),
                e.length++
        }
        function a(e, t) {
            e.head = new s(t, null, e.head, e),
                e.tail || (e.tail = e.head),
                e.length++
        }
        function s(e, t, n, r) {
            if (!(this instanceof s))
                return new s(e, t, n, r);
            this.list = r,
                this.value = e,
                t ? (t.next = this,
                    this.prev = t) : this.prev = null,
                n ? (n.prev = this,
                    this.next = n) : this.next = null
        }
        e.exports = r,
            r.Node = s,
            r.create = r,
            r.prototype.removeNode = function (e) {
                if (e.list !== this)
                    throw new Error("removing node which does not belong to this list");
                var t = e.next
                    , n = e.prev;
                return t && (t.prev = n),
                    n && (n.next = t),
                    e === this.head && (this.head = t),
                    e === this.tail && (this.tail = n),
                    e.list.length--,
                    e.next = null,
                    e.prev = null,
                    e.list = null,
                    t
            }
            ,
            r.prototype.unshiftNode = function (e) {
                if (e !== this.head) {
                    e.list && e.list.removeNode(e);
                    var t = this.head;
                    e.list = this,
                        e.next = t,
                        t && (t.prev = e),
                        this.head = e,
                        this.tail || (this.tail = e),
                        this.length++
                }
            }
            ,
            r.prototype.pushNode = function (e) {
                if (e !== this.tail) {
                    e.list && e.list.removeNode(e);
                    var t = this.tail;
                    e.list = this,
                        e.prev = t,
                        t && (t.next = e),
                        this.tail = e,
                        this.head || (this.head = e),
                        this.length++
                }
            }
            ,
            r.prototype.push = function () {
                for (var e = 0, t = arguments.length; e < t; e++)
                    o(this, arguments[e]);
                return this.length
            }
            ,
            r.prototype.unshift = function () {
                for (var e = 0, t = arguments.length; e < t; e++)
                    a(this, arguments[e]);
                return this.length
            }
            ,
            r.prototype.pop = function () {
                if (this.tail) {
                    var e = this.tail.value;
                    return this.tail = this.tail.prev,
                        this.tail ? this.tail.next = null : this.head = null,
                        this.length--,
                        e
                }
            }
            ,
            r.prototype.shift = function () {
                if (this.head) {
                    var e = this.head.value;
                    return this.head = this.head.next,
                        this.head ? this.head.prev = null : this.tail = null,
                        this.length--,
                        e
                }
            }
            ,
            r.prototype.forEach = function (e, t) {
                t = t || this;
                for (var n = this.head, r = 0; null !== n; r++)
                    e.call(t, n.value, r, this),
                        n = n.next
            }
            ,
            r.prototype.forEachReverse = function (e, t) {
                t = t || this;
                for (var n = this.tail, r = this.length - 1; null !== n; r--)
                    e.call(t, n.value, r, this),
                        n = n.prev
            }
            ,
            r.prototype.get = function (e) {
                for (var t = 0, n = this.head; null !== n && t < e; t++)
                    n = n.next;
                if (t === e && null !== n)
                    return n.value
            }
            ,
            r.prototype.getReverse = function (e) {
                for (var t = 0, n = this.tail; null !== n && t < e; t++)
                    n = n.prev;
                if (t === e && null !== n)
                    return n.value
            }
            ,
            r.prototype.map = function (e, t) {
                t = t || this;
                for (var n = new r, i = this.head; null !== i;)
                    n.push(e.call(t, i.value, this)),
                        i = i.next;
                return n
            }
            ,
            r.prototype.mapReverse = function (e, t) {
                t = t || this;
                for (var n = new r, i = this.tail; null !== i;)
                    n.push(e.call(t, i.value, this)),
                        i = i.prev;
                return n
            }
            ,
            r.prototype.reduce = function (e, t) {
                var n, r = this.head;
                if (arguments.length > 1)
                    n = t;
                else {
                    if (!this.head)
                        throw new TypeError("Reduce of empty list with no initial value");
                    r = this.head.next,
                        n = this.head.value
                }
                for (var i = 0; null !== r; i++)
                    n = e(n, r.value, i),
                        r = r.next;
                return n
            }
            ,
            r.prototype.reduceReverse = function (e, t) {
                var n, r = this.tail;
                if (arguments.length > 1)
                    n = t;
                else {
                    if (!this.tail)
                        throw new TypeError("Reduce of empty list with no initial value");
                    r = this.tail.prev,
                        n = this.tail.value
                }
                for (var i = this.length - 1; null !== r; i--)
                    n = e(n, r.value, i),
                        r = r.prev;
                return n
            }
            ,
            r.prototype.toArray = function () {
                for (var e = new Array(this.length), t = 0, n = this.head; null !== n; t++)
                    e[t] = n.value,
                        n = n.next;
                return e
            }
            ,
            r.prototype.toArrayReverse = function () {
                for (var e = new Array(this.length), t = 0, n = this.tail; null !== n; t++)
                    e[t] = n.value,
                        n = n.prev;
                return e
            }
            ,
            r.prototype.slice = function (e, t) {
                (t = t || this.length) < 0 && (t += this.length),
                    (e = e || 0) < 0 && (e += this.length);
                var n = new r;
                if (t < e || t < 0)
                    return n;
                e < 0 && (e = 0),
                    t > this.length && (t = this.length);
                for (var i = 0, o = this.head; null !== o && i < e; i++)
                    o = o.next;
                for (; null !== o && i < t; i++,
                    o = o.next)
                    n.push(o.value);
                return n
            }
            ,
            r.prototype.sliceReverse = function (e, t) {
                (t = t || this.length) < 0 && (t += this.length),
                    (e = e || 0) < 0 && (e += this.length);
                var n = new r;
                if (t < e || t < 0)
                    return n;
                e < 0 && (e = 0),
                    t > this.length && (t = this.length);
                for (var i = this.length, o = this.tail; null !== o && i > t; i--)
                    o = o.prev;
                for (; null !== o && i > e; i--,
                    o = o.prev)
                    n.push(o.value);
                return n
            }
            ,
            r.prototype.splice = function (e, t, ...n) {
                e > this.length && (e = this.length - 1),
                    e < 0 && (e = this.length + e);
                for (var r = 0, o = this.head; null !== o && r < e; r++)
                    o = o.next;
                var a = [];
                for (r = 0; o && r < t; r++)
                    a.push(o.value),
                        o = this.removeNode(o);
                null === o && (o = this.tail),
                    o !== this.head && o !== this.tail && (o = o.prev);
                for (r = 0; r < n.length; r++)
                    o = i(this, o, n[r]);
                return a
            }
            ,
            r.prototype.reverse = function () {
                for (var e = this.head, t = this.tail, n = e; null !== n; n = n.prev) {
                    var r = n.prev;
                    n.prev = n.next,
                        n.next = r
                }
                return this.head = t,
                    this.tail = e,
                    this
            }
            ;
        try {
            n(95)(r)
        } catch (e) { }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            e.prototype[Symbol.iterator] = function* () {
                for (let e = this.head; e; e = e.next)
                    yield e.value
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
            
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.registerListener = void 0;
        var s = a(n(6))
            , l = a(n(1))
            , u = o(n(12))
            , c = a(n(2))
            , d = a(n(18))
            , f = o(n(7))
            , p = n(27)
            , g = a(n(5))
            , m = a(n(6))
            , h = f.createLogger("tb-im-h5")("registerListener");
        t.registerListener = function () {
            var e = l.default.SDK;
            window.imsdk.on(s.default.Event.CONVERSATION_ADD.replace(/\${dlgname}/g, e.dlgName), (function (e) { }
            )),
                window.imsdk.on(s.default.Event.CONVERSATION_CHANGE.replace(/\${dlgname}/g, e.dlgName), (function (t) {
                    h.log("切换聊天对象", t),
                        l.default.conversationID = t,
                        l.default.chatType = 0 === t.ctype ? "single" : 2 === t.ctype ? "imba" : "group",
                        e.emitter.emit(s.default.Event.CONVERSATION_CHANGE_START, t),
                        l.default.changeStart = !0,
                        u.conversationChange(),
                        l.default.updateSelectModal(!1),
                        l.default.updateSelectBox(!1),
                        l.default.changeStart = !1;
                    var n = l.default.quoteMsg
                        , r = g.default(n, "ccode")
                        , i = l.default.conversationID.ccode;
                    "single" === l.default.chatType && window.imsdk.invoke(m.default.Event.IS_OVERSEA_USER, {
                        cid: i
                    }).then((function (e) {
                        l.default.updateIsOverseaUser(!!e.result.IsOverseaUser)
                    }
                    )),
                        r === i ? l.default.updateQuoteModal(!0) : l.default.updateQuoteModal(!1),
                        l.default.abuseList.clear();
                    var o = document.body.querySelector(".context-menu");
                    o && document.body.removeChild(o)
                }
                )),
                window.imsdk.on(s.default.Event.CONVERSATION_CLOSE.replace(/\${dlgname}/g, e.dlgName), (function (e) {
                    u.conversationClose(e)
                }
                )),
                window.imsdk.on(s.default.Event.NET_DISCONNECT, (function (e) {
                    l.default.network = !1
                }
                )),
                window.imsdk.on(s.default.Event.NET_RECONNECT, (function (e) {
                    l.default.network = !0,
                        "single" === l.default.chatType && (l.default.conversationStateMap.set(l.default.conversationID.ccode, p.ConversationState.closed),
                            u.conversationChange())
                }
                )),
                window.imsdk.on(s.default.Event.RE_LOGIN, (function () {
                    "single" === l.default.chatType && (l.default.conversationStateMap.set(l.default.conversationID.ccode, p.ConversationState.closed),
                        u.conversationChange())
                }
                )),
                window.imsdk.on([s.default.Event.CHAT_RECEIVE_MSG, s.default.Event.AMP_RECEIVE_MSG, s.default.Event.IMBA_RECEIVE_MSG], (function (e) {
                        e && e.forEach((function (e) {
                            c.default.getccode(e) === c.default.getccode(l.default.conversationID) && u.onReceiveNewMsg(e)
                        }
                        ))
                    }
                )),
                window.imsdk.on([s.default.Event.CHAT_SEND_MSG, s.default.Event.AMP_SEND_MSG], (function (e) {
                    e && e.forEach((function (e) {
                        c.default.getccode(e.cid) === c.default.getccode(l.default.conversationID) && (u.onSendNewMsg(),
                            l.default.updateQuoteModal(!1),
                            l.default.SDK.msgQuoteClose({
                                ccode: e.cid
                            }, l.default.chatType),
                            l.default.updateQuoteMsg(null))
                    }
                    ))
                }
                )),
                window.imsdk.on(s.default.Event.INPUT_STATUS_CHANGE, (function (e) {
                    c.default.getccode(e.cid) === c.default.getccode(l.default.conversationID) ? 0 === e.value ? l.default.updateEnterStatus(!1) : l.default.updateEnterStatus(!0) : h.log("非当前会话正在输入")
                }
                )),
                window.imsdk.on([s.default.Event.CHAT_SEND_MSG_STATUS_CHANGE, s.default.Event.AMP_SEND_MSG_STATUS_CHANGE, s.default.Event.CHAT_SEND_MSG_STATUS_CHANGE], (function (e) {
                    u.onMsgSendUpdate(e)
                }
                )),
                window.imsdk.on([s.default.Event.MSG_UPDATE, s.default.Event.IMBA_UPDATE], (function (e) {
                    console.log("action.onMessageUpdate(data);", e),
                        e && e.forEach((function (e) {
                            c.default.getccode(e.cid) === c.default.getccode(l.default.conversationID) && u.onMessageUpdate(e)
                        }
                        ))
                }
                )),
                window.imsdk.on(s.default.Event.CONV_MSG_DEL, (function (e) {
                    e && e.forEach((function (e) {
                        u.onMessageDel(e)
                    }
                    ))
                }
                )),
                window.imsdk.on([s.default.Event.MSG_DEL, s.default.Event.GROUP_MSG_DEL], (function (t) {
                    if (t) {
                        var n = l.default.conversationID.ccode;
                        if (l.default.SDK.middleware.dispatch({
                            handleType: "delete",
                            updateMsgQueue: t
                        }),
                            t.find((function (e) {
                                return e.cid.ccode === n
                            }
                            ))) {
                            var r = e.messageChannel.DB.msgDataMap.get(c.default.getccode(l.default.conversationID));
                            l.default.updateMessageList(r)
                        }
                    }
                }
                )),
                window.imsdk.on(s.default.Event.PROFILE_INFO_UPDATE, (function (e) {
                    "group" === l.default.chatType && u.onProfileUpdate(e)
                }
                )),
                window.imsdk.on([s.default.Event.CHAT_MSG_RECALLED, s.default.Event.AMP_MSG_RECALLED], (function (e) {
                    u.onMessageRevoke(e)
                }
                )),
                window.imsdk.on(s.default.Event.JSVIEW_UPDATE, (function (e) {
                    u.jsViewUpdate(e)
                }
                )),
                window.imsdk.on(s.default.Event.CHAT_MSG_READ, (function (e) {
                    u.onMessageReadStatus(e)
                }
                )),
                window.imsdk.on(s.default.Event.WINDOW_ACTIVE.replace(/\${dlgname}/g, e.dlgName), (function () {
                    u.setMsgReadStatusByScroll()
                }
                )),
                window.imsdk.on(s.default.Event.ON_AUDIO_STOP, (function () {
                    e.emitter.emit("AUDIO_STOP")
                }
                )),
                window.imsdk.on(s.default.Event.UPDATE_FILE_TRANSFER_INFO, (function (e) {
                    u.onUpdateTransferInfo(e)
                }
                )),
                window.imsdk.on(s.default.Event.UPDATE_FILE_INFO, (function (e) {
                    console.log(" action.onUpdateCloudFileMeta(data);", e),
                        u.onUpdateCloudFileMeta(e)
                }
                )),
                e.emitter.on("SCROLL_REACH_TOP", (function (e) {
                    h.log("getMoreHistoryMsg caused by SCROLL_REACH_TOP", e),
                        u.getMoreHistoryMsg()
                }
                )),
                e.emitter.on("SCROLL_REACH_BOTTOM", (function () {
                    d.default.hide(),
                        l.default.msgTipCache.set(l.default.conversationID.ccode, !1)
                }
                )),
                window.imsdk.on(s.default.Event.MSG_MODE_CHANGE, (function (e) {
                    var t = 1 === e.mode;
                    l.default.updateBubbleMode(t)
                }
                )),
                window.imsdk.on(s.default.Event.ON_FONT_CONFIG_CHANGE, (function (e) {
                    u.onFontConfigChange(e)
                }
                )),
                window.imsdk.on("im.uiutil.onSkinThemeChange", (function (e) {
                    u.onSkinConfigChange(e)
                }
                )),
                window.imsdk.on("im.bizutil.onShowAudio2textOptionChange", (function (e) {
                    u.onAudioConfigChange(e)
                }
                )),
                window.imsdk.on(s.default.Event.ROAM_SUCCESS, (function () {
                    "single" === l.default.chatType && (l.default.conversationStateMap.set(l.default.conversationID.ccode, p.ConversationState.closed),
                        u.conversationChange())
                }
                )),
                e.emitter.on("SCROLLING", (function (e) {
                    u.setMsgReadStatusByScroll()
                }
                ))
        }
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.default = {
                CONVERSATION_PREFIX: "im.uiutil.",
                CONVERSATION_ADD: "im.uiutil.${dlgname}onConversationAdd",
                CONVERSATION_CHANGE: "im.uiutil.${dlgname}onConversationChange",
                CONVERSATION_CLOSE: "im.uiutil.${dlgname}onConversationClose",
                NET_DISCONNECT: "im.login.onNetDisConnect",
                NET_RECONNECT: "im.login.onNetReConnectOK",
                RE_LOGIN: "im.login.onIMLoginOK",
                CHAT_RECEIVE_MSG: "im.singlemsg.onReceiveNewMsg",
                IMBA_RECEIVE_MSG: "im.imbamsg.onReceiveNewMsg",
                AMP_RECEIVE_MSG: "im.amptribemsg.onReceiveNewMsg",
                CHAT_SEND_MSG: "im.singlemsg.onSendNewMsg",
                AMP_SEND_MSG: "im.amptribemsg.onSendNewMsg",
                CHAT_SEND_MSG_STATUS_CHANGE: "im.singlemsg.onMsgSendUpdate",
                IMBA_SEND_MSG_STATUS_CHANGE: "im.imbamsg.onMsgSendUpdate",
                AMP_SEND_MSG_STATUS_CHANGE: "im.amptribemsg.onMsgSendUpdate",
                PROFILE_INFO_UPDATE: "im.profile.onJSTargetsUpdate",
                ON_FONT_CONFIG_CHANGE: "im.uiutil.onMsgFontChange",
                INPUT_STATUS_CHANGE: "im.singlemsg.onPeerInputNotify",
                CHAT_MSG_RECALLED: "im.singlemsg.onMessageRevoke",
                AMP_MSG_RECALLED: "im.amptribemsg.onMessageRevoke",
                NET_ERROR: "netError",
                SEND_MSG_STATUS_CHANGE: "sendMsgStatusChange",
                MSG_UPDATE: "im.singlemsg.onMessageUpdate",
                IMBA_UPDATE: "im.imbamsg.onMessageUpdate",
                CONV_MSG_DEL: "im.singlemsg.onMessageDeleteByConversation",
                MSG_DEL: "im.singlemsg.onMessageDelete",
                GROUP_MSG_DEL: "im.amptribemsg.onMessageDelete",
                JSVIEW_UPDATE: "im.media.onJSViewUpdate",
                WINDOW_ACTIVE: "im.uiutil.${dlgname}OnChatDlgActive",
                ON_AUDIO_STOP: "im.audioplayer.onAudioStop",
                UPDATE_FILE_TRANSFER_INFO: "im.filetransfer.onUpdateTransferInfo",
                UPDATE_FILE_INFO: "im.filetransfer.onUpdateCloudFileMeta",
                CHAT_MSG_READ: "im.singlemsg.onMessageReadStatus",
                SHOW_AUDIO_TEXT_SETTING_CHANGE: "im.bizutil.onShowAudio2textOptionChange",
                MSG_MODE_CHANGE: "im.bizutil.onChatMsgDisplayModeChange",
                ROAM_SUCCESS: "ON_AUTO_ROAM_SUCCESS",
                CONVERSATION_CHANGE_START: "conversationChangeStart",
                CONVERSATION_CHANGE_OVER: "conversationChangeOver",
                IS_OVERSEA_USER: "im.singlemsg.IsOverseaUser",
                GET_TRANSLATE_MSG: "im.singlemsg.GetTranslateMsg",
                CANCEL_MSG_TRANSLATE: "im.singlemsg.CancelMsgTranslate"
            }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__awaiter || function (e, t, n, r) {
                return new (n || (n = Promise))((function (i, o) {
                    function a(e) {
                        try {
                            l(r.next(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function s(e) {
                        try {
                            l(r.throw(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function l(e) {
                        var t;
                        e.done ? i(e.value) : (t = e.value,
                            t instanceof n ? t : new n((function (e) {
                                e(t)
                            }
                            ))).then(a, s)
                    }
                    l((r = r.apply(e, t || [])).next())
                }
                ))
            }
            , s = this && this.__generator || function (e, t) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                    "function" == typeof Symbol && (o[Symbol.iterator] = function () {
                        return this
                    }
                    ),
                    o;
                function s(o) {
                    return function (s) {
                        return function (o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a;)
                                try {
                                    if (n = 1,
                                        r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                        return i;
                                    switch (r = 0,
                                    i && (o = [2 & o[0], i.value]),
                                    o[0]) {
                                        case 0:
                                        case 1:
                                            i = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                            {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++,
                                                r = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys,
                                                (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < i[1]) {
                                                a.label = i[1],
                                                    i = o;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            i[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        r = 0
                                } finally {
                                    n = i = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , l = this && this.__read || function (e, t) {
                var n = "function" == typeof Symbol && e[Symbol.iterator];
                if (!n)
                    return e;
                var r, i, o = n.call(e), a = [];
                try {
                    for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)
                        a.push(r.value)
                } catch (e) {
                    i = {
                        error: e
                    }
                } finally {
                    try {
                        r && !r.done && (n = o.return) && n.call(o)
                    } finally {
                        if (i)
                            throw i.error
                    }
                }
                return a
            }
            , u = this && this.__spread || function () {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e = e.concat(l(arguments[t]));
                return e
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = c(n(1))
            , f = c(n(2))
            , p = c(n(6))
            , g = c(n(18))
            , m = c(n(43))
            , h = o(n(7))
            , v = n(27)
            , y = n(13)
            , b = h.createLogger("tb-im-h5")("conversationChange");
        t.default = function () {
            return a(void 0, void 0, void 0, (function () {
                var e, t, n, r, i, o, a, l, c, h, _, w, x, O, S, M, P;
                return s(this, (function (s) {
                    switch (s.label) {
                        case 0:
                            return d.default.allowScroll = !1,
                                d.default.perfTimeStore.keys().length >= 50 && !d.default.perfRecord.get(d.default.loginID.targetId) && (d.default.perfRecord.set(d.default.loginID.targetId, !0),
                                    e = d.default.perfTimeStore.values().reduce((function (e, t) {
                                        return e + t
                                    }
                                    ), 0),
                                    t = e / 50,
                                    window.tracker.log({
                                        code: 15,
                                        msg: JSON.stringify({
                                            time: t,
                                            userNick: d.default.loginID.nick,
                                            targetId: d.default.loginID.targetId
                                        }),
                                        sampleRate: 1
                                    })),
                                d.default.updatePending(!1),
                                y.renderPerf("start"),
                                n = f.default.getccode(d.default.conversationID),
                                b.log("IMDataRecord_dxCount:", d.default.dxCountStore.length, n, d.default.total),
                                d.default.updateMessageList([]),
                                d.default.dxCountStore.reset(),
                                r = d.default.SDK,
                                i = f.default.getCID(d.default.conversationID),
                                n ? (d.default.hasMore = !0,
                                    r.stopAudio(),
                                    d.default.entering && d.default.updateEnterStatus(!1),
                                    g.default.hide(),
                                    m.default(),
                                    d.default.cacheClear[n] ? (O = r.messageChannel.DB.msgDataMap.get(n),
                                        d.default.updateMessageList(O),
                                        [2]) : (d.default.msgInvokingWay.set(d.default.conversationID.ccode, []),
                                            d.default.msgCurInvokingWay.set(d.default.conversationID.ccode, ""),
                                            o = d.default.msgInvokingWay.get(d.default.conversationID.ccode) || [],
                                            r.middleware.updateContext({
                                                conversationId: d.default.conversationID,
                                                chatType: d.default.chatType
                                            }),
                                            window._conversationId = d.default.conversationID,
                                            d.default.conversationStateMap.has(n) ? (a = d.default.conversationStateMap.get(n),
                                                b.log("当前会话: " + n + " 之前处于 " + a + " 状态"),
                                                a !== v.ConversationState.open ? [3, 1] : (l = d.default.conversationID.ccode,
                                                    c = d.default.scrollCache.get(l),
                                                    h = !c || c.reachBottom,
                                                    document.getElementById("J_msgContainer"),
                                                    y.getNewMsg({
                                                        scrollToBottom: h
                                                    }).then((function () {
                                                        if (l === d.default.conversationID.ccode) {
                                                            var e = d.default.scrollCache.get(d.default.conversationID.ccode) || {}
                                                                , t = e.reachBottom
                                                                , n = e.scrollHeight;
                                                            if (void 0 !== n && !t) {
                                                                var r = document.getElementById("J_msgContainer");
                                                                r && (r.scrollTop = n)
                                                            }
                                                        }
                                                    }
                                                    )),
                                                    [3, 8])) : [3, 9])) : [2];
                        case 1:
                            _ = [],
                                s.label = 2;
                        case 2:
                            return s.trys.push([2, 4, , 5]),
                                [4, y.getNewMsg({
                                    scrollToBottom: !0
                                })];
                        case 3:
                            return _ = s.sent(),
                                [3, 5];
                        case 4:
                            return w = s.sent(),
                                window.tracker.log({
                                    code: 13,
                                    msg: JSON.stringify({
                                        errorMsg: w.stack
                                    }),
                                    sampleRate: 1
                                }),
                                [3, 5];
                        case 5:
                            return s.trys.push([5, 7, , 8]),
                                y.renderPerf("getRemoteHisMsg begin"),
                                o.push("getRemoteHisMsg"),
                                d.default.getRemoteMsging = !0,
                                [4, r.getRemoteHistoryMsg({
                                    cid: i,
                                    gohistory: 1,
                                    count: p.default.count
                                }, d.default.chatType)];
                        case 6:
                            return x = s.sent(),
                                d.default.getRemoteMsging = !1,
                                y.renderPerf("getRemoteHisMsg finished"),
                                r.middleware.dispatch({
                                    messageQueue: u(x.msgs, _),
                                    handleType: "replace",
                                    ccode: n
                                }),
                                d.default.hasMore = x.hasMore && x.msgs && x.msgs.length > 0,
                                (O = r.messageChannel.DB.msgDataMap.get(n)) ? (0 === (S = O.filter((function (e) {
                                    return "remote" === e.source
                                }
                                ))).length && (S = O.filter((function (e) {
                                    return "local" === e.source
                                }
                                ))),
                                    (M = S[0]) && d.default.cursor.set(n, {
                                        mcode: {
                                            messageId: M.messageId,
                                            clientId: M.clientId
                                        },
                                        sendTime: M.sendTime,
                                        sortTimeMicrosecond: M.sortTimeMicrosecond
                                    }),
                                    d.default.conversationID.ccode !== n ? [2] : (0 !== O.length ? (y.renderPerf("update view begin -> getRemoteHisMsg"),
                                        d.default.msgCurInvokingWay.set(d.default.conversationID.ccode, "getRemoteHisMsg")) : o.splice(o.indexOf("getRemoteHisMsg"), 1),
                                        d.default.updateMessageList(O),
                                        d.default.scrollToBottom(),
                                        [3, 8])) : [2];
                        case 7:
                            return P = s.sent(),
                                b.log("getRemote failed", P),
                                window.JSTracker2.push({
                                    msg: "getRemote failed",
                                    type: "custom",
                                    url: "pc.banama.message.getRemote.failed",
                                    sampling: 1
                                }),
                                [3, 8];
                        case 8:
                            return [3, 10];
                        case 9:
                            b.log("当前会话 " + n + " 首次打开");
                            try {
                                y.getNewMsg({
                                    scrollToBottom: !0
                                })
                            } catch (e) {
                                window.tracker.log({
                                    code: 13,
                                    msg: JSON.stringify({
                                        errorMsg: e.stack
                                    }),
                                    sampleRate: 1
                                })
                            }
                            d.default.getLocalMsging = !0,
                                y.renderPerf("getLocalHisMsg begin"),
                                o.push("getLocalHisMsg"),
                                r.getLocalHistoryMsg({
                                    cid: i,
                                    gohistory: 1,
                                    count: p.default.count
                                }, d.default.chatType).then((function (e) {
                                    d.default.getLocalMsging = !1,
                                        y.renderPerf("getLocalHisMsg finished");
                                    var t = e.msgs;
                                    if (r.middleware.dispatch({
                                        messageQueue: t,
                                        handleType: "add"
                                    }),
                                        d.default.conversationID.ccode === n) {
                                        var i = r.messageChannel.DB.msgDataMap.get(n);
                                        d.default.timeRecord.conversationChange = +new Date,
                                            i && 0 !== i.length ? (y.renderPerf("update view begin -> getLocalHisMsg"),
                                                d.default.msgCurInvokingWay.set(d.default.conversationID.ccode, "getLocalHisMsg")) : o.splice(o.indexOf("getLocalHisMsg"), 1),
                                            d.default.updateMessageList(i),
                                            d.default.scrollToBottom(),
                                            f.default.imageScroll(i)
                                    }
                                }
                                )),
                                d.default.getRemoteMsging = !0,
                                y.renderPerf("getRemoteHisMsg begin"),
                                o.push("getRemoteHisMsg"),
                                r.getRemoteHistoryMsg({
                                    cid: i,
                                    gohistory: 1,
                                    count: p.default.count
                                }, d.default.chatType).then((function (e) {
                                    d.default.getRemoteMsging = !1,
                                        y.renderPerf("getRemoteHisMsg finished");
                                    var t = e.msgs;
                                    d.default.hasMore = e.hasMore && e.msgs && e.msgs.length > 0,
                                        r.middleware.dispatch({
                                            messageQueue: u(t),
                                            handleType: "add"
                                        });
                                    var i = r.messageChannel.DB.msgDataMap.get(n);
                                    if (i) {
                                        var a = i.filter((function (e) {
                                            return "remote" === e.source
                                        }
                                        ));
                                        0 === a.length && (a = i.filter((function (e) {
                                            return "local" === e.source
                                        }
                                        )));
                                        var s = a[0];
                                        s && d.default.cursor.set(n, {
                                            mcode: {
                                                messageId: s.messageId,
                                                clientId: s.clientId
                                            },
                                            sendTime: s.sendTime,
                                            sortTimeMicrosecond: s.sortTimeMicrosecond
                                        }),
                                            d.default.conversationID.ccode === n && (0 !== i.length ? (y.renderPerf("update view begin -> getRemoteHisMsg"),
                                                d.default.msgCurInvokingWay.set(d.default.conversationID.ccode, "getRemoteHisMsg")) : o.splice(o.indexOf("getRemoteHisMsg"), 1),
                                                d.default.updateMessageList(i),
                                                d.default.scrollToBottom(),
                                                f.default.imageScroll(t))
                                    }
                                }
                                )),
                                s.label = 10;
                        case 10:
                            return d.default.conversationStateMap.set(n, v.ConversationState.open),
                                [2]
                    }
                }
                ))
            }
            ))
        }
    }
    , function (e, t, n) {
        e.exports = function (e) {
            function t(e) {
                let n, i, o, a = null;
                function s(...e) {
                    if (!s.enabled)
                        return;
                    const r = s
                        , i = Number(new Date)
                        , o = i - (n || i);
                    r.diff = o,
                        r.prev = n,
                        r.curr = i,
                        n = i,
                        e[0] = t.coerce(e[0]),
                        "string" != typeof e[0] && e.unshift("%O");
                    let a = 0;
                    e[0] = e[0].replace(/%([a-zA-Z%])/g, (n, i) => {
                        if ("%%" === n)
                            return "%";
                        a++;
                        const o = t.formatters[i];
                        if ("function" == typeof o) {
                            const t = e[a];
                            n = o.call(r, t),
                                e.splice(a, 1),
                                a--
                        }
                        return n
                    }
                    ),
                        t.formatArgs.call(r, e);
                    (r.log || t.log).apply(r, e)
                }
                return s.namespace = e,
                    s.useColors = t.useColors(),
                    s.color = t.selectColor(e),
                    s.extend = r,
                    s.destroy = t.destroy,
                    Object.defineProperty(s, "enabled", {
                        enumerable: !0,
                        configurable: !1,
                        get: () => null !== a ? a : (i !== t.namespaces && (i = t.namespaces,
                            o = t.enabled(e)),
                            o),
                        set: e => {
                            a = e
                        }
                    }),
                    "function" == typeof t.init && t.init(s),
                    s
            }
            function r(e, n) {
                const r = t(this.namespace + (void 0 === n ? ":" : n) + e);
                return r.log = this.log,
                    r
            }
            function i(e) {
                return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, "*")
            }
            return t.debug = t,
                t.default = t,
                t.coerce = function (e) {
                    if (e instanceof Error)
                        return e.stack || e.message;
                    return e
                }
                ,
                t.disable = function () {
                    const e = [...t.names.map(i), ...t.skips.map(i).map(e => "-" + e)].join(",");
                    return t.enable(""),
                        e
                }
                ,
                t.enable = function (e) {
                    let n;
                    t.save(e),
                        t.namespaces = e,
                        t.names = [],
                        t.skips = [];
                    const r = ("string" == typeof e ? e : "").split(/[\s,]+/)
                        , i = r.length;
                    for (n = 0; n < i; n++)
                        r[n] && ("-" === (e = r[n].replace(/\*/g, ".*?"))[0] ? t.skips.push(new RegExp("^" + e.slice(1) + "$")) : t.names.push(new RegExp("^" + e + "$")))
                }
                ,
                t.enabled = function (e) {
                    if ("*" === e[e.length - 1])
                        return !0;
                    let n, r;
                    for (n = 0,
                        r = t.skips.length; n < r; n++)
                        if (t.skips[n].test(e))
                            return !1;
                    for (n = 0,
                        r = t.names.length; n < r; n++)
                        if (t.names[n].test(e))
                            return !0;
                    return !1
                }
                ,
                t.humanize = n(100),
                t.destroy = function () {
                    console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")
                }
                ,
                Object.keys(e).forEach(n => {
                    t[n] = e[n]
                }
                ),
                t.names = [],
                t.skips = [],
                t.formatters = {},
                t.selectColor = function (e) {
                    let n = 0;
                    for (let t = 0; t < e.length; t++)
                        n = (n << 5) - n + e.charCodeAt(t),
                            n |= 0;
                    return t.colors[Math.abs(n) % t.colors.length]
                }
                ,
                t.enable(t.load()),
                t
        }
    }
    , function (e, t) {
        var n = 1e3
            , r = 6e4
            , i = 60 * r
            , o = 24 * i;
        function a(e, t, n, r) {
            var i = t >= 1.5 * n;
            return Math.round(e / n) + " " + r + (i ? "s" : "")
        }
        e.exports = function (e, t) {
            t = t || {};
            var s = typeof e;
            if ("string" === s && e.length > 0)
                return function (e) {
                    if ((e = String(e)).length > 100)
                        return;
                    var t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);
                    if (!t)
                        return;
                    var a = parseFloat(t[1]);
                    switch ((t[2] || "ms").toLowerCase()) {
                        case "years":
                        case "year":
                        case "yrs":
                        case "yr":
                        case "y":
                            return 315576e5 * a;
                        case "weeks":
                        case "week":
                        case "w":
                            return 6048e5 * a;
                        case "days":
                        case "day":
                        case "d":
                            return a * o;
                        case "hours":
                        case "hour":
                        case "hrs":
                        case "hr":
                        case "h":
                            return a * i;
                        case "minutes":
                        case "minute":
                        case "mins":
                        case "min":
                        case "m":
                            return a * r;
                        case "seconds":
                        case "second":
                        case "secs":
                        case "sec":
                        case "s":
                            return a * n;
                        case "milliseconds":
                        case "millisecond":
                        case "msecs":
                        case "msec":
                        case "ms":
                            return a;
                        default:
                            return
                    }
                }(e);
            if ("number" === s && isFinite(e))
                return t.long ? function (e) {
                    var t = Math.abs(e);
                    if (t >= o)
                        return a(e, t, o, "day");
                    if (t >= i)
                        return a(e, t, i, "hour");
                    if (t >= r)
                        return a(e, t, r, "minute");
                    if (t >= n)
                        return a(e, t, n, "second");
                    return e + " ms"
                }(e) : function (e) {
                    var t = Math.abs(e);
                    if (t >= o)
                        return Math.round(e / o) + "d";
                    if (t >= i)
                        return Math.round(e / i) + "h";
                    if (t >= r)
                        return Math.round(e / r) + "m";
                    if (t >= n)
                        return Math.round(e / n) + "s";
                    return e + "ms"
                }(e);
            throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(e))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__read || function (e, t) {
            var n = "function" == typeof Symbol && e[Symbol.iterator];
            if (!n)
                return e;
            var r, i, o = n.call(e), a = [];
            try {
                for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)
                    a.push(r.value)
            } catch (e) {
                i = {
                    error: e
                }
            } finally {
                try {
                    r && !r.done && (n = o.return) && n.call(o)
                } finally {
                    if (i)
                        throw i.error
                }
            }
            return a
        }
            , i = this && this.__spread || function () {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e = e.concat(r(arguments[t]));
                return e
            }
            , o = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.peekNewMsg = t.getNewMsg = void 0;
        var a = o(n(1))
            , s = o(n(18))
            , l = o(n(2))
            , u = n(13)
            , c = o(n(1))
            , d = {
                scrollToBottom: !0
            };
        t.getNewMsg = function (e) {
            void 0 === e && (e = d);
            var n = a.default.conversationID.ccode
                , r = {
                    ccode: n
                };
            if (a.default.isPreview)
                return a.default.allowScroll = !0,
                    t.peekNewMsg(e);
            var o = a.default.msgInvokingWay.get(a.default.conversationID.ccode) || [];
            return c.default.getNewMsging = !0,
                u.renderPerf("getNewMsg begin"),
                o.push("getNewMsg"),
                a.default.SDK.getNewMsg(r, a.default.chatType).then((function (t) {
                    if (u.renderPerf("getNewMsg finished"),
                        c.default.getNewMsging = !1,
                        a.default.SDK.middleware.dispatch({
                            messageQueue: i(t),
                            handleType: "add"
                        }),
                        a.default.allowScroll = !0,
                        a.default.conversationID.ccode === n) {
                        a.default.SDK.setConversationRead([{
                            cid: a.default.conversationID
                        }], a.default.chatType);
                        var r = a.default.SDK.messageChannel.DB.msgDataMap.get(n);
                        r && 0 !== r.length ? (u.renderPerf("update view begin -> getNewMsg"),
                            a.default.msgCurInvokingWay.set(a.default.conversationID.ccode, "getNewMsg")) : o.splice(o.indexOf("getNewMsg"), 1),
                            a.default.updateMessageList(r),
                            e.scrollToBottom ? (a.default.scrollToBottom(),
                                l.default.imageScroll(r)) : (t && 0 !== t.length && a.default.msgTipCache.set(a.default.conversationID.ccode, !0),
                                    a.default.msgTipCache.get(a.default.conversationID.ccode) && !a.default.isBottom && s.default.show())
                    }
                    return t
                }
                ))
        }
            ,
            t.peekNewMsg = function (e) {
                void 0 === e && (e = d);
                var t = a.default.conversationID.ccode
                    , n = {
                        ccode: t
                    };
                return a.default.SDK.peekNewMsg(n, a.default.chatType).then((function (n) {
                    if (a.default.SDK.middleware.dispatch({
                        messageQueue: i(n),
                        handleType: "add"
                    }),
                        a.default.conversationID.ccode === t) {
                        var r = a.default.SDK.messageChannel.DB.msgDataMap.get(t);
                        a.default.updateMessageList(r),
                            e.scrollToBottom && a.default.scrollToBottom()
                    }
                    return n
                }
                ))
            }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__read || function (e, t) {
                var n = "function" == typeof Symbol && e[Symbol.iterator];
                if (!n)
                    return e;
                var r, i, o = n.call(e), a = [];
                try {
                    for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)
                        a.push(r.value)
                } catch (e) {
                    i = {
                        error: e
                    }
                } finally {
                    try {
                        r && !r.done && (n = o.return) && n.call(o)
                    } finally {
                        if (i)
                            throw i.error
                    }
                }
                return a
            }
            , s = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.renderPerf = t.createPerfLogger = void 0;
        var l, u, c = o(n(7)), d = s(n(1)), f = n(16);
        t.createPerfLogger = function (e) {
            return c.createLogger("performance")(e + "|NO-LIMIT")
        }
            ,
            t.renderPerf = (l = t.createPerfLogger("renderPerf"),
                u = new Map,
                function (e) {
                    if ("end" !== e) {
                        if ("start" === e) {
                            var t = new Map;
                            u.set(d.default.conversationID.ccode, t),
                                t.set("perf time", f.getDateLocaleString())
                        }
                        var n = u.get(d.default.conversationID.ccode);
                        n && n.set(e, +new Date)
                    } else {
                        var r = u.get(d.default.conversationID.ccode);
                        if (r) {
                            r.set(e, +new Date),
                                Array.from(r.entries()).forEach((function (e) {
                                    var t = a(e, 2)
                                        , n = t[0]
                                        , r = t[1];
                                    l.log(d.default.conversationID.ccode, n, r)
                                }
                                ));
                            var i = Number(r.get("end")) - Number(r.get("start"));
                            l.log(d.default.conversationID.ccode, "total time", i),
                                d.default.perfTimeStore.set(d.default.conversationID.ccode, i),
                                u.delete(d.default.conversationID.ccode)
                        }
                    }
                }
            )
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7))
            , c = n(27)
            , d = u.createLogger("tb-im-h5")("conversationClose");
        t.default = function (e) {
            var t = s.default.SDK
                , n = l.default.getccode(s.default.conversationID);
            s.default.cacheClear[n] = !1,
                1 === e.closeall ? (d.log("关闭整个会话窗口", "清除所有前端消息缓存"),
                    s.default.conversationID = {},
                    t.clearCache(),
                    s.default.conversationStateMap.clear(),
                    s.default.clearUICache(),
                    s.default.updateMessageList([]),
                    s.default.updateSelectModal(!1),
                    s.default.updateSelectBox(!1)) : (d.log("关闭单个会话:", e.cid),
                        e.cid && (s.default.conversationStateMap.set(e.cid.ccode, c.ConversationState.closed),
                            s.default.clearUICache(),
                            n === e.cid.ccode && (s.default.conversationID = {},
                                s.default.updateMessageList([]))))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = i.default.SDK;
            t.middleware.dispatch({
                handleType: "update",
                updateMsgQueue: [Object.assign(e, {
                    cid: {
                        ccode: e.ccode
                    }
                })],
                handleCallback: function (e, t) {
                    var n = e.content.jsview;
                    n && n[t.index] && (n[t.index].type = t.update.type,
                        n[t.index].value = t.update.value);
                    var r = t.mcode.messageId || t.mcode.clientId
                        , o = i.default.emotionCache.get(r);
                    o && (o[t.index].type = t.update.type,
                        o[t.index].value = t.update.value);
                    try {
                        5 === t.update.type && window && window.tracker && window.tracker.log({
                            code: 22,
                            msg: "商品卡片解析",
                            sampleRate: 1,
                            c1: "商品卡片解析",
                            c2: t.update.value.url
                        })
                    } catch (e) { }
                }
            });
            var n = t.messageChannel.DB.msgDataMap.get(o.default.getccode(i.default.conversationID));
            i.default.updateMessageList(n),
                i.default.isBottom && i.default.scrollToBottom()
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = a(n(18))
            , c = o(n(7))
            , d = n(13)
            , f = c.createLogger("tb-im-h5")("onReceiveNewMsg");
        t.default = function (e) {
            f.log("data", e);
            s.default.SDK;
            var t = l.default.getccode(s.default.conversationID);
            l.default.getCID(s.default.conversationID);
            d.getNewMsg({
                scrollToBottom: !1
            }).then((function (e) {
                s.default.conversationID.ccode === t && (s.default.isBottom ? (s.default.scrollToBottom(),
                    e.forEach((function (e) {
                        var t = document.getElementById(e.mcode.messageId || e.mcode.clientId);
                        t && t.querySelectorAll("img") && t.querySelectorAll("img").forEach((function (e) {
                            e.onload = function () {
                                s.default.scrollToBottom()
                            }
                        }
                        ))
                    }
                    ))) : e.forEach((function (e) {
                        e.fromid.targetId === e.loginid.targetId ? s.default.scrollToBottom() : u.default.show()
                    }
                    )))
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = n(41)
            , s = r(n(40));
        t.default = function (e) {
            var t = i.default.SDK;
            t.middleware.dispatch({
                handleType: "update",
                updateMsgQueue: e,
                handleCallback: function (e, t) {
                    if (e.status = t.sendStatus,
                        e.issendfail = 13 === t.sendStatus,
                        e.sendTime = t.sendTime,
                        e.sortTimeMicrosecond = t.sortTimeMicrosecond,
                        e.messageId = t.mcode.messageId,
                        0 === t.delta.receiverState.unread.count && (e.readflag = !0),
                        e.templateId === a.MessageType.video && (t.originalData && (e.content = Object.assign({}, e.content, t.originalData)),
                            e.content && (e.content.progress = t.progress || 0)),
                        t.delta.ext) {
                        if (t.delta.ext.security_notify && (e.ext.security_notify = t.delta.ext.security_notify),
                            t.delta.ext.receiverMainUserId && t.delta.ext.receiverMainUserId !== e.originBanamaMessage.ext.receiverMainUserId) {
                            var n = e.originBanamaMessage;
                            n.ext.receiverMainUserId = t.delta.ext.receiverMainUserId + "",
                                n.mcode.messageId = t.mcode.messageId;
                            var r = s.default.parse(n, i.default.conversationID);
                            e.isself = r.isself,
                                e.subNick = r.subNick
                        }
                        if (t.delta.ext.security_url) {
                            var o = function (n) {
                                e.content.jsview.forEach((function (e) {
                                    n === e.value.url && (e.value.safe = t.delta.ext.security_url[n])
                                }
                                ))
                            };
                            for (var l in t.delta.ext.security_url)
                                o(l)
                        }
                    }
                }
            });
            var n = t.messageChannel.DB.msgDataMap.get(o.default.getccode(i.default.conversationID));
            i.default.updateMessageList(n);
            var r = i.default.conversationID.ccode
                , l = i.default.scrollCache.get(r);
            !!l && l.reachBottom && i.default.scrollToBottom()
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = i.default.SDK
                , n = o.default.getccode(i.default.conversationID)
                , r = t.messageChannel.DB.msgDataMap.get(n) || [];
            if (e && 0 !== r.length) {
                e.forEach((function (e) {
                    for (var t = 0; t < r.length; t++) {
                        var n = r[t];
                        e.target && n.targetId === e.target.targetId && s(e, n)
                    }
                }
                ));
                var a = t.messageChannel.DB.msgDataMap.get(o.default.getccode(i.default.conversationID));
                i.default.updateMessageList(a)
            }
            function s(e, t) {
                e.displayName && (t.subNick = e.displayName),
                    e.portrait && (t.avatar = e.portrait)
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = i.default.SDK
                , n = o.default.getccode(i.default.conversationID)
                , r = t.messageChannel.DB.msgDataMap.get(n);
            e.forEach((function (o) {
                n === o.cid.ccode && t.middleware.dispatch({
                    handleType: "update",
                    updateMsgQueue: e,
                    handleCallback: function (e, t) {
                        e.msgtype = "system",
                            e.status = 2
                    }
                }),
                    i.default.updateMessageList(r)
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = a(n(6))
            , c = o(n(7))
            , d = n(16)
            , f = n(13)
            , p = c.createLogger("tb-im-h5")("getMoreHistoryMsg");
        t.default = function () {
            var e = s.default.SDK
                , t = l.default.getccode(s.default.conversationID)
                , n = l.default.getCID(s.default.conversationID)
                , r = e.messageChannel.DB.msgDataMap.get(t);
            if (!s.default.cacheClear[t] && r && !s.default.pending && s.default.hasMore)
                if (s.default.network) {
                    f.renderPerf("start"),
                        s.default.updatePending(!0);
                    var i = s.default.cursor.get(t);
                    f.renderPerf("getmoreRemoteHistoryMsgbegin"),
                        e.getRemoteHistoryMsg({
                            cid: n,
                            gohistory: 1,
                            count: u.default.count,
                            cursor: i
                        }, s.default.chatType).then((function (n) {
                            s.default.updatePending(!1),
                                f.renderPerf("getmoreRemoteHistoryMsgend"),
                                n instanceof Array ? s.default.hasMore = n.length >= u.default.count : (s.default.hasMore = n.hasMore && r.length <= s.default.maxLength && n.msgs && n.msgs.length > 0,
                                    n = n.msgs),
                                e.middleware.dispatch({
                                    messageQueue: n,
                                    handleType: "add",
                                    handleCallback: function (e, t) {
                                        "local" === e.source && (e.source = t.source)
                                    }
                                });
                            var o = e.messageChannel.DB.msgDataMap.get(t);
                            if (o) {
                                var a = o.filter((function (e) {
                                    return "remote" === e.source
                                }
                                ));
                                0 === a.length && (a = o.filter((function (e) {
                                    return "local" === e.source
                                }
                                )));
                                var l = a[0];
                                if (l && s.default.cursor.set(t, {
                                    mcode: {
                                        messageId: l.messageId,
                                        clientId: l.clientId
                                    },
                                    sendTime: l.sendTime,
                                    sortTimeMicrosecond: l.sortTimeMicrosecond
                                }),
                                    s.default.conversationID.ccode === t && (f.renderPerf("getmoreRemoteHistoryMsgViewbegin"),
                                        s.default.updateMessageList(o),
                                        f.renderPerf("getmoreRemoteHistoryMsgViewend"),
                                        i && i.mcode)) {
                                    var c = document.getElementById(i.mcode.messageId || i.mcode.clientId);
                                    c && c.scrollIntoView()
                                }
                            }
                        }
                        )).catch((function (e) {
                            s.default.updatePending(!1),
                                s.default.hasMore = !0;
                            var n = e.stack || e;
                            console.error(e);
                            try {
                                window && window.tracker && window.tracker.log({
                                    code: 17,
                                    msg: "上拉加载失败",
                                    sampleRate: 1,
                                    c1: s.default.loginID.nick,
                                    c2: t,
                                    c3: JSON.stringify(i),
                                    c4: d.getAppVersion(),
                                    c5: JSON.stringify(n)
                                })
                            } catch (e) { }
                        }
                        ))
                } else
                    p.log("网络断开连接")
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7)).createLogger("[tb-im-h5]")("setMsgReadStatus");
        t.default = function (e) {
            var t = s.default.SDK
                , n = s.default.chatType
                , r = l.default.getccode(s.default.conversationID)
                , i = l.default.getCID(s.default.conversationID)
                , o = t.messageChannel.DB.msgDataMap.get(r) || []
                , a = (e || o).map((function (e) {
                    return {
                        messageId: e.messageId,
                        clientId: e.clientId
                    }
                }
                ));
            if (a.length) {
                u.log("setSingleMsgReadStatus caused by setMsgReadStatus");
                try {
                    "single" === n ? t.setSingleMsgReadStatus({
                        cid: i,
                        mcodes: a
                    }) : "imba" === n && t.setImbaMsgReadStatus({
                        cid: i,
                        mcodes: a
                    })
                } catch (e) {
                    console.log("setSingleMsgReadStatus failed", e)
                }
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7)).createLogger("tb-im-h5")("onMessageReadStatus");
        t.default = function (e) {
            u.log("data", e);
            var t = s.default.SDK
                , n = l.default.getccode(s.default.conversationID)
                , r = t.messageChannel.DB.msgDataMap.get(n);
            e.forEach((function (r) {
                if (n === r.cid.ccode)
                    t.middleware.dispatch({
                        handleType: "update",
                        updateMsgQueue: e,
                        handleCallback: function (e, t) {
                            t && t.state && 0 === t.state.unread.count && (e.readflag = !0)
                        }
                    });
                else {
                    var i = s.default.waitingBeReadingMap
                        , o = i.get(r.cid.ccode) || [];
                    i.set(r.cid.ccode, o.concat(r))
                }
            }
            )),
                s.default.updateMessageList(r)
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7)).createLogger("[tb-im-h5]")("onChatDlgActive");
        t.default = function () {
            var e = s.default.SDK
                , t = s.default.chatType
                , n = l.default.getccode(s.default.conversationID)
                , r = l.default.getCID(s.default.conversationID)
                , i = e.messageChannel.DB.msgDataMap.get(n);
            u.log("onChatDlgActive", r, i);
            var o = [];
            i && (i.forEach((function (e) {
                e.isself || e.selfReadflag || (e.selfReadflag = !0,
                    o.push({
                        messageId: e.messageId || "",
                        clientId: e.clientId || ""
                    }))
            }
            )),
                o.length && (u.log("setSingleMsgReadStatus caused by onChatDlgActive"),
                    "single" === t ? e.setSingleMsgReadStatus({
                        cid: r,
                        mcodes: o
                    }).catch((function (e) {
                        console.log("设置已读失败", o, e)
                    }
                    )) : "imba" === t && e.setImbaMsgReadStatus({
                        cid: r,
                        mcodes: o
                    }).catch((function (e) {
                        console.log("设置已读失败", o, e)
                    }
                    ))))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = r(n(18))
            , s = n(13);
        t.default = function () {
            var e = o.default.getccode(i.default.conversationID);
            a.default.hide(),
                i.default.msgTipCache.set(e, !1),
                s.getNewMsg().then((function (t) {
                    if (i.default.conversationID.ccode === e) {
                        t.forEach((function (e) {
                            var t = document.getElementById(e.mcode.messageId || e.mcode.clientId);
                            t && t.querySelectorAll("img") && t.querySelectorAll("img").forEach((function (e) {
                                e.onload = function () {
                                    i.default.scrollToBottom()
                                }
                            }
                            ))
                        }
                        ));
                        setTimeout((function () {
                            i.default.scrollToBottom()
                        }
                        ), 200) && clearTimeout()
                    }
                }
                ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = i.default.SDK;
            if (e.delta) {
                t.middleware.dispatch({
                    handleType: "update",
                    updateMsgQueue: [e],
                    handleCallback: function (t, n) {
                        e.delta && e.delta.ext && (t.ext = e.delta.ext),
                            e.delta && e.delta.localExt && (t.extLocal = e.delta.localExt)
                    }
                });
                var n = t.messageChannel.DB.msgDataMap.get(o.default.getccode(i.default.conversationID));
                i.default.updateMessageList(n)
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1));
        t.default = function (e) {
            var t = e.cid.ccode;
            i.default.SDK.messageChannel.clearMessage(t),
                t === i.default.conversationID.ccode && i.default.updateMessageList([])
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = e.transferInfo
                , n = document.getElementById("file-progress-" + e.id);
            if (n) {
                var r = n.querySelector("i");
                if (r) {
                    if (0 == t.status || 1 == t.status)
                        n.classList.remove("hidden"),
                            r.style.width = t.progress + "%",
                            t.progress > 1 && t.progress < 4 && r.classList.add("animation-width");
                    else if (2 === t.status)
                        n.classList.add("hidden");
                    else if (3 === t.status)
                        if (0 == t.type) {
                            var a = [{
                                cid: o.default.getCID(i.default.conversationID),
                                mcode: {
                                    messageId: n.getAttribute("data-messageid") || "",
                                    clientId: n.getAttribute("data-clientid") || ""
                                }
                            }];
                            i.default.SDK.middleware.dispatch({
                                handleType: "delete",
                                updateMsgQueue: a
                            })
                        } else
                            n.classList.add("hidden");
                    else if (4 === Number(e.transferInfo.status)) {
                        n.classList.add("hidden"),
                            r.style.width = t.progress + "%";
                        a = [{
                            cid: o.default.getCID(i.default.conversationID),
                            mcode: {
                                messageId: n.getAttribute("data-messageid") || "",
                                clientId: n.getAttribute("data-clientid") || ""
                            }
                        }];
                        i.default.SDK.middleware.dispatch({
                            handleType: "update",
                            updateMsgQueue: a,
                            handleCallback: function (t, n) {
                                t.content.jsTransferInfo = e.transferInfo
                            }
                        })
                    } else
                        5 == t.status && n.classList.add("hidden");
                    i.default.SDK.emitter.emit("onUpdateFileTransfer", e)
                }
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e) {
            var t = i.default.SDK
                , n = document.getElementById("file-progress-" + e.id);
            if (n) {
                var r = [{
                    cid: o.default.getCID(i.default.conversationID),
                    mcode: {
                        messageId: n.getAttribute("data-messageid") || "",
                        clientId: n.getAttribute("data-clientid") || ""
                    }
                }];
                t.middleware.dispatch({
                    handleType: "update",
                    updateMsgQueue: r,
                    handleCallback: function (t, n) {
                        t.content.jsFileInfo = e.fileInfo,
                            t.content.jsTransferInfo = e.transferInfo
                    }
                });
                var a = t.messageChannel.DB.msgDataMap.get(o.default.getccode(i.default.conversationID));
                console.log("FileMetaUpdateRes msglist", a),
                    i.default.updateMessageList(a)
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = r(n(5));
        t.default = function (e, t, n) {
            var r = i.default.SDK
                , s = a.default(t, "content.jsview[0].value.pic")
                , l = e.refs["msg_" + t.messageId] || e.refs["msg_" + t.clientId]
                , u = "";
            if (u = "video" === t.msgtype ? t.content.url : l ? l.innerHTML : "",
                o.default.parents(n.target, "imui-msg-menu-wrap").blur(),
                "image" === t.msgtype)
                r.setBubbleMenu({
                    type: 6,
                    request: {
                        filePath: s
                    }
                });
            else if ("text" === t.msgtype) {
                var c = a.default(t, "messageId")
                    , d = a.default(t, "content.text")
                    , f = a.default(t, "content.desensitizationReceiverMsgJsView", "")
                    , p = a.default(t, "content.desensitizationContentText", "")
                    , g = f && c && !i.default.abuseList.has(c) && p ? p : d;
                r.copy2({
                    content: g
                })
            } else
                r.copy({
                    content: u
                })
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e, t) {
            var n = i.default.SDK
                , r = {
                    cid: {
                        ccode: o.default.getccode(i.default.conversationID)
                    },
                    mcode: {
                        messageId: e.messageId || "",
                        clientId: e.clientId || ""
                    },
                    originalData: e.content
                };
            try {
                o.default.parents(t.target, "imui-msg-menu-wrap").blur()
            } catch (e) { }
            n.forwardMsg(r)
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function (e, t) {
            var n = i.default.SDK;
            try {
                o.default.parents(t.target, "imui-msg-menu-wrap").blur()
            } catch (e) { }
            var r = {
                cid: {
                    ccode: o.default.getccode(i.default.conversationID)
                },
                mcodes: [{
                    messageId: e.messageId || "",
                    clientId: e.clientId || ""
                }]
            };
            n.recallMsg(r, i.default.chatType)
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            , a = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var s = a(n(1))
            , l = a(n(2))
            , u = o(n(7)).createLogger("tb-im-h5")("handleResend");
        t.default = function (e) {
            var t = s.default.SDK
                , n = l.default.getccode(s.default.conversationID)
                , r = {
                    messageId: e.messageId || "",
                    clientId: e.clientId || ""
                }
                , i = {
                    cid: {
                        ccode: n
                    },
                    mcodes: [r]
                }
                , o = {
                    cid: {
                        ccode: n
                    },
                    mcode: r
                };
            t.resendMsg(i, s.default.chatType).then((function (e) {
                0 === e.code ? (t.middleware.dispatch({
                    handleType: "update",
                    updateMsgQueue: [o],
                    handleCallback: function (e) {
                        e.issendfail = !1
                    }
                }),
                    u.log("重发成功", o)) : u.log("重发失败", e)
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = r(n(6))
            , s = r(n(21));
        t.default = function (e, t, n) {
            var r = i.default.SDK;
            if (n) {
                var l = t.refs.J_tempAction
                    , u = e.screenX - e.clientX
                    , c = e.screenY - e.clientY
                    , d = l.getBoundingClientRect()
                    , f = l.getBoundingClientRect()
                    , p = u + d.left
                    , g = c + d.top
                    , m = u + f.left
                    , h = c + f.top;
                r.doWXAction({
                    wangxurl: n,
                    actionrect: {
                        let: p,
                        top: g,
                        right: p + d.width,
                        bottom: g + d.height
                    },
                    cardrect: {
                        left: m,
                        top: h,
                        right: m + f.width,
                        bottom: h + f.height
                    },
                    cid: {
                        ccode: o.default.getccode(i.default.conversationID)
                    }
                }).catch((function (e) {
                    var t = e && e.errMsg || a.default.DO_WX_ACTION_ERROR;
                    s.default.show(t, 2e3)
                }
                ))
            }
        }
    }
    , function (e, t, n) {
        var r = n(23)
            , i = n(124);
        "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]);
        var o = {
            insert: "head",
            singleton: !1
        };
        r(i, o);
        e.exports = i.locals || {}
    }
    , function (e, t, n) {
        (t = n(24)(!1)).push([e.i, ".toast{position:fixed;top:50%;left:50%;transform:translate3d(-50%, -50%, 0)}.toast .J_toastText{display:block;word-wrap:break-word;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;padding:10px 20px;font-size:14px}", ""]),
            e.exports = t
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1));
        t.default = function (e) {
            var t;
            e && 0 !== Object.keys(e).length && (e.fontRGBColor = "rgb(" + (255 & (t = e.fontColor)) + ", " + ((65280 & t) >> 8) + ", " + ((16711680 & t) >> 16) + ")",
                e.fontSizeStr = e.fontSize + "pt",
                i.default.updateFontConfig(e))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(5));
        t.default = function (e) {
            e && 0 !== Object.keys(e).length && i.default.updateSkinConfig({
                lightRgb: o.default(e, "lightRgb", ""),
                rgb: o.default(e, "rgb", "")
            })
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(5));
        t.default = function (e) {
            e && 0 !== Object.keys(e).length && i.default.updateAudioConfig(o.default(e, "show", !1))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = r(n(5))
            , s = r(n(21))
            , l = r(n(6));
        t.default = function (e, t, n, r) {
            var u = i.default.SDK;
            o.default.parents(n.target, "imui-msg-menu-wrap").blur();
            var c = a.default(t, "content.url")
                , d = a.default(t, "content.jsview[0].value.pic")
                , f = a.default(t, "messageId")
                , p = a.default(t, "conversationId");
            switch (r) {
                case 1:
                    u.setBubbleMenu({
                        type: 1,
                        request: {
                            filePath: d || c,
                            messageID: f,
                            cid: p
                        }
                    });
                    break;
                case 2:
                    u.setBubbleMenu({
                        type: 2,
                        request: {
                            filePath: d
                        }
                    });
                    break;
                case 3:
                    u.setBubbleMenu({
                        type: 5,
                        request: {
                            filePath: d || c
                        }
                    }).then((function (e) {
                        var t = a.default(e, "result.emotionType", "");
                        -1 === Number(t) ? u.setBubbleMenu({
                            type: 3,
                            request: {
                                filePath: d || c
                            }
                        }) : s.default.show("已添加过该表情哦～", 1e3)
                    }
                    )).catch((function (e) {
                        s.default.show("添加表情失败", 1e3),
                            console.log("add emotion error", e)
                    }
                    ));
                    break;
                case 4:
                    u.setBubbleMenu({
                        type: 5,
                        request: {
                            filePath: d || c
                        }
                    }).then((function (e) {
                        var t = a.default(e, "result.emotionID")
                            , n = a.default(e, "result.emotionType", "");
                        2 === Number(n) ? u.setBubbleMenu({
                            type: 4,
                            request: {
                                filePath: d || c,
                                emotionID: t
                            }
                        }) : s.default.show(0 === n || 1 === n ? "预置表情不可修改～" : "请先添加为表情～", 1e3)
                    }
                    )).catch((function (e) {
                        s.default.show("修改表情失败", 1e3),
                            console.log("menu error", e)
                    }
                    ));
                    break;
                case 6:
                    u.setBubbleMenu({
                        type: 6,
                        request: {
                            filePath: d || c
                        }
                    });
                    break;
                case 7:
                    u.setBubbleMenu({
                        type: 7,
                        request: {
                            messageID: f,
                            cid: p
                        }
                    });
                    break;
                case 8:
                    u.setBubbleMenu({
                        type: 8,
                        request: {
                            messageID: f,
                            cid: p
                        }
                    });
                    break;
                case 9:
                    u.setBubbleMenu({
                        type: 9,
                        request: {
                            filePath: d || c,
                            messageID: f,
                            cid: p
                        }
                    });
                    break;
                case 10:
                    window.imsdk.invoke(l.default.Event.GET_TRANSLATE_MSG, {
                        cid: {
                            ccode: o.default.getccode(i.default.conversationID)
                        },
                        mcodes: [{
                            clientId: t.clientId,
                            messageId: f
                        }]
                    }).then((function (e) { }
                    ))
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2));
        t.default = function () {
            document.body.addEventListener("contextmenu", (function (e) {
                var t, n, r = i.default.SDK;
                e.preventDefault();
                var a, s = e.target, l = i.default.conversationID, u = (null === (t = window.getSelection()) || void 0 === t ? void 0 : t.toString()) || "", c = 0 == l.ctype ? 0 : 2;
                JSON.stringify(l);
                if (s) {
                    var d = "IMG" === s.tagName.toUpperCase() && !!s.src && s.src !== location.href && !s.classList.contains("user-avatar");
                    if (s.classList.contains("imui-msg-avatar") || s.classList.contains("imui-msg-sender")) {
                        a = o.default.parents(s, "J_msg");
                        var f = {};
                        0 == c ? (1,
                            f.userid = l) : (3,
                                f.memberid = {
                                    targetId: a.getAttribute("data-targetid"),
                                    targetType: a.getAttribute("data-targettype")
                                },
                                f.tribeid = l.targetId),
                            JSON.stringify(f)
                    } else if (d && r.getSelectionText().length < 1)
                        if (-1 !== s.src.indexOf("pic:imemotion"))
                            9,
                                JSON.stringify({
                                    filepath: s.src,
                                    value: s.src,
                                    isurl: 0
                                });
                        else if (-1 !== s.src.indexOf("pic:imemoji"))
                            10,
                                JSON.stringify({
                                    filepath: s.src,
                                    value: s.src,
                                    isurl: 0
                                });
                        else {
                            var p = s.getAttribute("data-msgid")
                                , g = document.getElementById("bubble_" + p);
                            o.default.parents(g, "imui-msg-menu-wrap").focus()
                        }
                    else if (s.classList.contains("imui-msg-audio")) {
                        p = s.getAttribute("data-msgid"),
                            g = document.getElementById("bubble_" + p);
                        o.default.parents(g, "imui-msg-menu-wrap").focus()
                    } else if (s.classList.contains("msg-body-text") && r.getSelectionText().length < 1) {
                        p = s.getAttribute("data-msgid"),
                            g = document.getElementById("bubble_" + p);
                        o.default.parents(g, "imui-msg-menu-wrap").focus()
                    }
                    var m = document.body.querySelector(".context-menu");
                    if (u.length > 0 && !m && function (e) {
                        var t, n, r = null === (n = null === (t = window.getSelection()) || void 0 === t ? void 0 : t.getRangeAt(0)) || void 0 === n ? void 0 : n.getBoundingClientRect(), i = e.clientX, o = e.clientY, a = (null == r ? void 0 : r.left) || 0, s = (null == r ? void 0 : r.right) || 0, l = (null == r ? void 0 : r.top) || 0, u = (null == r ? void 0 : r.bottom) || 0;
                        return i > a && i < s && o > l && o < u
                    }(e)) {
                        var h = document.createElement("ul");
                        h.className = "context-menu";
                        var v = e.clientX + 100 > window.innerWidth ? window.innerWidth - 100 : e.clientX
                            , y = e.clientY + 30 > window.innerHeight ? window.innerHeight - 30 : e.clientY;
                        h.style.top = y + "px",
                            h.style.left = v + "px";
                        var b = document.createElement("li");
                        b.innerText = "复制",
                            b.className = "context-menu-item";
                        var _ = document.createElement("div");
                        _.className = "iconfont icon-fuzhi context-copy",
                            h.appendChild(_),
                            h.appendChild(b),
                            document.body.appendChild(h),
                            h.onclick = function () {
                                document.execCommand("copy"),
                                    document.body.removeChild(h)
                            }
                    } else
                        null === (n = window.getSelection()) || void 0 === n || n.removeAllRanges();
                    m && document.body.removeChild(m)
                }
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(6))
            , f = u(n(1))
            , p = n(4)
            , g = u(n(131))
            , m = u(n(180))
            , h = u(n(181))
            , v = u(n(182))
            , y = u(n(183))
            , b = l(n(7))
            , _ = u(n(5))
            , w = u(n(184))
            , x = u(n(186))
            , O = f.default.SDK;
        O.getAudioShowTextSetting().then((function (e) {
            f.default.updateAudioConfig(e)
        }
        ));
        var S = function (e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.logger = b.createLogger("tb-im-h5")("MessageContainer"),
                    n.scrollTopLimit = 0,
                    n.containerHeight = 0,
                    n.isBottom = !0,
                    n.state = {
                        isClose: !1,
                        holdOn: !1,
                        holdOnHeight: 0,
                        domReady: !1
                    },
                    n.containerRef = c.createRef(),
                    n.bottomRef = c.createRef(),
                    n.messageListRef = c.createRef(),
                    n.outBodyRef = c.createRef(),
                    n.hasScrollbar = function () {
                        var e = n.containerRef.current;
                        return !!e && e.scrollHeight > e.clientHeight
                    }
                    ,
                    n
            }
            return i(t, e),
                t.prototype.registerScrollEvent = function (e, t) {
                    var n = this;
                    if (void 0 === t && (t = !1),
                        t) {
                        var r = e.target
                            , i = r.scrollTop;
                        if (0 !== d.default.SCROLL_DELAY) {
                            var o = r.scrollTop;
                            this.containerHeight = r.clientHeight,
                                i <= this.scrollTopLimit && this.hasScrollbar() && f.default.isMouse && O.emitter.emit("SCROLL_REACH_TOP", o),
                                f.default.updateBottomStatus(Math.abs(i + this.containerHeight - r.scrollHeight) <= 25),
                                f.default.scrollCache.set(f.default.conversationID.ccode, {
                                    scrollHeight: f.default.isMouse ? i : 99999,
                                    reachBottom: !f.default.isMouse || f.default.isBottom
                                }),
                                O.emitter.emit("SCROLLING", {
                                    isBottom: f.default.isBottom,
                                    dom: r,
                                    scrollTop: i
                                }),
                                f.default.isBottom && O.emitter.emit("SCROLL_REACH_BOTTOM", o)
                        } else {
                            var a = r.scrollTop;
                            clearTimeout(this.scrollingTimer),
                                this.scrollingTimer = setTimeout((function () {
                                    n.containerHeight = r.clientHeight,
                                        a <= n.scrollTopLimit && f.default.isMouse && O.emitter.emit("SCROLL_REACH_TOP", a),
                                        f.default.updateBottomStatus(Math.abs(a + n.containerHeight - r.scrollHeight) <= 25),
                                        f.default.scrollCache.set(f.default.conversationID.ccode, {
                                            scrollHeight: f.default.isMouse ? i : 99999,
                                            reachBottom: !f.default.isMouse || f.default.isBottom
                                        }),
                                        O.emitter.emit("SCROLLING", {
                                            isBottom: f.default.isBottom,
                                            dom: r,
                                            scrollTop: a
                                        }),
                                        f.default.isBottom && O.emitter.emit("SCROLL_REACH_BOTTOM", a)
                                }
                                ), parseInt(String(d.default.SCROLL_DELAY)) + 10)
                        }
                    }
                }
                ,
                t.prototype.registerMouseEvent = function () {
                    f.default.updateMouseStatus(!0)
                }
                ,
                t.prototype.componentDidMount = function () {
                    this.handleCalculatePosition(this.messageListRef.current)
                }
                ,
                t.prototype.componentWillUnmount = function () {
                    this.unmountObserver(this.messageListRef.current)
                }
                ,
                t.prototype.handleCalculatePosition = function (e) {
                    if (e && MutationObserver) {
                        var t = this.props.viewStore.msgList;
                        if (t.length >= 20)
                            return console.log("撑一撑，msgList 大于20， 取消"),
                                void this.setState({
                                    holdOn: !1,
                                    holdOnHeight: 0
                                });
                        if (t.length <= 0)
                            return console.log("撑一撑，msgList 小于0， 取消"),
                                void this.setState({
                                    holdOn: !1,
                                    holdOnHeight: 0
                                });
                        this.addObserver(e);
                        var n = e.getBoundingClientRect().height
                            , r = this.outBodyRef.current;
                        if (r) {
                            var i = r.getBoundingClientRect().height
                                , o = i - n;
                            console.log("撑一撑，containerHeight", i, "message list height", n, "holdOnHeight", o),
                                n < i ? (this.setState({
                                    holdOn: !0,
                                    holdOnHeight: o - 5
                                }),
                                    this.containerRef.current && (this.containerRef.current.scrollTop = 20)) : (console.log("撑一撑，高度大于一屏， 取消.", t.length),
                                        this.setState({
                                            holdOn: !1,
                                            holdOnHeight: 0
                                        }))
                        }
                    }
                }
                ,
                t.prototype.unmountObserver = function (e) {
                    e && e.mutationObserver && (console.log("撑一撑, 取消"),
                        e.mutationObserver.disconnect(),
                        e.mutationObserver = null,
                        this.setState({
                            holdOn: !1,
                            holdOnHeight: 0
                        }))
                }
                ,
                t.prototype.addObserver = function (e) {
                    var t = this;
                    e && (e.mutationObserver || (e.mutationObserver = new MutationObserver((function (n) {
                        if (Array.isArray(n) && n[0]) {
                            var r = n[0];
                            if ("attributes" === r.type && "J_msg_list" === _.default(r, "target.id"))
                                return void console.log("撑一撑，mutation.", r.target.id)
                        }
                        t.handleCalculatePosition(e)
                    }
                    )),
                        e.mutationObserver.observe(e, {
                            childList: !0,
                            attributes: !0,
                            characterData: !0,
                            subtree: !0
                        })))
                }
                ,
                t.prototype.render = function () {
                    var e = this
                        , t = this.props.viewStore
                        , n = t.msgList
                        , r = t.isBubble
                        , i = t.msgCurInvokingWay
                        , o = t.hasMore
                        , a = this.state
                        , s = a.holdOn
                        , l = a.holdOnHeight
                        , u = i.get(f.default.conversationID.ccode);
                    this.logger.log("msg container re-render", "caused by", u, f.default.conversationID.ccode, "length", n.length);
                    var d = "msg-wrap " + (r ? "" : "imui-msg-normal-wrap")
                        , p = n.length > 0;
                    console.log("hasMessage---", p, f.default.changeStart);
                    var b = {};
                    s && o && (b = {
                        marginBottom: l + 5
                    });
                    var _ = document.getElementById("J_msg_list") || null;
                    return c.createElement("div", {
                        className: "msg-outer-body",
                        id: "msgOutBody",
                        ref: this.outBodyRef
                    }, p ? c.createElement(m.default, null) : null, c.createElement("div", {
                        style: {
                            overflowY: f.default.allowScroll ? "auto" : "hidden"
                        },
                        id: "J_msgContainer",
                        "data-name": "message render container",
                        ref: this.containerRef,
                        onScroll: function (t) {
                            return e.registerScrollEvent(t, p)
                        },
                        onWheel: function () {
                            e.registerMouseEvent()
                        },
                        onMouseDown: function () {
                            e.registerMouseEvent()
                        },
                        onKeyUp: function () {
                            e.registerMouseEvent()
                        },
                        className: d
                    }, c.createElement(h.default, {
                        hasMore: o,
                        messageLength: n.length
                    }), c.createElement("div", {
                        id: "J_msg_list",
                        ref: this.messageListRef,
                        style: b
                    }, p ? c.createElement(g.default, {
                        msgList: n,
                        invokingWay: u,
                        isBubble: r
                    }) : c.createElement("div", {
                        style: f.default.changeStart ? {
                            height: (_ ? 2 * (null == _ ? void 0 : _.offsetHeight) : 1e4) + "px"
                        } : {}
                    }), c.createElement("div", {
                        ref: this.bottomRef,
                        id: "J_msgBtm"
                    }))), p ? c.createElement(v.default, null) : null, p ? c.createElement(y.default, null) : null, c.createElement(w.default, null), c.createElement(x.default, null))
                }
                ,
                t = s([p.observer], t)
        }(c.Component);
        t.default = S
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(1))
            , p = c(n(132))
            , g = c(n(170))
            , m = c(n(172))
            , h = u(n(12))
            , v = n(4)
            , y = n(16)
            , b = c(n(2))
            , _ = c(n(173))
            , w = c(n(177))
            , x = n(55)
            , O = n(3)
            , S = u(n(7))
            , M = n(13)
            , P = c(n(5))
            , E = n(10)
            , k = f.default.SDK
            , I = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.state = {
                        bgColor: "",
                        rgb: ""
                    },
                        t.logger = S.createLogger("tb-im-h5")("MessageList"),
                        t.diff = function () {
                            var e = t.props.msgList.filter((function (e) {
                                return "system" !== e.msgtype && "custom" !== e.msgtype
                            }
                            ))
                                , n = document.getElementById("J_msgContainer")
                                , r = n ? Array.from(n.children).filter((function (e) {
                                    return e.classList.contains("imui-msg")
                                }
                                )) : [];
                            if (e.length !== r.length) {
                                var i = r.filter((function (t) {
                                    var n = t.getAttribute("id") || "";
                                    return !e.some((function (e) {
                                        return e.messageId === n || e.clientId === n
                                    }
                                    ))
                                }
                                ));
                                if (0 !== i.length) {
                                    var o = {
                                        ccode: f.default.conversationID.ccode,
                                        time: y.getDateLocaleString(),
                                        msgList: i.map((function (e) {
                                            return {
                                                clientId: e.getAttribute("data-clientId"),
                                                messageId: e.getAttribute("data-messageId"),
                                                fromNick: e.getAttribute("data-fromnick"),
                                                toNick: e.getAttribute("data-tonick")
                                            }
                                        }
                                        ))
                                    };
                                    t.logger.log("出现串消息异常", o),
                                        window.tracker.log({
                                            code: 12,
                                            msg: JSON.stringify(o),
                                            sampleRate: 1
                                        }),
                                        i.forEach((function (e) {
                                            if (n && n.contains(e))
                                                try {
                                                    n.removeChild(e)
                                                } catch (n) {
                                                    t.logger.log("删除异常消息失败", "error", n, "DOM", e)
                                                }
                                        }
                                        ))
                                }
                            }
                        }
                        ,
                        t.robotMsg = function (e, t) {
                            var n;
                            k.doWXAction({
                                wangxurl: 'wangx://qnplugin/protocol?qnprotocolcmd=openComponent&param={"component":"robotmsg","param":{"knowledge":' + JSON.stringify(e) + ',"biztype":"robot"}}',
                                actionrect: {
                                    let: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cardrect: {
                                    left: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cid: {
                                    ccode: null === (n = null === f.default || void 0 === f.default ? void 0 : f.default.conversationID) || void 0 === n ? void 0 : n.ccode
                                }
                            }),
                                x.utLogClK({
                                    pageName: "QNAPP_Chatwindow_menu",
                                    monitorName: "robot_correct_click",
                                    args: {
                                        msgId: t.messageId
                                    }
                                })
                        }
                        ,
                        t.perfLog = function () {
                            var e = f.default.msgInvokingWay.get(f.default.conversationID.ccode)
                                , t = f.default.msgCurInvokingWay.get(f.default.conversationID.ccode);
                            if (e && (e.splice(e.indexOf(t), 1),
                                M.renderPerf("update view finished -> " + t),
                                0 === e.length)) {
                                var n = f.default.dxCountStore.values().reduce((function (e, t) {
                                    return e + ("number" == typeof t ? t : 0)
                                }
                                ), 0);
                                f.default.dxCountStore.length == n ? (M.renderPerf("endfirst"),
                                    f.default.getLocalMsging || f.default.getNewMsging || f.default.getRemoteMsging || (M.renderPerf("endLNR"),
                                        M.renderPerf("end")),
                                    !f.default.getLocalMsging || f.default.getNewMsging || f.default.getRemoteMsging || M.renderPerf("endNR"),
                                    f.default.getLocalMsging && f.default.getNewMsging && !f.default.getRemoteMsging && M.renderPerf("endR"),
                                    !f.default.getLocalMsging && f.default.getNewMsging && f.default.getRemoteMsging && M.renderPerf("endL"),
                                    f.default.getLocalMsging && !f.default.getNewMsging && f.default.getRemoteMsging && M.renderPerf("endN"),
                                    f.default.getLocalMsging || !f.default.getNewMsging || f.default.getRemoteMsging || M.renderPerf("endLR"),
                                    f.default.getLocalMsging || f.default.getNewMsging || !f.default.getRemoteMsging || M.renderPerf("endLN"),
                                    !f.default.getLocalMsging || f.default.getNewMsging || f.default.getRemoteMsging || M.renderPerf("endRN")) : M.renderPerf("endfirst")
                            }
                        }
                        ,
                        t.checkEmoji = function (e) {
                            var t = !0;
                            return e.find((function (e) {
                                3 !== P.default(e, "type", "") && (t = !1)
                            }
                            )),
                                t
                        }
                        ,
                        t.handleSource = function (e) {
                            var t, n, r, i = null === (n = null === (t = null == e ? void 0 : e.ext) || void 0 === t ? void 0 : t.bizDataExt) || void 0 === n ? void 0 : n.partner_bizid, o = null;
                            try {
                                var a = P.default(e, "ext.bizDataExt.amp_tag", "");
                                o = null === (r = JSON.parse(a)) || void 0 === r ? void 0 : r.icon
                            } catch (e) { }
                            k.openMsgSource({
                                bizId: i,
                                iconKey: o
                            })
                        }
                        ,
                        t
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        this.logger.log("componentDidCatch", e),
                            b.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "MessageList Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.getReadStatusText = function (e) {
                        return "file" !== e.msgtype ? e.readflag ? "已读" : "未读" : e.readflag ? "已查收" : "未查收"
                    }
                    ,
                    t.prototype.addGroupAtClassName = function (e) {
                        return e.isself || "group" !== f.default.chatType ? "" : "add-at J_addAt"
                    }
                    ,
                    t.prototype.handleAvatorClick = function (e) {
                        e.isself || "group" !== f.default.chatType || f.default.SDK.insertAtMember({
                            targetId: e.targetId,
                            targetType: e.targetType
                        })
                    }
                    ,
                    t.prototype.renderSecurityNotify = function (e) {
                        if (e.ext && e.ext.security_notify) {
                            if (0 === e.ext.security_notify.type)
                                return d.createElement("div", {
                                    className: "J_msg imui-msg-system",
                                    "data-security": "0"
                                }, d.createElement("span", null, e.ext.security_notify.sender_remind_msg));
                            if (1 === e.ext.security_notify.type)
                                return d.createElement("div", {
                                    className: "J_msg imui-msg-system",
                                    "data-security": "1"
                                }, d.createElement("span", null, e.ext.security_notify.receiver_remind_msg));
                            if (2 === e.ext.security_notify.type)
                                return e.isself ? d.createElement("div", {
                                    className: "J_msg imui-msg-system",
                                    "data-security": "2"
                                }, d.createElement("span", null, e.ext.security_notify.sender_remind_msg)) : d.createElement("div", {
                                    className: "J_msg imui-msg-system",
                                    "data-security": "2"
                                }, d.createElement("span", null, e.ext.security_notify.receiver_remind_msg))
                        }
                    }
                    ,
                    t.prototype.componentWillMount = function () {
                        var e = this;
                        k.skinTheme({
                            isdefault: 0
                        }).then((function (t) {
                            e.setState({
                                bgColor: P.default(t, "result.lightRgb", ""),
                                rgb: P.default(t, "result.rgb", "")
                            }),
                                f.default.updateSkinConfig({
                                    lightRgb: P.default(t, "result.lightRgb", ""),
                                    rgb: P.default(t, "result.rgb", "")
                                })
                        }
                        ))
                    }
                    ,
                    t.prototype.componentDidMount = function () {
                        _.default.init(),
                            "true" !== localStorage.getItem("modifyTip") && w.default.init();
                        var e = document.getElementsByTagName("video")
                            , t = e.length;
                        if (t > 1)
                            for (var n = function (n) {
                                e[n].addEventListener("play", (function () {
                                    for (var r = 0; r < t; r++)
                                        n != r && e[r].pause()
                                }
                                ))
                            }, r = 0; r < t; r++)
                                n(r);
                        E.addAriaClickMenu()
                    }
                    ,
                    t.prototype.componentDidUpdate = function () {
                        this.diff(),
                            this.perfLog()
                    }
                    ,
                    t.prototype.componentWillUnmount = function () {
                        var e = document.getElementById("msgOutBody");
                        e && Array.from(e.children).filter((function (e) {
                            return e.classList.contains("popup-over")
                        }
                        )).forEach((function (t) {
                            return e.removeChild(t)
                        }
                        ));
                        var t = document.getElementsByTagName("video")
                            , n = t.length;
                        if (n > 1)
                            for (var r = 0; r < n; r++)
                                t[r].removeEventListener("play", (function () { }
                                ));
                        E.removeAriaClickMenu()
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this
                            , t = this.props
                            , n = t.msgList
                            , r = t.isBubble
                            , i = f.default.skinConfig
                            , a = f.default.selectBox;
                        return console.log("viewStore.conversationID.bizeType", f.default.conversationID.bizeType),
                            n.length ? (this.logger.log("MessageList|NO-LIMIT", "re-render", "length:", n.length, "messageIdList:", n.map((function (e) {
                                return {
                                    id: e.clientId || e.messageId
                                }
                            }
                            ))),
                                n.map((function (t, s) {
                                    var l, u, c = +new Date, v = O.toJS(P.default(t, "content.jsview", [])), y = P.default(t, "content.internal", "none"), _ = !1, w = !1, x = P.default(t, "ext.templateDynamicData.knowledge", "");
                                    try {
                                        _ = !(!y || -1 === y.indexOf("40001"))
                                    } catch (e) {
                                        _ = !1
                                    }
                                    var S = null
                                        , M = !1;
                                    try {
                                        var I = P.default(t, "ext.bizDataExt.amp_tag", "");
                                        S = "icon-" + (null === (l = JSON.parse(I)) || void 0 === l ? void 0 : l.icon)
                                    } catch (e) { }
                                    try {
                                        var C = P.default(t, "ext.saas_msg_time", "") < P.default(t, "ext.templateDynamicData.knowledge.expiredTime", "");
                                        (w = !!P.default(t, "ext.templateDynamicData.knowledge", "") && C) && k.utEXP({
                                            pageName: "QNAPP_Chatwindow_menu",
                                            monitorName: "robot_correct_show",
                                            args: {
                                                msgId: t.messageId
                                            }
                                        })
                                    } catch (e) { }
                                    try {
                                        M = b.default.getIsDXCard(t)
                                    } catch (e) {
                                        console.error(e)
                                    }
                                    if (("system" !== t.msgtype && "custom" !== t.msgtype || "custom" === t.msgtype && _) && !M) {
                                        var T = !((null === (u = t.ext) || void 0 === u ? void 0 : u.senderMainAccountId) === +f.default.loginID.havMainId) && t.isside;
                                        return d.createElement(d.Fragment, {
                                            key: t.messageId || t.clientId
                                        }, d.createElement("div", o({
                                            className: "J_msg imui-msg" + (T ? " imui-msg-r" : " imui-msg-l") + " aria-" + s,
                                            id: t.messageId || t.clientId,
                                            "data-messageid": t.messageId,
                                            "data-clientid": t.clientId,
                                            "data-targettype": t.targetType,
                                            "data-targetid": t.targetId,
                                            "data-sendtime": t.sendTime,
                                            "data-fromnick": t.fromNick,
                                            "data-tonick": t.toNick,
                                            "aria-labelledby": "msg_" + (t.messageId || t.clientId),
                                            "aria-label": 0 === s ? "最后一条消息" : s === n.length - 1 ? "最新消息" : ""
                                        }, 0 === s && o({
                                            accessKey: "Z"
                                        }, E.getTabIndex()), s === n.length - 1 && o({
                                            accessKey: "A"
                                        }, E.getTabIndex()), {
                                            "aria-roledescription": "正文"
                                        }), !T && a ? d.createElement("input", {
                                            className: "icon st-btn",
                                            onClick: function () {
                                                t.messageId && f.default.selectList.has(t.messageId) ? (t.messageId && f.default.selectList.delete(t.messageId),
                                                    t.messageId && f.default.selectNickList.delete(t.targetId),
                                                    t.messageId && f.default.selectType.delete(t.messageId)) : ("text" !== t.msgtype && "image" !== t.msgtype && "location" !== t.msgtype || t.messageId && f.default.selectList.set(t.messageId, {
                                                        messageId: t.messageId,
                                                        clientId: t.clientId
                                                    }),
                                                        t.messageId && f.default.selectNickList.set(t.targetId, t.subNick),
                                                        t.messageId && f.default.selectType.set(t.messageId, t.msgtype))
                                            },
                                            type: "checkBox"
                                        }) : null, t.avatar ? d.createElement("div", {
                                            className: "imui-msg-avatar " + e.addGroupAtClassName(t),
                                            style: {
                                                backgroundImage: "url('" + t.avatar + "')",
                                                backgroundSize: "cover"
                                            },
                                            onClick: e.handleAvatorClick.bind(e, t)
                                        }) : "", d.createElement("div", {
                                            className: "imui-msg-content"
                                        }, d.createElement("div", {
                                            className: "imui-msg-content-inner"
                                        }, d.createElement("div", o({
                                            className: "imui-msg-head"
                                        }, E.getTabIndex(), {
                                            role: "heading"
                                        }), S && T && r && d.createElement("span", {
                                            className: "msg-source-wrap",
                                            onClick: e.handleSource.bind(e, t)
                                        }, d.createElement("i", {
                                            className: "iconfont " + S,
                                            style: {
                                                color: "#3D7FFF",
                                                fontSize: "12px"
                                            }
                                        }), d.createElement("span", {
                                            className: "msg-source-desc"
                                        }, "icon-people_fill" === S ? "人工发送" : "icon-robot_fill" === S ? "机器人发送" : "icon-qianiu_fill" === S ? "系统发送" : "")), T && r ? d.createElement("span", {
                                            className: "imui-msg-date"
                                        }, b.default.dateFormatter(t.sendTime)) : null, d.createElement("span", {
                                            className: "imui-msg-sender " + e.addGroupAtClassName(t),
                                            title: t.subNick,
                                            onClick: e.handleAvatorClick.bind(e, t),
                                            style: {
                                                color: T || r ? T && !r ? "#999" : "" : "#" + i.rgb,
                                                marginLeft: t.isself && r ? "12px" : "",
                                                marginRight: t.isself && r ? 0 : ""
                                            }
                                        }, t.subNick), T && r ? null : d.createElement("span", {
                                            className: "imui-msg-date"
                                        }, b.default.dateFormatter(t.sendTime)), S && !T || !r && S ? d.createElement("span", {
                                            className: "msg-source-wrap",
                                            onClick: e.handleSource.bind(e, t)
                                        }, d.createElement("i", {
                                            className: "iconfont " + S,
                                            style: {
                                                color: "#3D7FFF",
                                                fontSize: "12px"
                                            }
                                        }), d.createElement("span", {
                                            className: "msg-source-desc"
                                        }, "icon-people_fill" === S ? "人工发送" : "icon-robot_fill" === S ? "机器人发送" : "icon-qianiu_fill" === S ? "系统发送" : "")) : null), d.createElement("div", {
                                            className: r ? "msg-content-body" : "msg-content-nobody"
                                        }, "image" === t.msgtype || "video" === t.msgtype || "template" === t.msgtype || "noSupport" === t.msgtype && t.templateId || "file" === t.msgtype || "text" === t.msgtype && e.checkEmoji(v) || "polymor" === t.msgtype || _ ? d.createElement("div", {
                                            style: {
                                                maxWidth: "image" === t.msgtype ? "300px" : "100%"
                                            }
                                        }, d.createElement(p.default, {
                                            msg: O.toJS(t)
                                        })) : d.createElement("div", {
                                            className: "msg-body-html",
                                            ref: "msg_" + (t.messageId || t.clientId),
                                            style: {
                                                backgroundColor: T && r ? "#" + i.lightRgb : "",
                                                maxWidth: "80%"
                                            }
                                        }, d.createElement(p.default, {
                                            msg: O.toJS(t),
                                            isBubble: r
                                        })), "" + f.default.conversationID.bizeType == "11012" ? d.createElement(d.Fragment, null) : d.createElement("span", {
                                            className: "status-read-done",
                                            style: {
                                                color: !T || "未读" !== e.getReadStatusText(t) && "未查收" !== e.getReadStatusText(t) ? "#999" : "#" + i.rgb,
                                                display: "flex",
                                                justifyContent: "flex-end",
                                                minWidth: "27px"
                                            }
                                        }, !r && !t.issendfail && 0 == t.status && T && t.isshowReadflag && Number(t.sendTime) + 31536e6 > c && "single" === f.default.chatType ? d.createElement("span", {
                                            className: "status-read-done",
                                            style: {
                                                color: !T || "未读" !== e.getReadStatusText(t) && "未查收" !== e.getReadStatusText(t) ? "#999" : "#" + i.rgb,
                                                display: "flex",
                                                justifyContent: "flex-end",
                                                minWidth: "27px"
                                            }
                                        }, e.getReadStatusText(t)) : "", w && !r && d.createElement("span", {
                                            className: "status-modify",
                                            onClick: function () {
                                                e.robotMsg(x, t)
                                            }
                                        }, "纠错")), d.createElement("div", {
                                            className: "imui-msg-op-wrap"
                                        }, d.createElement("div", {
                                            className: "imui-msg-status"
                                        }, t.issendfail && d.createElement("span", {
                                            className: "status-icon status-error J_resend",
                                            onClick: h.handleResend.bind(e, O.toJS(t))
                                        })), d.createElement(m.default, {
                                            msg: t,
                                            context: e,
                                            last: s === n.length - 1
                                        }))), "" + f.default.conversationID.bizeType == "11012" ? d.createElement(d.Fragment, null) : d.createElement("span", {
                                            className: "status-read-done",
                                            style: {
                                                color: !T || "未读" !== e.getReadStatusText(t) && "未查收" !== e.getReadStatusText(t) ? "#999" : "#" + i.rgb,
                                                display: "flex",
                                                justifyContent: "flex-end"
                                            }
                                        }, w && r && d.createElement("span", {
                                            className: "status-modify",
                                            onClick: function () {
                                                e.robotMsg(x, t)
                                            }
                                        }, "纠错"), r && !t.issendfail && 0 == t.status && T && t.isshowReadflag && Number(t.sendTime) + 31536e6 > c && "single" === f.default.chatType ? d.createElement("span", null, e.getReadStatusText(t)) : "")), e.renderSecurityNotify(t)), T && a ? d.createElement("input", {
                                            className: "icon st-btn",
                                            id: "checkbox-" + t.messageId,
                                            onChange: function () {
                                                t.messageId && f.default.selectList.has(t.messageId) ? (t.messageId && f.default.selectList.delete(t.messageId),
                                                    t.messageId && f.default.selectNickList.delete(t.targetId),
                                                    t.messageId && f.default.selectType.delete(t.messageId)) : ("text" !== t.msgtype && "image" !== t.msgtype && "location" !== t.msgtype || t.messageId && f.default.selectList.set(t.messageId, {
                                                        messageId: t.messageId,
                                                        clientId: t.clientId
                                                    }),
                                                        t.messageId && f.default.selectNickList.set(t.targetId, t.subNick),
                                                        t.messageId && f.default.selectType.set(t.messageId, t.msgtype))
                                            },
                                            type: "checkBox"
                                        }) : null))
                                    }
                                    return d.createElement(d.Fragment, {
                                        key: t.messageId || t.clientId
                                    }, f.default.ariaHelp ? d.createElement("div", o({
                                        "aria-labelledby": "msg_" + (t.messageId || t.clientId),
                                        "aria-label": 0 === s ? "最后一条消息" : s === n.length - 1 ? "最新消息" : ""
                                    }, 0 === s && o({
                                        accessKey: "Z"
                                    }, E.getTabIndex()), s === n.length - 1 && o({
                                        accessKey: "A"
                                    }, E.getTabIndex()), {
                                        "aria-roledescription": "正文"
                                    }), d.createElement(g.default, {
                                        msg: t
                                    })) : d.createElement(g.default, {
                                        msg: t
                                    }))
                                }
                                ))) : null
                    }
                    ,
                    t = l([v.observer], t)
            }(d.Component);
        t.default = I
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = u(n(133))
            , g = u(n(31))
            , m = u(n(135))
            , h = u(n(136))
            , v = u(n(137))
            , y = u(n(138))
            , b = u(n(44))
            , _ = u(n(159))
            , w = u(n(163))
            , x = u(n(164))
            , O = u(n(165))
            , S = u(n(166))
            , M = u(n(167))
            , P = u(n(168))
            , E = u(n(33))
            , k = u(n(6))
            , I = u(n(169))
            , C = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        f.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "Message Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        if (!e.msgtype)
                            return k.default.NOT_SUPPORT_MSG;
                        switch (e.msgtype) {
                            case "text":
                                return c.createElement(p.default, {
                                    key: "TextMessage_" + (e.messageId || e.clientId),
                                    msg: e,
                                    isBubble: this.props.isBubble
                                });
                            case "image":
                                return c.createElement(g.default, {
                                    key: "ImageMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "voice":
                                return c.createElement(m.default, {
                                    key: "AudioMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "video":
                                return c.createElement(h.default, {
                                    key: "VideoMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "file":
                                return c.createElement(v.default, {
                                    key: "FileMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "location":
                                return c.createElement(y.default, {
                                    key: "LocationMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "weexCard":
                                return k.default.NOT_SUPPORT_MSG;
                            case "shareBizCard":
                                return c.createElement(O.default, {
                                    key: "ShareBizCardMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "shareShopCard":
                                return c.createElement(S.default, {
                                    key: "ShareShopCardMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "shareLiveCard":
                                return k.default.NOT_SUPPORT_MSG;
                            case "shareOtherCard":
                                return c.createElement(P.default, {
                                    key: "ShareOtherCardMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "businessCard":
                                return c.createElement(x.default, {
                                    key: "BusinessCardMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "feedCard":
                                return c.createElement(M.default, {
                                    key: "FeedCardMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "polymor":
                                return c.createElement(b.default, {
                                    key: "PolymorMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "template":
                                return c.createElement(_.default, {
                                    key: "TemplateMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "imageText":
                                return c.createElement(w.default, {
                                    key: "ImageTextMessage_" + (e.messageId || e.clientId),
                                    msg: e
                                });
                            case "custom":
                                return c.createElement(I.default, {
                                    msg: e
                                });
                            case "noSupport":
                                return c.createElement(E.default, {
                                    msg: e
                                });
                            default:
                                return c.createElement("div", null, k.default.NOT_SUPPORT_MSG)
                        }
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = C
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(1))
            , p = n(4)
            , g = c(n(28))
            , m = c(n(29))
            , h = c(n(30))
            , v = u(n(7))
            , y = c(n(5))
            , b = n(10)
            , _ = c(n(6))
            , w = c(n(2))
            , x = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.logger = v.createLogger("tb-im-h5")("TextMessage"),
                        t.state = {
                            isTrans: !1
                        },
                        t
                }
                return i(t, e),
                    t.prototype.onImageDblClick = function () {
                        var e = this.props.msg
                            , t = y.default(e, "ext.templateDynamicData.qt")
                            , n = y.default(t, "messageId")
                            , r = y.default(e, "conversationId")
                            , i = y.default(t, "originalData.filePath") || y.default(t, "originalData.jsview.0.value.pic") || y.default(t, "originalData.jsview.0.value.url");
                        f.default.SDK.setBubbleMenu({
                            type: 1,
                            request: {
                                filePath: i,
                                messageID: n,
                                cid: r
                            }
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t, n = this, r = this.props.msg, i = f.default.fontConfig, a = i.fontSizeStr, s = i.fontRGBColor, l = r.isself ? {
                            color: s,
                            fontSize: a
                        } : {
                            color: "#111",
                            fontSize: "14px"
                        }, u = this.props.msg.content.jsview, c = this.props.msg.content.desensitizationReceiverMsgJsView, p = /\n|\r|\r\n/g, v = y.default(r, "ext.templateDynamicData"), x = y.default(r, "extLocal.translate"), O = y.default(v, "qt.fromid.display"), S = y.default(v, "qt.t") || y.default(v, "qt.templateId"), M = y.default(v, "qt.originalData.url"), P = y.default(v, "qt.originalData.jsview"), E = y.default(v, "qt.originalData.desensitizationReceiverMsgJsView");
                        if (!u)
                            return this.logger.log("未找到 jsview", this.props.msg),
                                null;
                        var k = c && r.messageId && !f.default.abuseList.has(null == r ? void 0 : r.messageId) ? c : u
                            , I = E && (null === (e = null == v ? void 0 : v.qt) || void 0 === e ? void 0 : e.messageId) && !f.default.abuseList.has(null === (t = null == v ? void 0 : v.qt) || void 0 === t ? void 0 : t.messageId) ? E : P
                            , C = !r.isself && x && f.default.isOverseaUser;
                        return d.createElement("div", null, v && 101 === S ? d.createElement("div", {
                            className: "text-qt"
                        }, d.createElement("div", {
                            className: "text-qt-ori"
                        }, d.createElement("span", {
                            className: "text-qt-sender"
                        }, O, ":"), I.map((function (e, t) {
                            switch (e.type) {
                                case 0:
                                    return e.value.text && (e.value.text = e.value.text.replace(p, "\n")),
                                        d.createElement("span", {
                                            key: "a" + t,
                                            style: l,
                                            className: "msg-body-text",
                                            "data-msgid": null == r ? void 0 : r.messageId
                                        }, e.value.text);
                                case 1:
                                    return d.createElement(g.default, {
                                        key: "a" + t,
                                        jsviewValue: e.value
                                    });
                                case 2:
                                case 3:
                                    return d.createElement(h.default, {
                                        key: "a" + t,
                                        jsviewValue: e.value
                                    });
                                default:
                                    return ""
                            }
                        }
                        )))) : null, v && 102 === S ? d.createElement("div", {
                            className: "text-qt"
                        }, d.createElement("div", {
                            className: "text-qt-ori"
                        }, d.createElement("span", {
                            className: "text-qt-sender"
                        }, O, ":"), d.createElement("img", {
                            src: M,
                            className: "text-qt-img",
                            onDoubleClick: this.onImageDblClick.bind(this)
                        }))) : null, k.map((function (e, t) {
                            var i;
                            switch (e.type) {
                                case 0:
                                    return e.value.text && (e.value.text = e.value.text.replace(p, "\n")),
                                        d.createElement("span", o({
                                            key: "a" + t,
                                            style: l,
                                            className: "msg-body-text",
                                            "data-msgid": null == r ? void 0 : r.messageId,
                                            "aria-label": null === (i = null == e ? void 0 : e.value) || void 0 === i ? void 0 : i.text
                                        }, b.getTabIndex(), {
                                            "aria-roledescription": "文本"
                                        }), e.value.text);
                                case 1:
                                    return d.createElement(g.default, {
                                        key: "a" + t,
                                        jsviewValue: e.value
                                    });
                                case 2:
                                case 3:
                                    return d.createElement(h.default, {
                                        key: "a" + t,
                                        jsviewValue: e.value
                                    });
                                case 4:
                                    return e.value.text;
                                case 5:
                                    return d.createElement(m.default, {
                                        key: "a" + t,
                                        jsviewValue: e.value,
                                        isBubble: n.props.isBubble
                                    });
                                default:
                                    return ""
                            }
                        }
                        )), C && d.createElement("div", {
                            className: "msg-body-trans"
                        }, d.createElement("div", {
                            className: "msg-body-trans-split"
                        }), d.createElement("span", o({
                            key: "a" + x,
                            style: l,
                            className: "msg-body-text",
                            "data-msgid": null == r ? void 0 : r.messageId,
                            "aria-label": x
                        }, b.getTabIndex(), {
                            "aria-roledescription": "文本"
                        }), x), d.createElement("div", {
                            className: "msg-body-trans-tip"
                        }, d.createElement("span", {
                            className: "msg-body-trans-tip-text"
                        }, "由阿里提供翻译支持"), d.createElement("span", {
                            className: "msg-body-trans-tip-action",
                            onClick: function () {
                                window.imsdk.invoke(_.default.Event.CANCEL_MSG_TRANSLATE, {
                                    cid: {
                                        ccode: w.default.getccode(f.default.conversationID)
                                    },
                                    mcodes: [{
                                        clientId: r.clientId,
                                        messageId: r.messageId
                                    }]
                                }).then((function (e) {
                                    console.log("CANCEL_MSG_TRANSLATE---", e)
                                }
                                ))
                            }
                        }, "取消本条翻译"))))
                    }
                    ,
                    t = l([p.observer], t)
            }(d.Component);
        t.default = x
    }
    , function (e, t, n) {
        "use strict";
        n.r(t),
            function (e, r) {
                n.d(t, "isWeb", (function () {
                    return i
                }
                )),
                    n.d(t, "isNode", (function () {
                        return o
                    }
                    )),
                    n.d(t, "isWeex", (function () {
                        return a
                    }
                    )),
                    n.d(t, "isKraken", (function () {
                        return s
                    }
                    )),
                    n.d(t, "isMiniApp", (function () {
                        return l
                    }
                    )),
                    n.d(t, "isByteDanceMicroApp", (function () {
                        return u
                    }
                    )),
                    n.d(t, "isBaiduSmartProgram", (function () {
                        return c
                    }
                    )),
                    n.d(t, "isKuaiShouMiniProgram", (function () {
                        return d
                    }
                    )),
                    n.d(t, "isWeChatMiniProgram", (function () {
                        return f
                    }
                    )),
                    n.d(t, "isQuickApp", (function () {
                        return p
                    }
                    )),
                    n.d(t, "isPHA", (function () {
                        return g
                    }
                    )),
                    n.d(t, "isFRM", (function () {
                        return m
                    }
                    )),
                    n.d(t, "isWindVane", (function () {
                        return v
                    }
                    ));
                var i = "undefined" != typeof window && "onload" in window
                    , o = void 0 !== e && !(!e.versions || !e.versions.node)
                    , a = "undefined" != typeof WXEnvironment && "Web" !== WXEnvironment.platform
                    , s = "undefined" != typeof __kraken__
                    , l = "undefined" != typeof my && null !== my && void 0 !== my.alert
                    , u = "undefined" != typeof tt && null !== tt && void 0 !== tt.showToast
                    , c = "undefined" != typeof swan && null !== swan && void 0 !== swan.showToast
                    , d = "undefined" != typeof ks && null !== ks && void 0 !== ks.showToast
                    , f = !u && "undefined" != typeof wx && null !== wx && (void 0 !== wx.request || void 0 !== wx.miniProgram)
                    , p = null != r && void 0 !== r.callNative && !a
                    , g = i && "object" == typeof pha
                    , m = l && i && my.isFRM
                    , h = "object" == typeof navigator ? navigator.userAgent || navigator.swuserAgent : ""
                    , v = /.+AliApp\((\w+)\/((?:\d+\.)+\d+)\).* .*(WindVane)(?:\/((?:\d+\.)+\d+))?.*/.test(h) && i && "undefined" != typeof WindVane && void 0 !== WindVane.call;
                t.default = {
                    isWeb: i,
                    isNode: o,
                    isWeex: a,
                    isKraken: s,
                    isMiniApp: l,
                    isByteDanceMicroApp: u,
                    isBaiduSmartProgram: c,
                    isKuaiShouMiniProgram: d,
                    isWeChatMiniProgram: f,
                    isQuickApp: p,
                    isPHA: g,
                    isWindVane: v,
                    isFRM: m
                }
            }
                .call(this, n(17), n(22))
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(1))
            , p = n(4)
            , g = n(12)
            , m = n(10)
            , h = c(n(5))
            , v = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.state = {
                        isPlaying: !1
                    },
                        t
                }
                return i(t, e),
                    t.prototype.componentDidMount = function () {
                        var e = this;
                        f.default.SDK.emitter.on("AUDIO_STOP", (function () {
                            e.setState({
                                isPlaying: !1
                            })
                        }
                        ))
                    }
                    ,
                    t.prototype.onAudioPlay = function (e) {
                        var t = f.default.SDK;
                        this.state.isPlaying ? (this.setState({
                            isPlaying: !1
                        }),
                            t.stopAudio()) : (t.playAudio({
                                filepath: e
                            }),
                                this.setState({
                                    isPlaying: !0
                                }),
                                g.setMsgReadStatus([this.props.msg]))
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t = f.default.audioConfig, n = this.props.msg, r = h.default(n, "messageId"), i = n.content.jsview || [], a = (n.content.ext && n.content.ext.audio_text,
                            h.default(n, "ext.bizDataExt.audio_text"));
                        i.forEach((function (t) {
                            var n = t.value;
                            e = n.localfile || n.url || ""
                        }
                        ));
                        var s = n.content.duration;
                        return d.createElement("div", o({
                            className: "audio-wrap" + (a ? " show-audio-text" : ""),
                            "data-path": e
                        }, m.getTabIndex(), {
                            "data-md5": n.content.fileId && n.content.fileId.slice(0, n.content.fileId.lastIndexOf(".")),
                            "data-type": n.content.fileType
                        }), d.createElement("div", {
                            className: "imui-msg-audio J_audio " + (this.state.isPlaying ? "imui-msg-audio-playing" : ""),
                            "data-path": e,
                            onClick: this.onAudioPlay.bind(this, e),
                            "data-msgid": r
                        }, s, "s"), a && d.createElement("div", {
                            className: "audio-text " + (t ? "audio-show" : "audio-hide"),
                            id: "audio_" + n.messageId
                        }, a))
                    }
                    ,
                    t = l([p.observer], t)
            }(d.Component);
        t.default = v
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = n(12)
            , p = u(n(2))
            , g = u(n(1))
            , m = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.onVideoPlay = function () {
                        f.setMsgReadStatus([this.props.msg])
                    }
                    ,
                    t.prototype.onCanPlay = function () { }
                    ,
                    t.prototype.isComplete = function () {
                        var e = this.props.msg
                            , t = e.status
                            , n = e.content
                            , r = void 0 === n ? {} : n
                            , i = r.url;
                        return (r.progress >= 100 || 0 == t) && !!i
                    }
                    ,
                    t.prototype.getFileName = function () {
                        var e = this.props.msg.extLocal
                            , t = (void 0 === e ? {} : e).filepath;
                        return ((void 0 === t ? "" : t) || "").split("\\").pop() || "Unknown"
                    }
                    ,
                    t.prototype.getVideoSize = function () {
                        var e = this.props.msg.content.size
                            , t = void 0 === e ? 0 : e;
                        return p.default.getFileSize(t)
                    }
                    ,
                    t.prototype.cancelUpload = function () {
                        var e = 0 === g.default.conversationID.ctype
                            , t = this.props.msg
                            , n = {
                                templateId: 105,
                                mcode: {
                                    clientId: t.clientId,
                                    messageId: t.messageId
                                },
                                cid: {
                                    ccode: t.conversationId
                                }
                            };
                        e ? g.default.SDK.cancelSendRemoteSingle(n).then((function (e) { }
                        )).catch((function (e) { }
                        )) : g.default.SDK.cancelSendRemoteAmp(n).then((function (e) { }
                        )).catch((function (e) { }
                        ))
                    }
                    ,
                    t.prototype.hideCancelBtn = function () {
                        var e = this.props.msg
                            , t = e.status
                            , n = e.content;
                        return 100 === (void 0 === n ? {} : n).progress || 11 !== t
                    }
                    ,
                    t.prototype.showProcess = function () {
                        return 13 !== this.props.msg.status
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t, n = this.props.msg, r = n.content, i = r.url, o = r.pic, a = .52 * window.innerWidth, s = null === (e = null == n ? void 0 : n.content) || void 0 === e ? void 0 : e.width, l = s > a ? a : s < 295 ? 295 : s, u = l * (null === (t = null == n ? void 0 : n.content) || void 0 === t ? void 0 : t.height) / s;
                        return this.isComplete() ? c.createElement("video", {
                            src: i,
                            controls: !0,
                            poster: o,
                            onPlay: this.onVideoPlay.bind(this),
                            onCanPlay: this.onCanPlay,
                            width: l,
                            height: u
                        }) : c.createElement("div", {
                            className: "file-msg"
                        }, c.createElement("div", {
                            className: "file-suffix J_previewFile suffix-green"
                        }, "MP4"), c.createElement("div", {
                            className: "file-info"
                        }, c.createElement("div", {
                            className: "file-name J_previewFile",
                            title: this.getFileName()
                        }, this.getFileName()), c.createElement("div", {
                            className: "file-size"
                        }, this.getVideoSize()), c.createElement("div", {
                            className: "file-operation"
                        }, this.hideCancelBtn() ? null : c.createElement("span", {
                            className: "download-file J_downloadFile",
                            onClick: this.cancelUpload.bind(this),
                            style: {
                                color: "#3089dc",
                                cursor: "pointer"
                            }
                        }, "取消上传"))), this.showProcess() ? c.createElement("div", {
                            className: "file-progress",
                            id: "file-progress-" + (n.messageId || n.clientId),
                            "data-messageid": n.messageId,
                            "data-clientid": n.clientId
                        }, c.createElement("i", {
                            style: {
                                width: (n.content.progress || 0) + "%"
                            }
                        })) : null)
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = m
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(6))
            , p = c(n(1))
            , g = n(4)
            , m = c(n(2))
            , h = n(12)
            , v = n(10)
            , y = {
                PDF: {
                    suffix: "PDF",
                    cls: "suffix-red"
                },
                AI: {
                    suffix: "AI",
                    cls: "suffix-orange"
                },
                PAGES: {
                    suffix: "PGS",
                    cls: "suffix-orange"
                },
                SKETCH: {
                    suffix: "SKE",
                    cls: "suffix-orange"
                },
                PPTX: {
                    suffix: "PPT",
                    cls: "suffix-orange"
                },
                PPT: {
                    suffix: "PPT",
                    cls: "suffix-orange"
                },
                PSD: {
                    suffix: "PS",
                    cls: "suffix-blue"
                },
                DOC: {
                    suffix: "DOC",
                    cls: "suffix-blue"
                },
                NUMBERS: {
                    suffix: "NUM",
                    cls: "suffix-green"
                },
                XLSX: {
                    suffix: "EXC",
                    cls: "suffix-green"
                },
                MP4: {
                    suffix: "MP4",
                    cls: "suffix-green"
                },
                TXT: {
                    suffix: "TXT",
                    cls: "suffix-gray"
                },
                UNKNOWN: {
                    suffix: "",
                    cls: "suffix-default"
                },
                ZIP: {
                    suffix: "",
                    cls: "suffix-zip"
                },
                RAR: {
                    suffix: "",
                    cls: "suffix-zip"
                },
                "7Z": {
                    suffix: "",
                    cls: "suffix-zip"
                }
            }
            , b = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.state = {
                        openFileFolderStatus: !0,
                        changeOptionsData: {},
                        jsTransferInfo: t.props.msg.content.jsTransferInfo
                    },
                        t
                }
                return i(t, e),
                    t.prototype.componentWillReceiveProps = function (e) {
                        e.msg.content.jsTransferInfo !== this.props.msg.content.jsTransferInfo && this.setState({
                            jsTransferInfo: e.msg.content.jsTransferInfo
                        })
                    }
                    ,
                    t.prototype.componentDidMount = function () {
                        var e = this
                            , t = this.state.jsTransferInfo
                            , n = this.getFileOptionData(t);
                        11 === this.props.msg.status || 0 === this.props.msg.status ? (this.setState({
                            changeOptionsData: n
                        }),
                            p.default.SDK.emitter.on("onUpdateFileTransfer", (function (t) {
                                if (e.props.msg.content.jsFileInfo.id == t.id) {
                                    var n = e.getFileOptionData(t.transferInfo);
                                    e.setState({
                                        changeOptionsData: n
                                    })
                                }
                            }
                            ))) : 13 !== this.props.msg.status && this.setState({
                                changeOptionsData: n
                            })
                    }
                    ,
                    t.prototype.componentDidCatch = function (e) {
                        m.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "FileMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.handlePreviewFile = function () {
                        var e = p.default.SDK
                            , t = this.props.msg
                            , n = {
                                cid: m.default.getCID(p.default.conversationID),
                                fileInfo: t.content.jsFileInfo
                            };
                        e.previewCloudFile(n),
                            "single" === p.default.chatType && h.setMsgReadStatus([this.props.msg])
                    }
                    ,
                    t.prototype.handleOpenFileFolder = function (e, t) {
                        var n = this;
                        e.target;
                        p.default.SDK.openFolder({
                            filePath: t
                        }).then((function (e) {
                            18874372 === e.subcode && n.setState({
                                openFileFolderStatus: !1
                            })
                        }
                        )).catch((function (e) {
                            n.setState({
                                openFileFolderStatus: !1
                            })
                        }
                        ))
                    }
                    ,
                    t.prototype.handleDownloadFile = function () {
                        var e = this
                            , t = p.default.SDK
                            , n = this.props.msg
                            , r = {
                                cid: m.default.getCID(p.default.conversationID),
                                fileInfo: n.content.jsFileInfo
                            };
                        t.downloadCloudFile(r).then((function (t) {
                            p.default.SDK.emitter.on("onUpdateFileTransfer", (function (t) {
                                if (e.props.msg.content.jsFileInfo.id == t.id) {
                                    var n = e.getFileOptionData(t.transferInfo);
                                    e.setState({
                                        changeOptionsData: n
                                    }),
                                        0 === n.status && e.setState({
                                            openFileFolderStatus: !0
                                        })
                                }
                            }
                            ))
                        }
                        )).catch((function (e) {
                            console.info("SDK.downloadCloudFile==err==", e)
                        }
                        )),
                            "single" === p.default.chatType && h.setMsgReadStatus([this.props.msg])
                    }
                    ,
                    t.prototype.handleCancelUploadFile = function () {
                        var e = p.default.SDK
                            , t = this.props.msg.content.jsFileInfo;
                        e.cancelUploadCloudFile(t)
                    }
                    ,
                    t.prototype.handleCancelDownloadFile = function () {
                        var e = p.default.SDK
                            , t = this.props.msg.content.jsFileInfo;
                        e.cancelDownloadCloudFile(t)
                    }
                    ,
                    t.prototype.getFileOptionData = function (e) {
                        var t = {};
                        return e ? (0 == e.status ? 0 == e.type ? t.status = 1 : t.status = -1 : 1 == e.status ? 0 == e.type ? t.status = 1 : 1 == e.type && (t.status = 2) : 2 == e.status ? 0 == e.type ? e.filePath ? (t.status = 5,
                            t.path = e.filePath) : t.status = -1 : 1 == e.type && (t.status = 4) : 3 == e.status ? 0 == e.type ? e.filePath ? (t.status = 5,
                                t.path = e.filePath) : t.status = -1 : t.status = 3 : 4 != e.status && 5 != e.status || (e.filePath ? (t.status = 0,
                                    t.path = e.filePath) : t.status = 3),
                            t) : t
                    }
                    ,
                    t.prototype.renderChangeOptionsData = function () {
                        var e = this
                            , t = this.state.changeOptionsData;
                        return 0 == t.status ? d.createElement(d.Fragment, null, d.createElement("a", {
                            className: "preview-file J_previewFile",
                            onClick: this.handlePreviewFile.bind(this)
                        }, f.default.PREVIEW_FILE), this.state.openFileFolderStatus ? d.createElement("a", {
                            className: "open-folder J_openFolder",
                            onClick: function (n) {
                                return e.handleOpenFileFolder(n, t.path)
                            }
                        }, f.default.OPEN_FILE) : d.createElement("a", {
                            className: "download-file J_downloadFile",
                            onClick: this.handleDownloadFile.bind(this)
                        }, f.default.ONLY_DOWNLOAD_FILE)) : 1 == t.status ? d.createElement("a", {
                            className: "cancel-upload J_cancelUpload",
                            onClick: this.handleCancelUploadFile.bind(this)
                        }, f.default.CANCEL_UPLOAD) : 2 == t.status ? d.createElement(d.Fragment, null, d.createElement("a", {
                            className: "preview-file J_previewFile",
                            onClick: this.handlePreviewFile.bind(this)
                        }, f.default.PREVIEW_FILE), d.createElement("a", {
                            className: "cancel-download J_cancelDownload",
                            onClick: this.handleCancelDownloadFile.bind(this)
                        }, f.default.CANCEL_DOWNLOAD)) : 3 == t.status ? d.createElement(d.Fragment, null, d.createElement("a", {
                            className: "preview-file J_previewFile",
                            onClick: this.handlePreviewFile.bind(this)
                        }, f.default.PREVIEW_FILE), d.createElement("a", {
                            className: "download-file J_downloadFile",
                            onClick: this.handleDownloadFile.bind(this)
                        }, f.default.ONLY_DOWNLOAD_FILE)) : 4 == t.status ? d.createElement(d.Fragment, null, d.createElement("a", {
                            className: "preview-file J_previewFile",
                            onClick: this.handlePreviewFile.bind(this)
                        }, f.default.PREVIEW_FILE), d.createElement("a", {
                            className: "download-file J_downloadFile",
                            onClick: this.handleDownloadFile.bind(this)
                        }, f.default.RE_DOWNLOAD_FILE)) : 5 == t.status ? this.state.openFileFolderStatus ? d.createElement("a", {
                            className: "open-folder J_openFolder",
                            onClick: function (n) {
                                return e.handleOpenFileFolder(n, t.path)
                            }
                        }, f.default.OPEN_FILE) : d.createElement("a", {
                            className: "download-file J_downloadFile",
                            onClick: this.handleDownloadFile.bind(this)
                        }, f.default.ONLY_DOWNLOAD_FILE) : void 0
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        if (!e.content.jsFileInfo)
                            return null;
                        var t = e.content.jsFileInfo
                            , n = e.content.jsTransferInfo
                            , r = 0
                            , i = ""
                            , a = {};
                        a.size = m.default.getFileSize(t.nodeSize);
                        var s = t.nodeName.split(".");
                        return s.length <= 1 ? Object.assign(a, y.UNKNOWN) : (i = s.pop(),
                            r = m.default.getStrLen(i) + 1,
                            Object.assign(a, y[i.toUpperCase()] || y.UNKNOWN),
                            i = "." + i),
                            a.name = m.default.getStrByLen(s.join(""), f.default.FILE_MAX_LEN - r, 2) + i,
                            n && this.getFileOptionData(n),
                            console.info("%crender file jsTransferInfo", "color: green", n),
                            d.createElement("div", o({
                                className: "file-msg"
                            }, v.getTabIndex(), {
                                "aria-label": "文件卡片"
                            }), d.createElement("div", {
                                className: "file-suffix J_previewFile " + a.cls,
                                onClick: this.handlePreviewFile.bind(this)
                            }, a.suffix), d.createElement("div", {
                                className: "file-info"
                            }, d.createElement("div", {
                                className: "file-name J_previewFile",
                                title: t.nodeName,
                                onClick: this.handlePreviewFile.bind(this)
                            }, a.name), d.createElement("div", {
                                className: "file-size"
                            }, m.default.getFileSize(t.nodeSize)), d.createElement("div", {
                                className: "file-operation"
                            }, n && //!this.state.changeTansferStatus ?
                            this.renderChangeOptionsData())), d.createElement("div", {
                                className: "file-progress hidden",
                                id: "file-progress-" + t.id,
                                "data-messageid": e.messageId,
                                "data-clientid": e.clientId
                            }, d.createElement("i", {
                                style: {
                                    width: 0
                                }
                            })))
                    }
                    ,
                    t = l([g.observer], t)
            }(d.Component);
        t.default = b
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        f.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "LocationMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg
                            , t = "https://m.amap.com/navi/?dest=" + e.content.longitude + "," + e.content.latitude + "&destName=" + encodeURIComponent(e.content.locationName) + "&hideRouteIcon=1&key=9b737f5a37b803624c41024081fc32f1";
                        return c.createElement("div", {
                            className: "imui-msg-location-wrap"
                        }, c.createElement("a", {
                            className: "imui-msg-location",
                            href: t,
                            target: "_blank"
                        }, c.createElement("i", {
                            className: "imui-location-icon"
                        }), e.content.locationName))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__awaiter || function (e, t, n, r) {
                return new (n || (n = Promise))((function (i, o) {
                    function a(e) {
                        try {
                            l(r.next(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function s(e) {
                        try {
                            l(r.throw(e))
                        } catch (e) {
                            o(e)
                        }
                    }
                    function l(e) {
                        var t;
                        e.done ? i(e.value) : (t = e.value,
                            t instanceof n ? t : new n((function (e) {
                                e(t)
                            }
                            ))).then(a, s)
                    }
                    l((r = r.apply(e, t || [])).next())
                }
                ))
            }
            , c = this && this.__generator || function (e, t) {
                var n, r, i, o, a = {
                    label: 0,
                    sent: function () {
                        if (1 & i[0])
                            throw i[1];
                        return i[1]
                    },
                    trys: [],
                    ops: []
                };
                return o = {
                    next: s(0),
                    throw: s(1),
                    return: s(2)
                },
                    "function" == typeof Symbol && (o[Symbol.iterator] = function () {
                        return this
                    }
                    ),
                    o;
                function s(o) {
                    return function (s) {
                        return function (o) {
                            if (n)
                                throw new TypeError("Generator is already executing.");
                            for (; a;)
                                try {
                                    if (n = 1,
                                        r && (i = 2 & o[0] ? r.return : o[0] ? r.throw || ((i = r.return) && i.call(r),
                                            0) : r.next) && !(i = i.call(r, o[1])).done)
                                        return i;
                                    switch (r = 0,
                                    i && (o = [2 & o[0], i.value]),
                                    o[0]) {
                                        case 0:
                                        case 1:
                                            i = o;
                                            break;
                                        case 4:
                                            return a.label++,
                                            {
                                                value: o[1],
                                                done: !1
                                            };
                                        case 5:
                                            a.label++,
                                                r = o[1],
                                                o = [0];
                                            continue;
                                        case 7:
                                            o = a.ops.pop(),
                                                a.trys.pop();
                                            continue;
                                        default:
                                            if (!(i = a.trys,
                                                (i = i.length > 0 && i[i.length - 1]) || 6 !== o[0] && 2 !== o[0])) {
                                                a = 0;
                                                continue
                                            }
                                            if (3 === o[0] && (!i || o[1] > i[0] && o[1] < i[3])) {
                                                a.label = o[1];
                                                break
                                            }
                                            if (6 === o[0] && a.label < i[1]) {
                                                a.label = i[1],
                                                    i = o;
                                                break
                                            }
                                            if (i && a.label < i[2]) {
                                                a.label = i[2],
                                                    a.ops.push(o);
                                                break
                                            }
                                            i[2] && a.ops.pop(),
                                                a.trys.pop();
                                            continue
                                    }
                                    o = t.call(e, a)
                                } catch (e) {
                                    o = [6, e],
                                        r = 0
                                } finally {
                                    n = i = 0
                                }
                            if (5 & o[0])
                                throw o[1];
                            return {
                                value: o[0] ? o[1] : void 0,
                                done: !0
                            }
                        }([o, s])
                    }
                }
            }
            , d = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var f = l(n(0))
            , p = n(4)
            , g = d(n(1))
            , m = d(n(6))
            , h = d(n(45))
            , v = n(13)
            , y = function (e) {
                function t(t) {
                    var n = e.call(this, t) || this;
                    return n.state = {
                        loading: !1,
                        layoutType: null,
                        layoutOriginData: {}
                    },
                        n
                }
                return i(t, e),
                    t.prototype.componentDidMount = function () {
                        return u(this, void 0, void 0, (function () {
                            var e, t, n, r, i = this;
                            return c(this, (function (o) {
                                return e = this.props,
                                    t = e.templateId,
                                    n = e.msg,
                                    g.default.dxCountStore.set(n.messageId + "", 0),
                                    v.renderPerf("begindx_" + g.default.dxCountStore.length),
                                    (r = g.default.dxContentStore.get(t + "")) ? this.handleDxContent(r) : g.default.SDK.getDxContent(t).then((function (e) {
                                        i.handleDxContent(e),
                                            g.default.dxContentStore.set(t + "", e)
                                    }
                                    )).catch((function (e) {
                                        i.setState({
                                            layoutType: null
                                        })
                                    }
                                    )),
                                    [2]
                            }
                            ))
                        }
                        ))
                    }
                    ,
                    t.prototype.handleDxContent = function (e) {
                        if (e && "string" != typeof e) {
                            e.layoutData;
                            var t = e.layoutType;
                            e.renderAttrs;
                            "3" === t ? this.setState({
                                layoutType: "3",
                                layoutOriginData: e
                            }) : this.setState({
                                layoutType: null
                            })
                        } else
                            this.setState({
                                layoutType: null
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.state
                            , t = e.layoutType
                            , n = e.layoutOriginData
                            , r = this.props
                            , i = r.degradeMessage
                            , o = r.templateData
                            , a = r.msg
                            , s = r.type;
                        return "3" === t ? f.createElement("div", null, f.createElement(h.default, {
                            layoutOriginData: n,
                            msg: a,
                            dxData: o,
                            type: s
                        })) : f.createElement("div", {
                            className: "msg-body-html"
                        }, i || m.default.NOT_SUPPORT_MSG)
                    }
                    ,
                    t = s([p.observer], t)
            }(f.Component);
        t.default = y
    }
    , function (e, t, n) {
        e.exports = n(141)
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9)
            , i = n(47)
            , o = n(142)
            , a = n(53);
        function s(e) {
            var t = new o(e)
                , n = i(o.prototype.request, t);
            return r.extend(n, o.prototype, t),
                r.extend(n, t),
                n
        }
        var l = s(n(50));
        l.Axios = o,
            l.create = function (e) {
                return s(a(l.defaults, e))
            }
            ,
            l.Cancel = n(54),
            l.CancelToken = n(155),
            l.isCancel = n(49),
            l.all = function (e) {
                return Promise.all(e)
            }
            ,
            l.spread = n(156),
            e.exports = l,
            e.exports.default = l
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9)
            , i = n(48)
            , o = n(143)
            , a = n(144)
            , s = n(53);
        function l(e) {
            this.defaults = e,
                this.interceptors = {
                    request: new o,
                    response: new o
                }
        }
        l.prototype.request = function (e) {
            "string" == typeof e ? (e = arguments[1] || {}).url = arguments[0] : e = e || {},
                (e = s(this.defaults, e)).method ? e.method = e.method.toLowerCase() : this.defaults.method ? e.method = this.defaults.method.toLowerCase() : e.method = "get";
            var t = [a, void 0]
                , n = Promise.resolve(e);
            for (this.interceptors.request.forEach((function (e) {
                t.unshift(e.fulfilled, e.rejected)
            }
            )),
                this.interceptors.response.forEach((function (e) {
                    t.push(e.fulfilled, e.rejected)
                }
                )); t.length;)
                n = n.then(t.shift(), t.shift());
            return n
        }
            ,
            l.prototype.getUri = function (e) {
                return e = s(this.defaults, e),
                    i(e.url, e.params, e.paramsSerializer).replace(/^\?/, "")
            }
            ,
            r.forEach(["delete", "get", "head", "options"], (function (e) {
                l.prototype[e] = function (t, n) {
                    return this.request(r.merge(n || {}, {
                        method: e,
                        url: t
                    }))
                }
            }
            )),
            r.forEach(["post", "put", "patch"], (function (e) {
                l.prototype[e] = function (t, n, i) {
                    return this.request(r.merge(i || {}, {
                        method: e,
                        url: t,
                        data: n
                    }))
                }
            }
            )),
            e.exports = l
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        function i() {
            this.handlers = []
        }
        i.prototype.use = function (e, t) {
            return this.handlers.push({
                fulfilled: e,
                rejected: t
            }),
                this.handlers.length - 1
        }
            ,
            i.prototype.eject = function (e) {
                this.handlers[e] && (this.handlers[e] = null)
            }
            ,
            i.prototype.forEach = function (e) {
                r.forEach(this.handlers, (function (t) {
                    null !== t && e(t)
                }
                ))
            }
            ,
            e.exports = i
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9)
            , i = n(145)
            , o = n(49)
            , a = n(50);
        function s(e) {
            e.cancelToken && e.cancelToken.throwIfRequested()
        }
        e.exports = function (e) {
            return s(e),
                e.headers = e.headers || {},
                e.data = i(e.data, e.headers, e.transformRequest),
                e.headers = r.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers),
                r.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (function (t) {
                    delete e.headers[t]
                }
                )),
                (e.adapter || a.adapter)(e).then((function (t) {
                    return s(e),
                        t.data = i(t.data, t.headers, e.transformResponse),
                        t
                }
                ), (function (t) {
                    return o(t) || (s(e),
                        t && t.response && (t.response.data = i(t.response.data, t.response.headers, e.transformResponse))),
                        Promise.reject(t)
                }
                ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        e.exports = function (e, t, n) {
            return r.forEach(n, (function (n) {
                e = n(e, t)
            }
            )),
                e
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        e.exports = function (e, t) {
            r.forEach(e, (function (n, r) {
                r !== t && r.toUpperCase() === t.toUpperCase() && (e[t] = n,
                    delete e[r])
            }
            ))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(52);
        e.exports = function (e, t, n) {
            var i = n.config.validateStatus;
            !i || i(n.status) ? e(n) : t(r("Request failed with status code " + n.status, n.config, null, n.request, n))
        }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e, t, n, r, i) {
            return e.config = t,
                n && (e.code = n),
                e.request = r,
                e.response = i,
                e.isAxiosError = !0,
                e.toJSON = function () {
                    return {
                        message: this.message,
                        name: this.name,
                        description: this.description,
                        number: this.number,
                        fileName: this.fileName,
                        lineNumber: this.lineNumber,
                        columnNumber: this.columnNumber,
                        stack: this.stack,
                        config: this.config,
                        code: this.code
                    }
                }
                ,
                e
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(150)
            , i = n(151);
        e.exports = function (e, t) {
            return e && !r(t) ? i(e, t) : t
        }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)
        }
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e, t) {
            return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9)
            , i = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"];
        e.exports = function (e) {
            var t, n, o, a = {};
            return e ? (r.forEach(e.split("\n"), (function (e) {
                if (o = e.indexOf(":"),
                    t = r.trim(e.substr(0, o)).toLowerCase(),
                    n = r.trim(e.substr(o + 1)),
                    t) {
                    if (a[t] && i.indexOf(t) >= 0)
                        return;
                    a[t] = "set-cookie" === t ? (a[t] ? a[t] : []).concat([n]) : a[t] ? a[t] + ", " + n : n
                }
            }
            )),
                a) : a
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        e.exports = r.isStandardBrowserEnv() ? function () {
            var e, t = /(msie|trident)/i.test(navigator.userAgent), n = document.createElement("a");
            function i(e) {
                var r = e;
                return t && (n.setAttribute("href", r),
                    r = n.href),
                    n.setAttribute("href", r),
                {
                    href: n.href,
                    protocol: n.protocol ? n.protocol.replace(/:$/, "") : "",
                    host: n.host,
                    search: n.search ? n.search.replace(/^\?/, "") : "",
                    hash: n.hash ? n.hash.replace(/^#/, "") : "",
                    hostname: n.hostname,
                    port: n.port,
                    pathname: "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname
                }
            }
            return e = i(window.location.href),
                function (t) {
                    var n = r.isString(t) ? i(t) : t;
                    return n.protocol === e.protocol && n.host === e.host
                }
        }() : function () {
            return !0
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(9);
        e.exports = r.isStandardBrowserEnv() ? {
            write: function (e, t, n, i, o, a) {
                var s = [];
                s.push(e + "=" + encodeURIComponent(t)),
                    r.isNumber(n) && s.push("expires=" + new Date(n).toGMTString()),
                    r.isString(i) && s.push("path=" + i),
                    r.isString(o) && s.push("domain=" + o),
                    !0 === a && s.push("secure"),
                    document.cookie = s.join("; ")
            },
            read: function (e) {
                var t = document.cookie.match(new RegExp("(^|;\\s*)(" + e + ")=([^;]*)"));
                return t ? decodeURIComponent(t[3]) : null
            },
            remove: function (e) {
                this.write(e, "", Date.now() - 864e5)
            }
        } : {
            write: function () { },
            read: function () {
                return null
            },
            remove: function () { }
        }
    }
    , function (e, t, n) {
        "use strict";
        var r = n(54);
        function i(e) {
            if ("function" != typeof e)
                throw new TypeError("executor must be a function.");
            var t;
            this.promise = new Promise((function (e) {
                t = e
            }
            ));
            var n = this;
            e((function (e) {
                n.reason || (n.reason = new r(e),
                    t(n.reason))
            }
            ))
        }
        i.prototype.throwIfRequested = function () {
            if (this.reason)
                throw this.reason
        }
            ,
            i.source = function () {
                var e;
                return {
                    token: new i((function (t) {
                        e = t
                    }
                    )),
                    cancel: e
                }
            }
            ,
            e.exports = i
    }
    , function (e, t, n) {
        "use strict";
        e.exports = function (e) {
            return function (t) {
                return e.apply(null, t)
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        t.__esModule = !0,
            t.record = t.PlatformEnum = void 0;
        var r = t.PlatformEnum = function (e) {
            return e[e.goldLog = 0] = "goldLog",
                e
        }({})
            , i = (t.record = function (e) {
                var t = Object.assign({
                    platform: r.goldLog,
                    method: "GET",
                    action: "CLK",
                    param: {}
                }, e);
                t.platform === r.goldLog && i(t)
            }
                ,
                function (e) {
                    var t = e.param
                        , n = void 0 === t ? {} : t
                        , r = e.key
                        , i = e.action
                        , a = e.method
                        , s = Object.keys(n).map((function (e) {
                            return encodeURIComponent(e) + "=" + encodeURIComponent(n[e])
                        }
                        )).join("&") || "";
                    window && window.goldlog && window.goldlog.record ? window.goldlog.record(r, i, s, a) : o("http://gm.mmstat.com/qnopenworkbeanch.qianniunews.Dx_qn_Click?" + s + "&t=" + (new Date).getTime(), null)
                }
            )
            , o = function (e, t) {
                var n = new Image
                    , r = "_tb_im_qianniu_image_log" + Math.floor(2147483648 * Math.random()).toString(36);
                window[r] = n,
                    n.onload = n.onerror = n.onabort = function () {
                        n.onload = n.onerror = n.onabort = null,
                            n = window[r] = null,
                            t && t(e)
                    }
                    ,
                    n.src = e
            }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.CountDownView = t.TextSpan = t.ImageSpan = t.RichText = t.MsgTextView = void 0;
        var u = l(n(25))
            , c = n(46)
            , d = l(n(0))
            , f = n(32)
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.renderView = function (e) {
                        return d.createElement("span", null, e.text)
                    }
                    ,
                    t
            }(c.TextView);
        t.MsgTextView = p;
        var g = function (e) {
            function t(t) {
                return e.call(this, t) || this
            }
            return i(t, e),
                t.prototype.renderLoopChildren = function (e) {
                    var t = this
                        , n = []
                        , r = this.getChildren()
                        , i = this.props
                        , a = {
                            flexShrink: 0,
                            flexGrow: 0,
                            height: "fit-content"
                        };
                    return this._enableLayoutNG && "vertical" === this.props.orientation && (a.width = "100%"),
                        e.listData && e.listData.forEach((function (e, s) {
                            r.forEach((function (r) {
                                if (r) {
                                    r.props._id;
                                    var l = {
                                        _tplId: i._tplId,
                                        data: e,
                                        parentSubdata: t.props._parent_subdata
                                    }
                                        , c = r.props._originProps.visibility
                                        , d = c && u.dataParser(c, l)
                                        , p = r.props._originProps.weight;
                                    if (void 0 !== p) {
                                        var g = u.dataParser(p, l);
                                        o(o({}, a), {
                                            flex: g
                                        })
                                    }
                                    "gone" !== d && n.push(f.loopMergeSubData.call(t, r, e, s, i._id))
                                }
                            }
                            ))
                        }
                        )),
                        n
                }
                ,
                t.prototype.renderView = function (e) {
                    return Array.isArray(e.listData) && e.listData.length ? d.createElement("div", null, this.renderLoopChildren(e)) : d.createElement("div", null, this.props.children)
                }
                ,
                t
        }(c.Layout);
        t.RichText = g;
        var m = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
                t.prototype.renderView = function (e) {
                    return e
                }
                ,
                t
        }(c.ImageView);
        t.ImageSpan = m;
        var h = function (e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.setStyles({
                    color: null == t ? void 0 : t.textColor,
                    dipslay: "inline"
                }),
                    n.setAttrs({
                        style: {
                            display: "inline",
                            color: null == t ? void 0 : t.textColor
                        }
                    }),
                    n
            }
            return i(t, e),
                t.prototype.renderView = function (e) {
                    return null == e ? void 0 : e.text
                }
                ,
                t
        }(c.View);
        t.TextSpan = h;
        var v = function (e) {
            function t(t) {
                var n = e.call(this, t) || this;
                return n.state = {
                    remainTime: n.formatRemainSecond(t.futureTime),
                    futureTime: t.futureTime
                },
                    n
            }
            return i(t, e),
                t.prototype.componentDidMount = function () {
                    var e = this;
                    this.timer = setInterval((function () {
                        e.state.remainTime || clearInterval(e.timer),
                            e.formatRemainSecond(e.state.futureTime, !0)
                    }
                    ), 1e3)
                }
                ,
                t.prototype.componentWillUnmount = function () {
                    clearInterval(this.timer)
                }
                ,
                t.prototype.formatRemainSecond = function (e, t) {
                    var n = Math.floor((new Date).getTime() / 1e3)
                        , r = Math.floor(e / 1e3) - n
                        , i = parseInt(r / 60 / 60 % 24);
                    i = i < 10 ? "0" + i : i;
                    var o = parseInt(r / 60 % 60);
                    o = o < 10 ? "0" + o : o;
                    var a = parseInt(r % 60)
                        , s = i + ":" + o + ":" + (a = a < 10 ? "0" + a : a);
                    return t && this.setState({
                        remainTime: r > 0 ? s : 0
                    }),
                        s
                }
                ,
                t.prototype.renderView = function (e) {
                    return d.createElement("div", {
                        style: {
                            display: "flex",
                            color: null == e ? void 0 : e.timerTextColor,
                            alignItems: "center"
                        }
                    }, this.state.remainTime)
                }
                ,
                t
        }(c.View);
        t.CountDownView = v
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(6))
            , f = n(4)
            , p = u(n(160))
            , g = u(n(161))
            , m = u(n(162))
            , h = u(n(2))
            , v = u(n(33))
            , y = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        h.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "TemplateMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        switch (e.content.template.id) {
                            case 20002:
                                return c.createElement(p.default, {
                                    key: "H5TemplateMessage_" + (e.messageId || e.clientId),
                                    value: e
                                });
                            case 20013:
                                return c.createElement(g.default, {
                                    key: "AlistTemplateMessage_" + (e.messageId || e.clientId),
                                    msg: e,
                                    value: e.content
                                });
                            case 20014:
                                return c.createElement(m.default, {
                                    key: "RasterizeTemplateMessage_" + (e.messageId || e.clientId),
                                    value: e.content
                                });
                            case 20015:
                                return c.createElement(v.default, {
                                    msg: e,
                                    type: "template"
                                });
                            default:
                                return e.content.header && e.content.header.degrade && e.content.header.degrade.alternative || d.default.NOT_SUPPORT_MSG
                        }
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = y
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(6))
            , p = n(4)
            , g = c(n(5))
            , m = n(10)
            , h = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e = g.default(this.props.value, "content", "")
                            , t = g.default(this.props.value, "ext.bizDataExt.show_type", "");
                        return e.template.data && e.template.data.text && "3" !== t ? d.createElement("div", o({
                            className: "imui-msg-card-wrap"
                        }, m.getTabIndex(), {
                            "aria-label": "消息卡片"
                        }), d.createElement("div", {
                            className: "imui-msg-card",
                            dangerouslySetInnerHTML: {
                                __html: e.template.data.text
                            }
                        })) : e.header && e.header.degrade && e.header.degrade.alternative || f.default.NOT_SUPPORT_MSG
                    }
                    ,
                    t = l([p.observer], t)
            }(d.Component);
        t.default = h
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(6))
            , p = c(n(1))
            , g = n(4)
            , m = c(n(28))
            , h = c(n(29))
            , v = c(n(30))
            , y = c(n(31))
            , b = u(n(7))
            , _ = c(n(2))
            , w = n(10)
            , x = /\r\n|\n|\r/g
            , O = / /g
            , S = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.logger = b.createLogger("tb-im-h5")("AListTemplate"),
                        t.tmp = [],
                        t.nodeTable = [],
                        t.state = {
                            tpl: [],
                            degrade: null
                        },
                        t.processTpl = function (e) {
                            for (var n = e.map((function (e, n) {
                                switch (e.type) {
                                    case 0:
                                        return d.createElement("span", {
                                            dangerouslySetInnerHTML: {
                                                __html: t.wrapBreakOrBlank(e.value.text)
                                            }
                                        });
                                    case 1:
                                        return d.createElement(m.default, {
                                            key: "a" + n,
                                            jsviewValue: e.value
                                        });
                                    case 2:
                                    case 3:
                                        return d.createElement(v.default, {
                                            key: "a" + n,
                                            jsviewValue: e.value
                                        });
                                    case 4:
                                        return e.value.text;
                                    case 5:
                                        return d.createElement(h.default, {
                                            key: "a" + n,
                                            jsviewValue: e.value
                                        });
                                    case 7:
                                        return d.createElement(y.default, {
                                            key: "a" + n,
                                            msg: t.props.msg,
                                            src: e.value.pic
                                        });
                                    default:
                                        return ""
                                }
                            }
                            )), r = [], i = 0, o = n.length; i < o; i++) {
                                var a = t.tmp[e[i].original_index];
                                a && r.push(t.genList(a.list, a.s, n[i]))
                            }
                            t.setState({
                                tpl: r
                            })
                        }
                        ,
                        t.updateUntilSnapshot = function (e, n, r) {
                            var i = function (i) {
                                var o = {
                                    url: r,
                                    html: i.snapshot,
                                    safe: "",
                                    name: ""
                                };
                                t.nodeTable[e] && (t.nodeTable[e].template[n] = d.createElement(h.default, {
                                    key: "a" + n,
                                    jsviewValue: o
                                })),
                                    t.logger.log("url", r, "nodeTable", t.nodeTable);
                                var a = t.nodeTable.map((function (e) {
                                    return t.genList(e.node, e.style, e.template)
                                }
                                ));
                                t.setState({
                                    tpl: a
                                })
                            }
                                , o = t.props.msg
                                , a = o.messageId || o.clientId
                                , s = p.default.emotionCache.get(a, {});
                            if (s[r]) {
                                var l = s[r];
                                i(l)
                            } else
                                p.default.SDK.getUrlSnapshot({
                                    url: r,
                                    mcode: {
                                        clientId: o.clientId,
                                        messageId: o.messageId
                                    }
                                }).then((function (e) {
                                    s[r] = e,
                                        i(e)
                                }
                                )).catch((function () { }
                                ))
                        }
                        ,
                        t
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        _.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "AlistTemplateMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.genLabel = function (e, t, n) {
                        return e.action && e.action.length ? e.br ? d.createElement(d.Fragment, null, d.createElement("a", {
                            href: "#TemplateMsgAction#" + JSON.stringify(e.action),
                            style: t,
                            dangerouslySetInnerHTML: {
                                __html: n
                            }
                        }), d.createElement("br", null)) : d.createElement(d.Fragment, null, d.createElement("a", {
                            href: "#TemplateMsgAction#" + JSON.stringify(e.action),
                            style: t,
                            dangerouslySetInnerHTML: {
                                __html: n
                            }
                        })) : e.br ? d.createElement(d.Fragment, null, d.createElement("span", {
                            style: t,
                            dangerouslySetInnerHTML: {
                                __html: n
                            }
                        }), d.createElement("br", null)) : d.createElement(d.Fragment, null, d.createElement("span", {
                            style: t,
                            dangerouslySetInnerHTML: {
                                __html: n
                            }
                        }))
                    }
                    ,
                    t.prototype.genList = function (e, t, n) {
                        return e.action && e.action.length ? e.br ? d.createElement(d.Fragment, null, d.createElement("a", {
                            href: "#TemplateMsgAction#" + JSON.stringify(e.action),
                            style: t
                        }, n), d.createElement("br", null)) : d.createElement(d.Fragment, null, d.createElement("a", {
                            href: "#TemplateMsgAction#" + JSON.stringify(e.action),
                            style: t
                        }, n)) : e.br ? d.createElement(d.Fragment, null, d.createElement("span", {
                            style: t
                        }, n), d.createElement("br", null)) : d.createElement(d.Fragment, null, d.createElement("span", {
                            style: t
                        }, n))
                    }
                    ,
                    t.prototype.translateStyle = function (e) {
                        var t = {}
                            , n = "";
                        for (var r in e.attr && ("string" == typeof e.attr && (e.attr = e.attr.split("|")),
                            e.attr.forEach((function (e) {
                                "B" === e.toUpperCase() && (t["font-weight"] = "bold"),
                                    "U" === e.toUpperCase() && (t["text-decoration"] = "underline"),
                                    "I" === e.toUpperCase() && (t["font-style"] = "italic")
                            }
                            ))),
                            e.color && (t.color = 0 === e.color.indexOf("#") ? e.color : "#" + e.color),
                            e.font && (t["font-family"] = e.font),
                            e.size && (t["font-size"] = e.size + "pt"),
                            t)
                            n += r + ":" + t[r] + ";";
                        return _.default.cssToJS(n)
                    }
                    ,
                    t.prototype.componentWillReceiveProps = function (e) {
                        var t = e.msg
                            , n = t.messageId || t.clientId
                            , r = p.default.emotionCache.get(n);
                        r && this.processTpl(r)
                    }
                    ,
                    t.prototype.wrapBreakOrBlank = function (e) {
                        return "string" != typeof e ? "" : e.replace(x, "<br>").replace(O, "&nbsp;")
                    }
                    ,
                    t.prototype.componentDidMount = function () {
                        var e = this
                            , t = this.props.msg
                            , n = t.messageId || t.clientId
                            , r = []
                            , i = [];
                        if (t.content.template.data && t.content.template.data.alist) {
                            t.content.template.data.alist.forEach((function (t, n) {
                                if (t.label) {
                                    var o = t.label;
                                    o = (o = o.replace(x, "<br>")).replace(O, "&nbsp;");
                                    var a = {
                                        text: t.label,
                                        passthrough: t.label ? 0 : 1
                                    };
                                    i.push(a);
                                    var s = e.translateStyle(t)
                                        , l = e.genLabel(t, s, o);
                                    e.tmp.push({
                                        list: t,
                                        s: s
                                    }),
                                        r = r.concat(l)
                                }
                            }
                            )),
                                this.setState({
                                    tpl: r
                                });
                            var o = p.default.emotionCache.get(n);
                            if (o)
                                return void this.processTpl(o);
                            var a = {
                                cid: {
                                    ccode: p.default.conversationID.ccode
                                },
                                mcode: {
                                    clientId: t.clientId,
                                    messageId: t.messageId
                                },
                                items: i
                            };
                            p.default.SDK.convertMsgToItems(a).then((function (t) {
                                p.default.emotionCache.set(n, t),
                                    e.processTpl(t)
                            }
                            ))
                        } else
                            this.setState({
                                degrade: this.props.value.header && this.props.value.header.degrade && this.props.value.header.degrade.alternative || f.default.NOT_SUPPORT_MSG
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return this.state.tpl.length ? d.createElement("div", o({
                            className: "alist-msg-wrap",
                            key: "alistmsg_" + (e.messageId || e.clientId)
                        }, w.getTabIndex(), {
                            "aria-label": "消息卡片"
                        }), this.state.tpl) : this.state.degrade
                    }
                    ,
                    t = l([g.observer], t)
            }(d.Component);
        t.default = S
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d, f, p, g, m = u(n(0)), h = c(n(6)), v = n(4), y = u(n(12)), b = c(n(2)), _ = c(n(5)), w = n(10), x = ["padding", "display", "flex-direction", "justify-content", "align-items", "align-self", "background-color", "color", "text-decoration", "font-size", "border-radius", "border-top-color", "border-top-style"], O = {
            small: {
                width: 264,
                cls: "small"
            },
            middle: {
                width: 324,
                cls: "middle"
            },
            large: {
                width: 396,
                cls: "large"
            }
        }, S = "drawable://aliwx_hongbao_bubble_left_bg", M = function (e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return i(t, e),
                t.prototype.componentDidCatch = function (e) {
                    console.log("%ccomponentDidCatch", "color:red", e),
                        b.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "RasterizeTemplateMessage Component error",
                            sampling: 1
                        })
                }
                ,
                t.prototype.getStrMap = function (e) {
                    return p = _.default(this.props.value, "template.data.bgl", "") === S ? 234 : O[e].width || 264,
                        d = {
                            f: "frame",
                            v: "vector",
                            p: "padding",
                            cs: "class",
                            ac: "action",
                            ds: "display",
                            fd: "flex-direction",
                            jc: "justify-content",
                            ai: "align-items",
                            ad: "align-self",
                            fs: "flex-start",
                            fe: "flex-end",
                            ct: "center",
                            st: "stretch",
                            sb: "space-between",
                            sa: "space-around",
                            sv: "subviews",
                            bc: "background-color",
                            tc: "color",
                            td: "text-decoration",
                            ul: "underline",
                            lt: "line-through",
                            ts: "font-size",
                            xl: (18 / (f = p / 12)).toFixed(2),
                            l: (16 / f).toFixed(2),
                            m: (14 / f).toFixed(2),
                            s: (12 / f).toFixed(2),
                            xs: (10 / f).toFixed(2),
                            ir: "background-size",
                            al: "aspect-fill",
                            at: "aspect-fit",
                            tt: "title",
                            bs: "button-style",
                            bb: "button-blue",
                            bg: "button-gray",
                            bn: "button-naked",
                            bt: "button-theme",
                            lc: "border-top-color",
                            ls: "border-top-style",
                            tfs: "font-size",
                            rds: "border-radius",
                            stock: "solid",
                            dot: "dotted"
                        }
                }
                ,
                t.prototype.getBackgroundSize = function (e, t) {
                    "aspect-fill" === e ? (t["background-size"] = "cover",
                        t["background-position"] = "center") : "aspect-fit" === e ? (t["background-size"] = "contain",
                            t["background-position"] = "center") : "fill" === e && (t["background-size"] = "100% 100%")
                }
                ,
                t.prototype.parseData = function (e) {
                    var t, n = this;
                    if (b.default.isObject(e))
                        for (var r in t = {},
                            e) {
                            var i = d[r] || r
                                , o = e[r];
                            t[i] = this.parseData(o)
                        }
                    else
                        b.default.isArray(e) ? (t = [],
                            e.forEach((function (e) {
                                t.push(n.parseData(e))
                            }
                            ))) : t = d[e] || e;
                    return t
                }
                ,
                t.prototype.getRealPx = function (e) {
                    return "number" == typeof e ? (e * f).toFixed(0) + "px" : e
                }
                ,
                t.prototype.translateData = function (e, t) {
                    var n = this
                        , r = ""
                        , i = {}
                        , o = ""
                        , a = "";
                    t && ("flex" === t.display ? i.flex = "0 0 auto" : "fix" === t.display && (i.position = "absolute")),
                        i.position || "fix" !== e.display || (i.position = "relative"),
                        e["font-size"] && (e["font-size"] = Number(e["font-size"]));
                    var s = !1;
                    for (var l in e["font-size"] && e.frame && "number" == typeof e.frame[3] && e.frame[3] / e["font-size"] < 2 && (s = !0),
                        e)
                        if (x.indexOf(l) > -1) {
                            if ("img" === e.class && "center" === l && (l = "100%"),
                                "color" === l || "background-color" === l) {
                                for (var u = e[l].substring(1), c = 8 - u.length, d = "", f = 0; f < c; f++)
                                    d += "f";
                                u = d + u;
                                var p = [];
                                for (f = 0; f < 8; f += 2)
                                    p.push(parseInt(u.substring(f, f + 2), 16));
                                e[l] = "rgba(" + p[1] + "," + p[2] + "," + p[3] + "," + (p[0] / 255).toFixed(1) + ")"
                            }
                            i[l] = this.getRealPx(e[l])
                        }
                    for (var l in e.frame && ["left", "top", "width", "height"].forEach((function (t, r) {
                        s && "height" === t && "number" == typeof e.frame[r] && (i["line-height"] = n.getRealPx(e.frame[r])),
                            i[t] = n.getRealPx(e.frame[r])
                    }
                    )),
                        "flex" === i.display && i.width && i.height && -1 !== i.width.indexOf("px") && -1 !== i.height.indexOf("px") && ("column" === i["flex-direction"] ? (i["overflow-y"] = "auto",
                            i["overflow-x"] = "hidden",
                            i.width = parseInt(i.width) + 5 + "px") : (i["overflow-x"] = "auto",
                                i["overflow-y"] = "hidden",
                                i.height = parseInt(i.height) + 5 + "px")),
                        e.vector && (i.left = this.getRealPx(e.vector[0][0]),
                            i.top = this.getRealPx(e.vector[0][1]),
                            i.width = this.getRealPx(e.vector[1][0] - e.vector[0][0]),
                            i.height = "1px",
                            i["border-top-width"] = "1px"),
                        "box" === e.class ? !i["flex-direction"] && (i["flex-direction"] = "column") : "img" === e.class ? (e.url && (i["background-image"] = "url(" + e.url + ")"),
                            !i["background-size"] && (i["background-size"] = "aspect-fill"),
                            this.getBackgroundSize(i["background-size"], i)) : "lbl" !== e.class && "btn" !== e.class || (i.height && !i["line-height"] && ("FIT" === i.height ? i["align-self"] = "center" : i["line-height"] = i.height),
                                "FIT" === i.width && (i["text-align"] = "center")),
                        (s || i.height && i["line-height"]) && (i["text-overflow"] = "ellipsis",
                            i["white-space"] = "nowrap",
                            i.overflow = "hidden"),
                        e.action && e.action.length && (a = e.action[0]),
                        a && (i.cursor = "pointer"),
                        t && "flex" === t.display && (i.top && (i["margin-top"] = i.top,
                            delete i.top),
                            i.right && (i["margin-right"] = i.right,
                                delete i.right),
                            i.left && (i["margin-left"] = i.left,
                                delete i.left),
                            i.bottom && (i["margin-bottom"] = i.bottom,
                                delete i.bottom)),
                        i)
                        o += l + ":" + i[l] + ";";
                    if ("box" === e.class) {
                        d = void 0;
                        e.subviews && e.subviews.length && (d = e.subviews.map((function (t) {
                            return n.translateData(t, e)
                        }
                        ))),
                            r = this.renderDivTpl({
                                cls: "temp20014-box",
                                style: o,
                                html: d,
                                action: a
                            })
                    } else
                        "lbl" === e.class ? r = this.renderSpanTpl({
                            cls: "temp20014-lbl",
                            style: o,
                            html: e.text,
                            action: a
                        }) : "img" === e.class ? r = this.renderDivTpl({
                            cls: "temp20014-img",
                            style: o,
                            action: a
                        }) : "line" === e.class ? r = this.renderDivTpl({
                            cls: "temp20014-line",
                            style: o,
                            action: a
                        }) : "btn" === e.class && (r = this.renderDivTpl({
                            cls: "temp20014-btn" + (e["button-style"] ? " " + e["button-style"] : ""),
                            style: o,
                            html: e.title,
                            action: a
                        }));
                    return r
                }
                ,
                t.prototype.renderDivTpl = function (e) {
                    var t = this
                        , n = b.default.cssToJS(e.style);
                    return m.createElement("div", {
                        ref: "J_tempAction",
                        className: e.cls + (e.action ? " J_tempAction" : ""),
                        style: n || {},
                        "data-action": "${action}",
                        onClick: function (n) {
                            return y.handleTempClick(n, t, e.action)
                        }
                    }, e.html)
                }
                ,
                t.prototype.renderSpanTpl = function (e) {
                    var t = this
                        , n = b.default.cssToJS(e.style);
                    return m.createElement("span", {
                        ref: "J_tempAction",
                        className: e.cls + (e.action ? " J_tempAction" : ""),
                        style: n || {},
                        "data-action": "${action}",
                        onClick: function (n) {
                            return y.handleTempClick(n, t, e.action)
                        }
                    }, e.html)
                }
                ,
                t.prototype.render = function () {
                    var e, t = this.props.value, n = _.default(this.props.value, "template.data.body", ""), r = _.default(this.props.value, "template.data.pc_width", "") || "small";
                    g && g === r || (g = r,
                        this.getStrMap(g));
                    var i = this.parseData(n);
                    if (!i)
                        return "";
                    var a = this.translateData(i)
                        , s = "进店卡片" === (null === (e = null == t ? void 0 : t.header) || void 0 === e ? void 0 : e.title);
                    return a ? m.createElement("div", o({
                        className: "temp20014-wrap " + O[g].cls + (t.template.data.bgl === S ? " lucy-money" : s ? " enter-card" : ""),
                        style: {
                            backgroundColor: "#fff",
                            width: t.template.data.bgl === S ? 234 : ""
                        }
                    }, w.getTabIndex(), {
                        "aria-label": "消息卡片"
                    }), a) : t.header && t.header.degrade && t.header.degrade.alternative || h.default.NOT_SUPPORT_MSG
                }
                ,
                t = l([v.observer], t)
        }(m.Component);
        t.default = M
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(28))
            , p = u(n(29))
            , g = u(n(30))
            , m = u(n(31))
            , h = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e = this;
                        return (this.props.msg.content.jsview || []).map((function (t, n) {
                            switch (t.type) {
                                case 0:
                                    return t.value.text;
                                case 1:
                                    return c.createElement(f.default, {
                                        key: "a" + n,
                                        jsviewValue: t.value
                                    });
                                case 2:
                                case 3:
                                    return c.createElement(g.default, {
                                        key: "a" + n,
                                        jsviewValue: t.value
                                    });
                                case 4:
                                    return "";
                                case 5:
                                    return c.createElement(p.default, {
                                        key: "a" + n,
                                        jsviewValue: t.value
                                    });
                                case 7:
                                    return c.createElement(m.default, {
                                        key: "a" + n,
                                        msg: e.props.msg,
                                        src: t.value.pic
                                    });
                                default:
                                    return ""
                            }
                        }
                        ))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = h
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(6))
            , f = n(4)
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return c.createElement("div", {
                            className: "imui-msg-card-wrap imui-msg-card-person",
                            style: {
                                backgroundImage: "url(" + e.content.backImageUrl + ")"
                            }
                        }, c.createElement("div", {
                            className: "feed_hd"
                        }, c.createElement("img", {
                            src: e.content.picUrl,
                            className: "bd_avator"
                        }), c.createElement("div", {
                            className: "bd_content"
                        }, e.content.title)), c.createElement("div", {
                            className: "feed_ft"
                        }, c.createElement("img", {
                            src: e.content.footerIcon
                        }), d.default.PERSONAL_CARD))
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        console.log("%ccomponentDidCatch", "color:red", e),
                            f.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "ShareBizCardMessage Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return c.createElement("div", {
                            className: "imui-msg-card-wrap imui-msg-card-share"
                        }, c.createElement("a", {
                            href: e.content.extActionUrl,
                            target: "_blank"
                        }, c.createElement("div", {
                            className: "card_share"
                        }, c.createElement("div", {
                            className: "share_left"
                        }, c.createElement("img", {
                            src: e.content.picUrl,
                            className: "left_image"
                        })), c.createElement("div", {
                            className: "share_right"
                        }, c.createElement("div", {
                            className: "right_hd"
                        }, e.ext.attr && e.ext.attr.tags && e.ext.attr.tags.map((function (e) {
                            return e ? c.createElement("img", {
                                src: e,
                                className: "hd_tag"
                            }) : null
                        }
                        )), c.createElement("span", {
                            dangerouslySetInnerHTML: {
                                __html: e.content.title
                            }
                        })), c.createElement("div", {
                            className: "right_bd"
                        }, e.content.price && c.createElement("div", {
                            className: "bd_price"
                        }, " ¥ ", e.content.price), e.ext.attr && e.ext.attr && e.ext.attr.buyNum && c.createElement("div", {
                            className: "bd_buynum"
                        }, e.ext.attr.buyNum, " 人付款"))))))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        console.log("%ccomponentDidCatch", "color:red", e),
                            f.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "ShareShopCardMessage Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return c.createElement("div", {
                            className: "imui-msg-card-wrap imui-msg-card-share"
                        }, c.createElement("div", {
                            className: "card_share_shop"
                        }, c.createElement("a", {
                            href: e.content.extActionUrl,
                            target: "_blank"
                        }, c.createElement("div", {
                            className: "share_shop",
                            style: {
                                backgroundImage: "url(" + e.content.backImageUrl + ")"
                            }
                        }, c.createElement("div", {
                            className: "share_left"
                        }, c.createElement("img", {
                            src: e.content.picUrl,
                            className: "left_image"
                        })), c.createElement("div", {
                            className: "share_right"
                        }, c.createElement("div", {
                            className: "share_right_hd",
                            dangerouslySetInnerHTML: {
                                __html: e.content.title
                            }
                        }), c.createElement("img", {
                            src: e.content.descPicUrl,
                            className: "share_right_desc"
                        }))), c.createElement("div", {
                            className: "share_shop_footer"
                        }, c.createElement("img", {
                            src: e.content.footerIcon,
                            className: "share_shop_footer_icon"
                        }), e.content.footerText))))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        f.default.logger({
                            msg: e.message,
                            stack: JSON.stringify(e.stack),
                            url: "FeedCardMessage Component error",
                            sampling: 1
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return c.createElement("div", {
                            className: "imui-msg-card-wrap imui-msg-card-feed"
                        }, c.createElement("div", {
                            className: "feed_hd",
                            dangerouslySetInnerHTML: {
                                __html: e.content.title
                            }
                        }), c.createElement("div", {
                            className: "feed_bd"
                        }, c.createElement("a", {
                            href: e.content.extActionUrl
                        }, e.content.picUrl && c.createElement("img", {
                            className: "bd_pic",
                            src: e.content.picUrl
                        })), e.content.content && c.createElement("div", {
                            className: "bd_content",
                            dangerouslySetInnerHTML: {
                                __html: e.content.content
                            }
                        })))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(2))
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        console.log("%ccomponentDidCatch", "color:red", e),
                            f.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "ShareOtherCardMessage Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        return c.createElement("div", {
                            className: "imui-msg-card-wrap imui-msg-card-share"
                        }, c.createElement("a", {
                            href: e.content.extActionUrl,
                            target: "_blank"
                        }, c.createElement("div", {
                            className: "share_msg"
                        }, e.content.picUrl && c.createElement("div", {
                            className: "msg_hd"
                        }, c.createElement("img", {
                            className: "hd_urlpic",
                            src: e.content.picUrl
                        })), c.createElement("div", {
                            className: "msg_bd"
                        }, c.createElement("div", {
                            className: "msg_tlt",
                            dangerouslySetInnerHTML: {
                                __html: e.content.title
                            }
                        }), e.content.content && c.createElement("div", {
                            className: "msg_content",
                            dangerouslySetInnerHTML: {
                                __html: e.content.content
                            }
                        })), e.content.from && c.createElement("div", {
                            className: "msg_ft",
                            dangerouslySetInnerHTML: {
                                __html: e.content.from
                            }
                        }))))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__importStar || function (e) {
            if (e && e.__esModule)
                return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
            return a(t, e),
                t
        }
            , l = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var u = s(n(0))
            , c = l(n(1))
            , d = l(n(5))
            , f = c.default.SDK
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e = this.props.msg
                            , t = d.default(e, "content.header.summary", "")
                            , n = null;
                        try {
                            var r = JSON.parse(d.default(e, "content.internal"));
                            n = "object" == typeof r.data ? r.data : JSON.parse(r.data)
                        } catch (e) {
                            n = null
                        }
                        var i = d.default(e, "conversationId", "")
                            , o = d.default(e, "messageId", "")
                            , a = d.default(e, "clientId", "");
                        return e.content ? u.createElement("div", {
                            className: "trans-wrapper",
                            onClick: function () {
                                f.openWeb({
                                    url: "https://market.m.taobao.com/app/im/qn-forward-msg/index.html?type=s&cid=" + encodeURIComponent(i) + "&mid=" + o + "&clientId=" + a + "#/person",
                                    title: t,
                                    width: 700,
                                    height: 600
                                })
                            }
                        }, u.createElement("div", {
                            className: "trans-title"
                        }, t), u.createElement("div", {
                            className: "trans-content"
                        }, n.slice(0, 3).map((function (e) {
                            return u.createElement("div", {
                                className: "trans-msg"
                            }, u.createElement("span", null, e.displayName, ":"), e.width && e.height ? "[图片]" : e.content)
                        }
                        )))) : null
                    }
                    ,
                    t
            }(u.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = n(4)
            , f = u(n(171))
            , p = u(n(2))
            , g = u(n(1))
            , m = u(n(5))
            , h = u(n(44))
            , v = u(n(33))
            , y = g.default.SDK
            , b = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.edit = function () {
                        var e = m.default(t.props.msg, "conversationId", "")
                            , n = {
                                text: m.default(t.props.msg, "content.text", ""),
                                cid: e,
                                channelType: "group" === g.default.chatType ? 0 : 2
                            };
                        y.reEdit(n)
                    }
                        ,
                        t.robotMsg = function (e, t) {
                            var n;
                            y.doWXAction({
                                wangxurl: 'wangx://qnplugin/protocol?qnprotocolcmd=openComponent&param={"component":"robotmsg","param":{"knowledge":' + JSON.stringify(e) + ',"biztype":"robot"}}',
                                actionrect: {
                                    let: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cardrect: {
                                    left: 0,
                                    bottom: 0,
                                    right: 0,
                                    top: 0
                                },
                                cid: {
                                    ccode: null === (n = null === g.default || void 0 === g.default ? void 0 : g.default.conversationID) || void 0 === n ? void 0 : n.ccode
                                }
                            }),
                                y.utCLK({
                                    pageName: "QNAPP_Chatwindow_menu",
                                    monitorName: "robot_correct_click",
                                    args: {
                                        msgId: t.messageId
                                    }
                                })
                        }
                        ,
                        t
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        console.log("%ccomponentDidCatch", "color:red", e),
                            p.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "SystemMessage Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.renderAudioChat = function (e) {
                        switch (e.content.type) {
                            case 0:
                                return "你发起了和" + e.subNick + "的语音聊天请求";
                            case 1:
                                return '你收到了"' + e.subNick + '"的语音聊天请求';
                            case 2:
                                return "你结束和" + e.subNick + "的语音聊天";
                            case 3:
                                return e.subNick + "结束与你的语音聊天";
                            case 4:
                                return "你拒绝了" + e.subNick + "的语音聊天请求";
                            case 5:
                                return e.subNick + "拒绝了你的语音聊天请求";
                            case 6:
                                return "请先停止你当前的语音或者视频，再重试";
                            case 7:
                                return e.subNick + "正在进行语音或者视频，请稍后再试";
                            case 8:
                                return "请先停止你当前的语音聊天，再重试";
                            case 9:
                                return e.subNick + "正在进行语音聊天，请稍后再试";
                            case 10:
                                return "连接超时或者对方版本不支持，无法使用语音或视频功能";
                            case 11:
                                return "由于网络故障，语音功能中断";
                            case 12:
                                return "对方无应答，连接超时请稍候再试";
                            default:
                                console.log("未解析的语音聊天系统消息", e)
                        }
                    }
                    ,
                    t.prototype.renderVideoChat = function (e) {
                        var t;
                        switch (e.content.type) {
                            case 0:
                                t = "你发起了和" + e.subNick + "的视频聊天请求";
                                break;
                            case 1:
                                t = "你收到了" + e.subNick + "的视频聊天请求";
                                break;
                            case 2:
                                t = "你结束和" + e.subNick + "的视频聊天";
                                break;
                            case 3:
                                t = e.subNick + "结束与你的视频聊天";
                                break;
                            case 4:
                                t = "你拒绝了" + e.subNick + "的视频聊天请求";
                                break;
                            case 5:
                                t = e.subNick + "拒绝了你的视频聊天请求";
                                break;
                            case 6:
                                t = "请先停止你当前的语音或者视频，再重试";
                                break;
                            case 7:
                                t = e.subNick + "正在进行语音或者视频，请稍后再试";
                                break;
                            case 8:
                                t = "请先停止你当前的语音聊天，再重试";
                                break;
                            case 9:
                                t = e.subNick + "正在进行视频聊天，请稍后再试";
                                break;
                            case 10:
                                t = "连接超时或者对方版本不支持，无法使用语音或视频功能";
                                break;
                            case 11:
                                t = "由于网络故障，语音功能中断";
                                break;
                            case 12:
                                t = "对方无应答，连接超时请稍候再试"
                        }
                        return t
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this
                            , t = function () {
                                return c.createElement("span", null)
                            }
                            , n = this.props.msg;
                        if (n.content.type)
                            switch (n.content.type) {
                                case 5:
                                    0 == n.content.sysType && (t = function () {
                                        return c.createElement(c.Fragment, null, n.content.fileName, "已经被自动拒绝接收,你可以", c.createElement("a", {
                                            href: "javascript:;",
                                            className: "J_openFileSetting"
                                        }, "点此修改"), "设置")
                                    }
                                    );
                                    break;
                                case 6:
                                    t = function () {
                                        return c.createElement("span", null, e.renderAudioChat(n))
                                    }
                                        ;
                                    break;
                                case 7:
                                    t = function () {
                                        return c.createElement("span", null, e.renderVideoChat(n))
                                    }
                                        ;
                                    break;
                                case 9:
                                    t = function () {
                                        return c.createElement("span", null, n.content.content)
                                    }
                                        ;
                                    break;
                                case 15:
                                    console.info("语音转文字系统设置消息=====", n);
                                    break;
                                case 16:
                                    break;
                                case 17:
                                    t = function () {
                                        return c.createElement("span", null, n.content.content.security_notify.sender_remind_msg)
                                    }
                            }
                        else
                            n.content.content && (t = function () {
                                return c.createElement("span", null, n.content.content)
                            }
                            );
                        if ("custom" === n.msgtype && (t = function () {
                            return c.createElement(f.default, {
                                msg: n
                            })
                        }
                        ),
                            2 === n.status) {
                            var r = m.default(this.props.msg, "menu.canRecall", !1)
                                , i = m.default(this.props.msg, "content.text", "")
                                , o = (m.default(this.props.msg, "ext.bizDataExt.partner_bizid") || "").indexOf("rosefinch#539") > -1
                                , a = m.default(n, "ext.templateDynamicData.knowledge", "");
                            o && console.log("knowledge---", n, a),
                                t = function () {
                                    return c.createElement("span", null, n.isself && (o || r && i) ? c.createElement("span", null, "你 撤回了一条", o ? "机器人应答" : "", "消息 ", c.createElement("a", {
                                        className: "msg-reedit",
                                        onClick: function () {
                                            o ? e.robotMsg(a, n) : e.edit()
                                        },
                                        href: "#"
                                    }, o ? "点击纠错" : "重新编辑")) : n.isself ? "你 撤回了一条消息" : n.fromNick + " 撤回了一条消息")
                                }
                        }
                        return "noSupport" === (null == n ? void 0 : n.msgtype) || 241001 === (null == n ? void 0 : n.templateId) ? c.createElement(v.default, {
                            msg: n,
                            type: "card"
                        }) : "polymor" === (null == n ? void 0 : n.msgtype) ? c.createElement(h.default, {
                            msg: n,
                            type: "card"
                        }) : c.createElement("div", {
                            className: "J_msg imui-msg-system",
                            id: n.messageId || n.clientId
                        }, c.createElement(t, null))
                    }
                    ,
                    t = s([d.observer], t)
            }(c.Component);
        t.default = b
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__importStar || function (e) {
            if (e && e.__esModule)
                return e;
            var t = {};
            if (null != e)
                for (var n in e)
                    "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
            return a(t, e),
                t
        }
            , l = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var u = s(n(0))
            , c = l(n(2))
            , d = s(n(12))
            , f = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.componentDidCatch = function (e) {
                        console.log("%ccomponentDidCatch", "color:red", e),
                            c.default.logger({
                                msg: e.message,
                                stack: JSON.stringify(e.stack),
                                url: "CustomMessage Component error",
                                sampling: 1
                            })
                    }
                    ,
                    t.prototype.renderSummary = function (e, t, n) {
                        var r, i = this;
                        switch (e.customType) {
                            case "13001":
                                r = t.fromNick + "邀请你进行视频聊天";
                                break;
                            case "13002":
                            case "13003":
                                r = t.fromNick + "取消了视频聊天";
                                break;
                            case "13004":
                                r = "通话时长" + e.duration;
                                break;
                            case "13005":
                                r = t.fromNick + "接受了视频聊天";
                                break;
                            case "14001":
                                r = t.fromNick + "邀请你进行语音聊天";
                                break;
                            case "14002":
                            case "14003":
                                r = t.fromNick + "取消了语音聊天";
                                break;
                            case "14004":
                                r = "通话时长" + e.duration;
                                break;
                            case "14005":
                                r = t.fromNick + "接受了语音聊天";
                                break;
                            case "40001":
                                r = "对方向你转发了消息";
                                break;
                            default:
                                r = ""
                        }
                        if (e.hongbao_id && this.props.msg.content.header.summary) {
                            var o = this.props.msg.content.header.summary.split("红包");
                            r = u.createElement(u.Fragment, null, u.createElement("i", {
                                className: "icon-sysmsg-hongbao"
                            }), o[0], u.createElement("span", {
                                className: "u-syshongbao J_msg_Syshongbao",
                                "data-action": "https://alimarket.m.taobao.com/markets/qnww/hongbao?ActionExtraParam=wangwang://hongbao/query?hongbaoId=" + e.hongbao_id + "&hongbaoType=" + e.hongbaoType + "&sender=" + e.hongbaoSender,
                                ref: "J_tempAction",
                                onClick: function (t) {
                                    return d.handleTempClick(t, i, "https://alimarket.m.taobao.com/markets/qnww/hongbao?ActionExtraParam=wangwang://hongbao/query?hongbaoId=" + e.hongbao_id + "&hongbaoType=" + e.hongbaoType + "&sender=" + e.hongbaoSender)
                                }
                            }, "红包"), o[1] && o[1])
                        }
                        return r
                    }
                    ,
                    t.prototype.render = function () {
                        var e = this.props.msg;
                        if (!e.content)
                            return null;
                        var t = "string" == typeof e.content.internal ? JSON.parse(e.content.internal) : e.content.internal;
                        return this.renderSummary(t, e, e.content.header && e.content.header.summary)
                    }
                    ,
                    t
            }(u.Component);
        t.default = f
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__assign || function () {
            return (o = Object.assign || function (e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var i in t = arguments[n])
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e
            }
            ).apply(this, arguments)
        }
            , a = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
                void 0 === r && (r = n),
                    Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: function () {
                            return t[n]
                        }
                    })
            }
                : function (e, t, n, r) {
                    void 0 === r && (r = n),
                        e[r] = t[n]
                }
            ), s = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            ), l = this && this.__decorate || function (e, t, n, r) {
                var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    a = Reflect.decorate(e, t, n, r);
                else
                    for (var s = e.length - 1; s >= 0; s--)
                        (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
                return o > 3 && a && Object.defineProperty(t, n, a),
                    a
            }
            , u = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && a(t, e, n);
                return s(t, e),
                    t
            }
            , c = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var d = u(n(0))
            , f = c(n(1))
            , p = c(n(6))
            , g = u(n(12))
            , m = n(4)
            , h = n(3)
            , v = c(n(2))
            , y = n(55)
            , b = c(n(21))
            , _ = c(n(5))
            , w = n(10)
            , x = function (e) {
                y.utLogClK({
                    pageName: "QNAPP_Chatwindow_menu",
                    monitorName: "bubble_menu",
                    args: {
                        menu_name: e
                    }
                })
            }
            , O = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.msg = h.toJS(t.props.msg),
                        t.state = {
                            canRecall: !0,
                            canReport: !1,
                            canAddRobot: !1
                        },
                        t.getSmartAssistantStatus = function () {
                            window.imsdk.invoke("im.bizutil.GetSmartAssistantStatus", {
                                param: {}
                            }).then((function (e) {
                                var n = (_.default(t.props.msg, "ext.bizDataExt.partner_bizid") || "").indexOf("rosefinch#539") > -1
                                    , r = (null == e ? void 0 : e.result) || {}
                                    , i = r.status
                                    , o = r.ext
                                    , a = ((void 0 === o ? {} : o) || {}).tenantId
                                    , s = "" + (void 0 === a ? "" : a) == "539";
                                console.log("status-", i, s, !n, null == e ? void 0 : e.result),
                                    t.setState({
                                        canAddRobot: i && s && !n
                                    })
                            }
                            ))
                        }
                        ,
                        t.handleMessageMenu = function () {
                            var e = t.msg;
                            t.getSmartAssistantStatus(),
                                f.default.getTimestamp().then((function (n) {
                                    var r = parseInt(e.sendTime);
                                    e.isself && n - r <= p.default.RECALL_LIMIT ? t.setState({
                                        canRecall: !0
                                    }) : t.setState({
                                        canRecall: !1
                                    })
                                }
                                ));
                            var n = document.getElementById("bubble_" + e.messageId)
                                , r = (null == n ? void 0 : n.getBoundingClientRect()) || {}
                                , i = r.y
                                , o = void 0 === i ? 0 : i
                                , a = r.x
                                , s = void 0 === a ? 0 : a
                                , l = r.width
                                , u = void 0 === l ? 0 : l;
                            n && ((n && o || 0) < 0 ? (n.style.top = "0px",
                                n.style.bottom = "auto") : (n.style.top = "auto",
                                    n.style.bottom = "20px"),
                                s + u > window.innerWidth && (n.style.left = "-" + (u - 15) + "px",
                                    n.style.width = u + "px"),
                                s < 0 && (n.style.left = "0px",
                                    n.style.width = u + "px"))
                        }
                        ,
                        t.reportMsg = function (e) {
                            var n = t.props.msg;
                            v.default.parents(e.target, "imui-msg-menu-wrap").blur(),
                                f.default.SDK.reportMsg({
                                    cid: {
                                        ccode: f.default.conversationID.ccode
                                    },
                                    mcode: {
                                        messageId: n.messageId,
                                        clientId: n.clientId
                                    }
                                }, f.default.chatType).then((function (e) {
                                    var t = "string" == typeof e.result ? JSON.parse(e.result) : e.result;
                                    t && t.message && b.default.show(t.message, 2e3)
                                }
                                ))
                        }
                        ,
                        t.showText = function (e, n) {
                            var r = t.msg
                                , i = _.default(r, "messageId", "")
                                , o = document.getElementById("audio_" + i);
                            o && (o.style.display = "inline-block")
                        }
                        ,
                        t.quote = function (e, n) {
                            var r = t.msg
                                , i = _.default(r, "messageId", "")
                                , o = _.default(r, "conversationId", "")
                                , a = _.default(r, "clientId", "")
                                , s = _.default(r, "msgtype", "")
                                , l = _.default(r, "content", "")
                                , u = _.default(r, "fromNick", "")
                                , c = _.default(r, "targetId")
                                , d = _.default(r, "targetType")
                                , p = f.default.chatType;
                            f.default.SDK.msgQuote({
                                ccode: o,
                                mcode: {
                                    messageId: i,
                                    clientId: a
                                }
                            }, p),
                                f.default.updateQuoteModal(!0),
                                f.default.updateQuoteMsg({
                                    messageId: i,
                                    clientId: a,
                                    ccode: o,
                                    msgType: s,
                                    content: l,
                                    fromNick: u
                                }),
                                "group" === p && f.default.SDK.insertAtMember({
                                    targetId: c,
                                    targetType: d
                                }),
                                v.default.parents(e.target, "imui-msg-menu-wrap").blur(),
                                f.default.updateSelectModal(!1),
                                f.default.updateSelectBox(!1),
                                f.default.selectList.clear(),
                                f.default.selectNickList.clear(),
                                f.default.selectType.clear()
                        }
                        ,
                        t.openOrigin = function (e, n) {
                            var r, i, o, a = t.msg, s = null === (i = null === (r = null == a ? void 0 : a.ext) || void 0 === r ? void 0 : r.bizDataExt) || void 0 === i ? void 0 : i.partner_bizid, l = null;
                            try {
                                var u = _.default(a, "ext.bizDataExt.amp_tag", "");
                                l = null === (o = JSON.parse(u)) || void 0 === o ? void 0 : o.icon
                            } catch (e) { }
                            f.default.SDK.openMsgSource({
                                bizId: s,
                                iconKey: l
                            }),
                                v.default.parents(e.target, "imui-msg-menu-wrap").blur()
                        }
                        ,
                        t
                }
                return i(t, e),
                    t.prototype.componentDidMount = function () {
                        this.getSmartAssistantStatus(),
                            this.setState({
                                canReport: !this.props.msg.isself
                            })
                    }
                    ,
                    t.prototype.componentWillReceiveProps = function (e) {
                        this.props.msg !== e.msg && (this.msg = h.toJS(e.msg))
                    }
                    ,
                    t.prototype.render = function () {
                        var e, t, n, r, i = this;
                        if (f.default.isPreview)
                            return null;
                        var a = this.msg
                            , s = "voice" === _.default(a, "msgtype", "")
                            , l = !!(null === (t = null === (e = null == a ? void 0 : a.ext) || void 0 === e ? void 0 : e.bizDataExt) || void 0 === t ? void 0 : t.partner_bizid) && !!(null === (r = null === (n = null == a ? void 0 : a.ext) || void 0 === n ? void 0 : n.bizDataExt) || void 0 === r ? void 0 : r.amp_tag)
                            , u = [a.menu.canCopy, a.menu.canForward, this.state.canRecall, this.state.canReport, s].filter(Boolean).length
                            , c = !1;
                        try {
                            ("polymor" === a.msgtype && 191013 === a.ext.dynamic_msg_content[0].templateId || 57002 === a.templateId || "template" === a.msgtype && 20014 === a.content.template.id || 274015 === a.ext.dynamic_msg_content[0].templateId) && (c = !0)
                        } catch (e) { }
                        var m = _.default(this.props.msg, "content.desensitizationReceiverMsgJsView");
                        return 0 === a.status && d.createElement("div", o({
                            className: "imui-msg-menu-wrap J_menuWrap",
                            "aria-label": "菜单"
                        }, f.default.ariaHelp ? {} : {
                            tabIndex: 0
                        }, {
                            onFocus: this.handleMessageMenu.bind(this)
                        }), f.default.ariaHelp ? d.createElement("div", {
                            className: "bubble-menu-trigger",
                            style: {
                                visibility: "visible"
                            },
                            onClick: function (e) {
                                e.stopPropagation(),
                                    e.preventDefault(),
                                    i.handleMessageMenu();
                                var t = e.target.nextSibling;
                                t && t.setAttribute("style", "visibility: visible")
                            },
                            onKeyUp: function (e) {
                                if (13 === e.keyCode) {
                                    var t = e.target.nextSibling;
                                    t && t.setAttribute("style", "visibility: visible")
                                }
                            },
                            tabIndex: 0,
                            "aria-label": "菜单"
                        }) : d.createElement("span", {
                            className: "bubble-menu-trigger",
                            onClick: this.handleMessageMenu.bind(this),
                            onFocus: this.handleMessageMenu.bind(this),
                            onMouseDown: this.handleMessageMenu.bind(this)
                        }), d.createElement("ul", {
                            className: "J_bubbleMenuList bubble-menu-list bml-i" + u,
                            id: "bubble_" + a.messageId
                        }, a.menu.canCopy && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleCopy(i.props.context, a, e),
                                x(p.default.MENU_COPY),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleCopy(i.props.context, a, e),
                                    x(p.default.MENU_COPY),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_COPY), a.menu.canForward && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleForward(a, e),
                                x(p.default.MENU_FORWARD),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleForward(a, e),
                                    x(p.default.MENU_FORWARD),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_FORWARD), "text" === a.msgtype && f.default.isOverseaUser && !a.isself && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 10),
                                x(p.default.MENU_TRANSLATE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 10),
                                    x(p.default.MENU_TRANSLATE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_TRANSLATE), this.state.canRecall && !c && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleRecall(a, e),
                                x(p.default.MENU_RECALL),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleRecall(a, e),
                                    x(p.default.MENU_RECALL),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_RECALL), this.state.canReport && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            i.reportMsg(e),
                                x(p.default.MENU_REPORT),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                i.reportMsg(e),
                                    x(p.default.MENU_REPORT),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_REPORT), "image" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 1),
                                x(p.default.MENU_PHOTO_SEE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 1),
                                    x(p.default.MENU_PHOTO_SEE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_PHOTO_SEE), "image" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 2),
                                x(p.default.MENU_PHOTO_SAVE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 2),
                                    x(p.default.MENU_PHOTO_SAVE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_PHOTO_SAVE), "image" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 3),
                                x(p.default.MENU_ADD_EMOJI),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 3),
                                    x(p.default.MENU_ADD_EMOJI),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_ADD_EMOJI), "image" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 4),
                                x(p.default.MENU_FIX_EMOJI),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 4),
                                    x(p.default.MENU_FIX_EMOJI),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_FIX_EMOJI), "image" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 9),
                                x(p.default.MENU_PHOTO_EDIT),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 9),
                                    x(p.default.MENU_PHOTO_EDIT),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_PHOTO_EDIT), "voice" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            i.showText(e, i.props.context),
                                x(p.default.MENU_VOICE_2_TEXT),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                i.showText(e, i.props.context),
                                    x(p.default.MENU_VOICE_2_TEXT),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_VOICE_2_TEXT), d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            f.default.updateSelectModal(!0),
                                f.default.updateSelectBox(!0),
                                f.default.updateQuoteModal(!1),
                                f.default.updateQuoteMsg(null),
                                v.default.parents(e.target, "imui-msg-menu-wrap").blur(),
                                x(p.default.MENU_MULTIPLE_CHOICE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                f.default.updateSelectModal(!0),
                                    f.default.updateSelectBox(!0),
                                    f.default.updateQuoteModal(!1),
                                    f.default.updateQuoteMsg(null),
                                    v.default.parents(e.target, "imui-msg-menu-wrap").blur(),
                                    x(p.default.MENU_MULTIPLE_CHOICE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_MULTIPLE_CHOICE), ("text" === a.msgtype || "image" === a.msgtype) && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            i.quote(e, i.props.context),
                                x(p.default.MENU_REPLY),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                i.quote(e, i.props.context),
                                    x(p.default.MENU_REPLY),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_REPLY), m && a.messageId && !f.default.abuseList.has(null == a ? void 0 : a.messageId) && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            (null == a ? void 0 : a.messageId) && f.default.abuseList.set(a.messageId, a.msgtype),
                                x(p.default.MENU_SEE_ORIGINAL_TEXT),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                (null == a ? void 0 : a.messageId) && f.default.abuseList.set(a.messageId, a.msgtype),
                                    x(p.default.MENU_SEE_ORIGINAL_TEXT),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_SEE_ORIGINAL_TEXT), l && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            i.openOrigin(e, i.props.context),
                                x(p.default.MENU_MESSAGE_SOURCE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                i.openOrigin(e, i.props.context),
                                    x(p.default.MENU_MESSAGE_SOURCE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_MESSAGE_SOURCE), "text" === a.msgtype && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 7),
                                x(p.default.MENU_QUICK_LANGUAGE),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 7),
                                    x(p.default.MENU_QUICK_LANGUAGE),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_QUICK_LANGUAGE), ("text" === a.msgtype || "image" === a.msgtype) && this.state.canAddRobot && d.createElement("li", o({}, w.getTabIndex(), w.getOnKeyUp((function (e) {
                            g.handleBubbleMenu(i.props.context, a, e, 8),
                                x(p.default.MENU_ROBOT_REPLY),
                                w.setStyle(e)
                        }
                        )), {
                            role: "menuitem",
                            onClick: function (e) {
                                g.handleBubbleMenu(i.props.context, a, e, 8),
                                    x(p.default.MENU_ROBOT_REPLY),
                                    w.setStyle(e)
                            }
                        }), p.default.MENU_ROBOT_REPLY)))
                    }
                    ,
                    t = l([m.observer], t)
            }(d.Component);
        t.default = O
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(174))
            , o = r(n(6));
        n(175);
        var a = r(n(1))
            , s = [{
                text: o.default.OPEN,
                action: "im.bizutil.DoUrlAction",
                param: {
                    url: "${url}"
                }
            }, {
                text: o.default.REPORT,
                action: "im.uiutil.ShowReportCenter",
                param: {
                    url: "${url}",
                    page: 2
                }
            }, {
                text: o.default.COPY,
                action: "im.bizutil.CopyText2Clipboard",
                param: {
                    content: "${url}"
                }
            }]
            , l = {
                __ToolBtnList: s,
                __lastTarget: null,
                __timer: null,
                __BOX_WIDTH: 250,
                __BOX_HEIGHT: 81,
                __OFFSET: 10,
                getContainer: function () {
                    return document.getElementById("J_msgContainer")
                },
                init: function (e) {
                    this.popupOver = new i.default(this.getContainer()),
                        this.config = {
                            visible: !1,
                            x: 0,
                            y: 0,
                            cls: "J_linkPopupOver",
                            tpl: "",
                            html: "",
                            parent: this.getContainer() && this.getContainer().parentNode
                        },
                        this.windowWidth = window.innerWidth,
                        this.windowHeight = window.innerHeight,
                        this.render(),
                        this._events()
                },
                _events: function () {
                    var e = this
                        , t = window.innerHeight;
                    window.addEventListener("resize", (function (n) {
                        e.windowWidth = window.innerWidth,
                            e.windowHeight = window.innerHeight,
                            e.windowHeight < t && a.default.scrollToBottom()
                    }
                    )),
                        this.popupOver.box.onclick = function (t) {
                            var n = t.target;
                            if (n.matches(".J_linkAction")) {
                                var r = n.getAttribute("data-action")
                                    , i = e.__ToolBtnList.filter((function (e) {
                                        return e.action === r
                                    }
                                    ))[0].param;
                                i = JSON.stringify(i).replace("${url}", e.url),
                                    a.default.SDK.invoke(r, JSON.parse(i)),
                                    e.config.visible = !1,
                                    e.render()
                            }
                        }
                        ,
                        this.getContainer() && (this.getContainer().addEventListener("scroll", (function () {
                            e.config.visible && (e.config.visible = !1,
                                e.render())
                        }
                        )),
                            this.getContainer().onclick = function (t) {
                                var n = t.target;
                                if ("A" === n.tagName.toUpperCase() || n.parentNode && (n = n.parentNode) && "A" === n.tagName.toUpperCase()) {
                                    t.preventDefault();
                                    var r = n.getAttribute("data-safeflag")
                                        , i = n.getAttribute("href");
                                    if ("#" === i || "javascript:;" === i)
                                        return;
                                    if (!r || 1 == r)
                                        return e.config.visible && (e.config.visible = !1,
                                            e.render()),
                                            a.default.SDK.openUrl({
                                                url: i,
                                                cid: {
                                                    ccode: a.default.conversationID.ccode
                                                }
                                            });
                                    var o = t.pageX
                                        , s = t.pageY
                                        , l = e.__BOX_WIDTH
                                        , u = (e.__BOX_HEIGHT,
                                            e.__OFFSET);
                                    o = e.windowWidth - o > l + u ? o + u : o - l - u > 0 ? o - l - u : e.windowWidth - l - u,
                                        e.url = i,
                                        e.config.x = o,
                                        e.config.y = s,
                                        e.config.visible = !0,
                                        e.config.html = e.getTpl(r),
                                        e.render()
                                } else {
                                    (r = n.getAttribute("data-safeflag")) && 0 != r || e.config.visible && (e.config.visible = !1,
                                        e.render())
                                }
                            }
                        )
                },
                setBtnList: function (e) {
                    this.__ToolBtnList = e,
                        this.config.html = ""
                },
                getTpl: function (e) {
                    var t, n = 1 == e, r = this.__ToolBtnList;
                    return '<div class="imui-msg-link-box">\n            <div class="warning-text">\n                ' + (n ? o.default.SAFE_LINK_OPEN : o.default.UNKNOWN_LINK_CAREFUL) + '\n            </div>\n            <a href="https://www.taobao.com/market/110/school.php" target="_blank" class="link-school">' + o.default.HOW_IDENTIFY_LINK + '</a>\n            <div class="warning-actions">\n                ' + (t = "",
                        r.forEach((function (e) {
                            t += '<a href="javascript:void(0)" data-action="' + e.action + '" class="warning-action J_linkAction">' + e.text + "</a>"
                        }
                        )),
                        t + "\n            </div>\n        </div>")
                },
                render: function () {
                    this.popupOver.render(this.config)
                }
            };
        t.default = l
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var r = function () {
            function e(e, t) {
                return this.container = e,
                    this.box = null,
                    this.visible = !1,
                    this.config = t,
                    this
            }
            return e.prototype.calculate = function (e, t) {
                if (!this.box)
                    return {};
                var n = e
                    , r = t;
                if (!this.config || this.config && n !== this.config.x || r !== this.config.y) {
                    var i = window.innerWidth
                        , o = window.innerHeight;
                    e + 230 > i && e < 230 ? n = (i - 230) / 2 : (n = e + 230 > i ? e - 230 - 5 : e + 5,
                        n = Math.min(n, i - 230),
                        n = Math.max(n, 0)),
                        t + 88 > o && (r = o - 88)
                }
                var a = {};
                return a[e >= 0 ? "left" : "right"] = Math.abs(n) + "px",
                    a.top = Math.abs(r) + "px",
                    a
            }
                ,
                e.prototype.getStyle = function (e) {
                    var t = e.x
                        , n = e.y
                        , r = e.visible
                        , i = this.calculate(t, n)
                        , o = "";
                    for (var a in i.visibility = r ? "visible" : "hidden",
                        i.opacity = r ? "1" : "0",
                        this.visible = r,
                        i)
                        o += a + ":" + i[a] + ";";
                    return o
                }
                ,
                e.prototype.render = function (e) {
                    var t = e.cls
                        , n = e.tpl
                        , r = e.html
                        , i = e.parent
                        , o = this.getStyle(e);
                    if (t || (t = ""),
                        !this.box) {
                        var a = document.createElement("div");
                        n && (a.innerHTML = n),
                            a.className = "popup-over " + t,
                            this.box = a,
                            (i || document.body).appendChild(a)
                    }
                    this.box.setAttribute("style", o),
                        r && (this.box.innerHTML = r)
                }
                ,
                e
        }();
        t.default = r
    }
    , function (e, t, n) {
        var r = n(23)
            , i = n(176);
        "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]);
        var o = {
            insert: "head",
            singleton: !1
        };
        r(i, o);
        e.exports = i.locals || {}
    }
    , function (e, t, n) {
        (t = n(24)(!1)).push([e.i, ".msg-outer-body .imui-msg-link-box{position:relative;width:210px;padding:10px;background:#fff;box-shadow:-1px 2px 10px 0 rgba(0,0,0,.13);border:none;overflow:initial}.msg-outer-body .imui-msg-link-box .warning-text{font-size:13px;margin-bottom:5px;color:#3d4145;font-weight:normal}.msg-outer-body .imui-msg-link-box .link-school{color:#3089dc;text-decoration:none}.msg-outer-body .imui-msg-link-box .warning-actions{text-align:right}.msg-outer-body .imui-msg-link-box .warning-action{display:inline-block;background:#fff;border:1px solid #ccc;padding:3px 10px;color:#666;text-decoration:none;margin-right:6px;border-radius:2px}.msg-outer-body .imui-msg-link-box .warning-action:hover{background:#fafafa}", ""]),
            e.exports = t
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(42));
        n(178);
        var o = {
            __lastTarget: null,
            __timer: null,
            getContainer: function () {
                return document.getElementById("J_msgContainer")
            },
            init: function (e) {
                this.popupOver = new i.default(this.getContainer()),
                    this.config = {
                        visible: !1,
                        x: 0,
                        y: 0,
                        cls: "J_imagePopupOver",
                        tpl: "",
                        html: "",
                        parent: this.getContainer() && this.getContainer().parentNode
                    },
                    this.render(),
                    this._events()
            },
            _events: function () {
                var e = this;
                this.getContainer() && this.getContainer().addEventListener("scroll", (function () {
                    e.config.visible && (e.config.visible = !1,
                        e.render())
                }
                )),
                    document.body.addEventListener("mousemove", (function (t) {
                        var n = t.target;
                        clearTimeout(e.__timer),
                            n.classList.contains("status-modify") && "true" !== localStorage.getItem("modifyTip") && (e.__timer = setTimeout((function () {
                                e.config.x = t.clientX,
                                    e.config.y = t.clientY,
                                    e.config.visible = !0,
                                    e.render()
                            }
                            ), 1e3))
                    }
                    )),
                    document.addEventListener("click", (function (t) {
                        var n;
                        "tool-btn" === (null === (n = null == t ? void 0 : t.target) || void 0 === n ? void 0 : n.className) && (localStorage.setItem("modifyTip", "true"),
                            e.config.visible = !1,
                            e.render())
                    }
                    ))
            },
            getTpl: function () {
                return '<div class="tool-tip"><div class="tool-tt">机器人回复支持纠错了</div><div class="tool-content">点击可查看机器人识别结果，及修改机器人知识库的应答</div><div class="tool-btn">知道了</div></div>',
                    '<div class="tool-tip"><div class="tool-tt">机器人回复支持纠错了</div><div class="tool-content">点击可查看机器人识别结果，及修改机器人知识库的应答</div><div class="tool-btn">知道了</div></div>'
            },
            render: function () {
                !!!this.config.html && (this.config.html = this.getTpl()),
                    this.popupOver.render(this.config),
                    this.isEventBinding || (this.isEventBinding = !0)
            }
        };
        t.default = o
    }
    , function (e, t, n) {
        var r = n(23)
            , i = n(179);
        "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]);
        var o = {
            insert: "head",
            singleton: !1
        };
        r(i, o);
        e.exports = i.locals || {}
    }
    , function (e, t, n) {
        (t = n(24)(!1)).push([e.i, ".tool-tip{background-color:#3d7fff;width:288px;height:150px;padding:18px;color:#fff;border-radius:9px;position:relative}.tool-tip .tool-tt{font-size:16px;font-weight:600}.tool-tip .tool-content{font-size:14px;opacity:.8;margin-top:8px}.tool-tip .tool-btn{font-size:14px;font-weight:600;width:84px;height:30px;text-align:center;background-color:rgba(255,255,255,.2);border-radius:15px;margin-top:12px;line-height:30px;position:absolute;bottom:18px;right:18px;cursor:pointer}", ""]),
            e.exports = t
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(1))
            , f = n(4)
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        return window && !0 === window._dangerous_switch_page_crash ? (console.log("mock crash"),
                            (new Date).toAb()) : d.default.pending ? c.createElement("div", {
                                className: "msg-loading"
                            }) : null
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(1))
            , f = n(4)
            , p = window.imsdk.invoke
            , g = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.handleMoreAction = function () {
                        var e = 0 === d.default.conversationID.ctype
                            , t = {
                                cCode: d.default.conversationID.ccode,
                                isTribe: e ? 0 : 1,
                                viewType: e ? 1 : 0
                            };
                        e ? t.uid = {
                            appkey: "cntaobao",
                            nick: d.default.conversationID.nick
                        } : t.tid = {
                            tribeid: d.default.conversationID.tribeId || d.default.conversationID.targetId,
                            type: e ? 2 : 3
                        },
                            console.log(t),
                            p("im.uiutil.OpenMsgsMgr", t)
                    }
                    ,
                    t.prototype.render = function () {
                        var e = 0 === d.default.conversationID.ctype;
                        return !this.props.hasMore && this.props.messageLength >= d.default.maxLength && e ? c.createElement("div", {
                            className: "no-message-hint"
                        }, "更多历史消息, 请", c.createElement("span", {
                            className: "no-message-hint-action",
                            onClick: this.handleMoreAction.bind(this)
                        }, "点击"), "查看") : null
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = g
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(1))
            , f = n(4)
            , p = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.render = function () {
                        return d.default.entering ? c.createElement("div", {
                            className: "imui-msg-entering"
                        }) : null
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = p
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(0))
            , o = r(n(1));
        t.default = function () {
            return i.default.createElement(i.default.Fragment, null, i.default.createElement("div", {
                key: "top",
                onClick: function () {
                    o.default.scrollToTop()
                },
                className: "auto-scroll-btn to-top J_ToTop",
                style: {
                    display: "block",
                    cursor: "pointer"
                }
            }), i.default.createElement("div", {
                key: "end",
                onClick: function () {
                    o.default.scrollToBottom()
                },
                className: "auto-scroll-btn to-end J_ToEnd",
                style: {
                    display: "block",
                    cursor: "pointer"
                }
            }))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__read || function (e, t) {
                var n = "function" == typeof Symbol && e[Symbol.iterator];
                if (!n)
                    return e;
                var r, i, o = n.call(e), a = [];
                try {
                    for (; (void 0 === t || t-- > 0) && !(r = o.next()).done;)
                        a.push(r.value)
                } catch (e) {
                    i = {
                        error: e
                    }
                } finally {
                    try {
                        r && !r.done && (n = o.return) && n.call(o)
                    } finally {
                        if (i)
                            throw i.error
                    }
                }
                return a
            }
            , c = this && this.__spread || function () {
                for (var e = [], t = 0; t < arguments.length; t++)
                    e = e.concat(u(arguments[t]));
                return e
            }
            , d = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var f = l(n(0))
            , p = d(n(1))
            , g = n(4)
            , m = d(n(2))
            , h = d(n(185))
            , v = d(n(21))
            , y = p.default.SDK
            , b = function (e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.state = {
                        showAlert: !1,
                        content: "",
                        desc: "",
                        btn1: "",
                        btn2: "",
                        visible: !1,
                        confirm: !1,
                        forwardType: -1
                    },
                        t.forwardMsg = function (e) {
                            console.log("viewStore.selectList", c(p.default.selectList.values()));
                            try {
                                var t = p.default.selectList
                                    , n = {
                                        cid: {
                                            ccode: m.default.getccode(p.default.conversationID)
                                        },
                                        msgcodes: c(t.values()),
                                        type: e,
                                        channelType: "group" === p.default.chatType ? 0 : 2,
                                        userIDToDisplayName: Object.fromEntries(p.default.selectNickList.entries())
                                    };
                                y.forwardMultiMsg(n).then((function () {
                                    p.default.updateSelectModal(!1),
                                        p.default.updateSelectBox(!1),
                                        p.default.selectList.clear(),
                                        p.default.selectNickList.clear(),
                                        p.default.selectType.clear()
                                }
                                )).catch((function () {
                                    p.default.updateSelectModal(!1),
                                        p.default.updateSelectBox(!1),
                                        p.default.selectList.clear(),
                                        p.default.selectNickList.clear(),
                                        p.default.selectType.clear(),
                                        v.default.show("转发失败", 1e3)
                                }
                                ))
                            } catch (e) {
                                console.log("转发失败")
                            }
                        }
                        ,
                        t.deleteMsg = function () {
                            try {
                                var e = p.default.selectList
                                    , t = c(e.values())
                                    , n = {
                                        cid: {
                                            ccode: m.default.getccode(p.default.conversationID)
                                        },
                                        mcodes: c(e.values())
                                    };
                                t.length > 0 && y.deleteMsg(n, p.default.chatType).then((function (e) {
                                    p.default.updateSelectModal(!1),
                                        p.default.updateSelectBox(!1),
                                        p.default.selectList.clear(),
                                        p.default.selectNickList.clear(),
                                        p.default.selectType.clear()
                                }
                                ))
                            } catch (e) {
                                console.log("删除失败")
                            }
                        }
                        ,
                        t.checkType = function (e) {
                            var n = p.default.selectType
                                , r = c(n.values())
                                , i = r.includes("text") || r.includes("image")
                                , o = r.filter((function (e) {
                                    return "text" !== e && "image" !== e
                                }
                                ));
                            o.length > 0 && i ? t.setState({
                                visible: !0,
                                content: "仅支持图片、文本消息转发",
                                desc: "非图片、文本消息将不被转发",
                                btn1: "继续转发",
                                btn2: "取消",
                                forwardType: e
                            }) : o.length > 0 && !i ? t.setState({
                                visible: !0,
                                content: "所选消息暂不支持转发",
                                desc: "仅文本、图片、部分卡片支持转发",
                                btn1: "",
                                btn2: "我知道了"
                            }) : r.length > 0 && t.forwardMsg(e)
                        }
                        ,
                        t.checkDel = function () {
                            var e = p.default.selectType
                                , n = c(e.values())
                                , r = n.includes("text") || n.includes("image");
                            n.filter((function (e) {
                                return "text" !== e && "image" !== e
                            }
                            )).length > 0 && !r ? t.setState({
                                visible: !0,
                                content: "所选消息暂不支持删除",
                                desc: "仅文本、图片、部分卡片支持删除",
                                btn1: "",
                                btn2: "我知道了"
                            }) : n.length > 0 && t.deleteMsg()
                        }
                        ,
                        t.updatePop = function (e) {
                            t.setState({
                                visible: e
                            }),
                                p.default.selectList.clear(),
                                p.default.selectNickList.clear(),
                                p.default.selectType.clear(),
                                p.default.updateSelectModal(!1),
                                p.default.updateSelectBox(!1)
                        }
                        ,
                        t.confirmPop = function (e) {
                            t.setState({
                                confirm: e,
                                visible: !1
                            }, (function () {
                                var e = t.state
                                    , n = e.confirm
                                    , r = e.forwardType;
                                n && -1 !== r && t.forwardMsg(r),
                                    p.default.updateSelectModal(!1),
                                    p.default.updateSelectBox(!1),
                                    p.default.selectList.clear(),
                                    p.default.selectNickList.clear(),
                                    p.default.selectType.clear()
                            }
                            ))
                        }
                        ,
                        t
                }
                return i(t, e),
                    t.prototype.render = function () {
                        var e = this
                            , t = this.state
                            , n = t.content
                            , r = t.btn1
                            , i = t.btn2
                            , o = t.desc
                            , a = t.visible;
                        t.confirm;
                        return p.default.selectModal && f.createElement("div", {
                            className: "st-wrapper"
                        }, "single" === p.default.chatType ? f.createElement("div", {
                            className: "st-item",
                            onClick: function () {
                                e.checkType(0)
                            }
                        }, f.createElement("i", {
                            className: "iconfont icon-zhutiaozhuanfa"
                        }), f.createElement("span", {
                            className: "st-text"
                        }, "逐条转发")) : null, f.createElement("div", {
                            className: "st-item",
                            onClick: function () {
                                e.checkType(1)
                            }
                        }, f.createElement("i", {
                            className: "iconfont icon-hebingzhuanfa"
                        }), f.createElement("span", {
                            className: "st-text"
                        }, "合并转发")), f.createElement("div", {
                            className: "st-item",
                            onClick: function () {
                                e.checkDel()
                            }
                        }, f.createElement("i", {
                            className: "iconfont icon-shanchu"
                        }), f.createElement("span", {
                            className: "st-text"
                        }, "删除消息")), f.createElement("i", {
                            className: "st-close iconfont icon-guanbi",
                            onClick: function () {
                                p.default.updateSelectModal(!1),
                                    p.default.updateSelectBox(!1),
                                    p.default.selectList.clear(),
                                    p.default.selectNickList.clear(),
                                    p.default.selectType.clear(),
                                    e.setState({
                                        showAlert: !1
                                    })
                            }
                        }), f.createElement(h.default, {
                            title: "提示",
                            content: n,
                            btn1: r,
                            desc: o,
                            btn2: i,
                            visible: a,
                            close: this.updatePop,
                            confirm: this.confirmPop
                        }))
                    }
                    ,
                    t = s([g.observer], t)
            }(f.Component);
        t.default = b
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        )
            , i = this && this.__setModuleDefault || (Object.create ? function (e, t) {
                Object.defineProperty(e, "default", {
                    enumerable: !0,
                    value: t
                })
            }
                : function (e, t) {
                    e.default = t
                }
            )
            , o = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && r(t, e, n);
                return i(t, e),
                    t
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var a = o(n(0));
        t.default = function (e) {
            return a.createElement("div", {
                className: "alert-wrapper " + (e.visible ? "" : "alert-hide")
            }, a.createElement("div", {
                className: "alert-title"
            }, e.title, a.createElement("i", {
                className: "iconfont icon-guanbi alert-close",
                onClick: function () {
                    e.close(!1)
                }
            })), a.createElement("div", {
                className: "alert-center"
            }, a.createElement("i", {
                className: "iconfont icon-jinggao alert-coma"
            }), a.createElement("div", {
                className: "alert-text"
            }, a.createElement("div", {
                className: "alert-ct1"
            }, e.content), e.desc && a.createElement("div", {
                className: "alert-ct2"
            }, e.desc))), a.createElement("div", {
                className: "alert-footer"
            }, e.btn1 && a.createElement("div", {
                className: "alert-btn alert-btn1",
                onClick: function () {
                    e.confirm(!0)
                }
            }, e.btn1), e.btn2 && a.createElement("div", {
                className: "alert-btn alert-btn2",
                onClick: function () {
                    e.close(!1)
                }
            }, e.btn2)))
        }
    }
    , function (e, t, n) {
        "use strict";
        var r, i = this && this.__extends || (r = function (e, t) {
            return (r = Object.setPrototypeOf || {
                __proto__: []
            } instanceof Array && function (e, t) {
                e.__proto__ = t
            }
                || function (e, t) {
                    for (var n in t)
                        t.hasOwnProperty(n) && (e[n] = t[n])
                }
            )(e, t)
        }
            ,
            function (e, t) {
                function n() {
                    this.constructor = e
                }
                r(e, t),
                    e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                        new n)
            }
        ), o = this && this.__createBinding || (Object.create ? function (e, t, n, r) {
            void 0 === r && (r = n),
                Object.defineProperty(e, r, {
                    enumerable: !0,
                    get: function () {
                        return t[n]
                    }
                })
        }
            : function (e, t, n, r) {
                void 0 === r && (r = n),
                    e[r] = t[n]
            }
        ), a = this && this.__setModuleDefault || (Object.create ? function (e, t) {
            Object.defineProperty(e, "default", {
                enumerable: !0,
                value: t
            })
        }
            : function (e, t) {
                e.default = t
            }
        ), s = this && this.__decorate || function (e, t, n, r) {
            var i, o = arguments.length, a = o < 3 ? t : null === r ? r = Object.getOwnPropertyDescriptor(t, n) : r;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                a = Reflect.decorate(e, t, n, r);
            else
                for (var s = e.length - 1; s >= 0; s--)
                    (i = e[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(t, n, a) : i(t, n)) || a);
            return o > 3 && a && Object.defineProperty(t, n, a),
                a
        }
            , l = this && this.__importStar || function (e) {
                if (e && e.__esModule)
                    return e;
                var t = {};
                if (null != e)
                    for (var n in e)
                        "default" !== n && Object.hasOwnProperty.call(e, n) && o(t, e, n);
                return a(t, e),
                    t
            }
            , u = this && this.__importDefault || function (e) {
                return e && e.__esModule ? e : {
                    default: e
                }
            }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var c = l(n(0))
            , d = u(n(1))
            , f = n(4)
            , p = u(n(5))
            , g = function (e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return i(t, e),
                    t.prototype.onImageDblClick = function (e) {
                        var t = d.default.quoteMsg
                            , n = p.default(t, "ccode")
                            , r = p.default(t, "messageId");
                        d.default.SDK.setBubbleMenu({
                            type: 1,
                            request: {
                                filePath: e,
                                messageID: r,
                                cid: n
                            }
                        })
                    }
                    ,
                    t.prototype.render = function () {
                        var e = d.default.quoteModal
                            , t = d.default.quoteMsg
                            , n = p.default(t, "ccode")
                            , r = p.default(t, "content.text")
                            , i = (p.default(t, "content.url"),
                                p.default(t, "content.jsview[0].value.pic"))
                            , o = p.default(t, "fromNick")
                            , a = p.default(t, "msgType");
                        return e && c.createElement("div", {
                            className: "quote-wrapper"
                        }, c.createElement("div", {
                            className: "quote-nick"
                        }, o, ":"), "image" === a ? c.createElement("img", {
                            src: i,
                            className: "quote-img",
                            onDoubleClick: this.onImageDblClick.bind(this, i)
                        }) : r, c.createElement("i", {
                            className: "quote-close iconfont icon-guanbi",
                            onClick: function () {
                                d.default.updateQuoteModal(!1),
                                    d.default.SDK.msgQuoteClose({
                                        ccode: n
                                    }, d.default.chatType),
                                    d.default.updateQuoteMsg(null)
                            }
                        }))
                    }
                    ,
                    t = s([f.observer], t)
            }(c.Component);
        t.default = g
    }
    , function (e, t, n) {
        "use strict";
        var r = this && this.__importDefault || function (e) {
            return e && e.__esModule ? e : {
                default: e
            }
        }
            ;
        Object.defineProperty(t, "__esModule", {
            value: !0
        });
        var i = r(n(1))
            , o = r(n(2))
            , a = {
                init: function () {
                    this._events()
                },
                getContainer: function () {
                    return document.getElementById("J_msgContainer")
                },
                _events: function () {
                    this.getContainer() && this.getContainer().addEventListener("click", (function (e) {
                        var t, n = e.target;
                        if (t = o.default.parents(n, "atm-card-box")) {
                            e.preventDefault(),
                                e.stopPropagation();
                            var r = t.getAttribute("data-query")
                                , a = {};
                            try {
                                a = JSON.parse(r)
                            } catch (e) { }
                            i.default.SDK.invoke("im.bizutil.DoCardAction", {
                                cmd: a.cmd,
                                param: encodeURIComponent(r),
                                cid: {
                                    ccode: o.default.getccode(i.default.conversationID)
                                }
                            })
                        } else if ((t = o.default.parents(n, "j_droplist")) || document.body.querySelector(".j_droplist") && (document.body.querySelector(".j_droplist").style.display = "none"),
                            document.body.querySelector(".context-menu")) {
                            var s = document.body.querySelector(".context-menu");
                            document.body.removeChild(s)
                        }
                    }
                    ))
                }
            };
        t.default = a
    }
    , function (e, t, n) {
        var r = n(23)
            , i = n(189);
        "string" == typeof (i = i.__esModule ? i.default : i) && (i = [[e.i, i, ""]]);
        var o = {
            insert: "head",
            singleton: !1
        };
        r(i, o);
        e.exports = i.locals || {}
    }
    , function (e, t, n) {
        (t = n(24)(!1)).push([e.i, '@font-face{font-family:"IMUIIcon";src:url("https://at.alicdn.com/t/font_i0b3pgd2o9lik9.eot");src:url("https://at.alicdn.com/t/font_i0b3pgd2o9lik9.eot?#iefix") format("embedded-opentype"),url("https://at.alicdn.com/t/font_i0b3pgd2o9lik9.woff") format("woff"),url("https://at.alicdn.com/t/font_i0b3pgd2o9lik9.ttf") format("truetype"),url("https://at.alicdn.com/t/font_i0b3pgd2o9lik9.svg#articonsvg") format("svg")}.imui-icon,.imui-msg-link-box .warning-icon,.imui-msg-link .link-sf,.imui-msg-location .imui-location-icon,.imui-msg-status .status-error,.imui-msg-menu-wrap .bubble-menu-trigger{font-family:"IMUIIcon" !important;font-style:normal;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-webkit-text-stroke-width:.1px;-moz-osx-font-smoothing:grayscale}.imui-icon:before,.imui-msg-link-box .warning-icon:before,.imui-msg-link .link-sf:before,.imui-msg-location .imui-location-icon:before,.imui-msg-status .status-error:before,.imui-msg-menu-wrap .bubble-menu-trigger:before{display:inline-block;speak:none;font-size:16px;line-height:16px;vertical-align:middle;text-align:center}.imui-icon-lucymoney:before{content:""}.imui-icon-location:before,.imui-msg-location .imui-location-icon:before{content:""}.imui-icon-warn:before,.imui-msg-link.unknown-link .link-sf:before{content:""}.imui-icon-danger:before,.imui-msg-link-box .warning-icon:before,.imui-msg-link.danger-link .link-sf:before,.imui-msg-status .status-error:before{content:""}.imui-icon-safe:before,.imui-msg-link.safe-link .link-sf:before{content:""}.imui-icon-unknown:before{content:""}.imui-icon-trigger:before,.imui-msg-menu-wrap .bubble-menu-trigger:before{content:""}.imui-icon-zip:before{content:""}.imui-icon-defaultFile:before{content:""}.imui-icon-shipin:before{content:""}.imui-msg-date-split{margin-top:12px;margin-bottom:-8px;text-align:center;color:#c7c7c7;font-size:12px}.imui-msg-avatar{width:36px;height:36px;min-width:36px;background-image:url("https://gw.alicdn.com/tps/TB1jboTOXXXXXXCXVXXXXXXXXXX-160-160.png_40x40.jpg");background-repeat:no-repeat;background-position:center;background-size:100%;border-radius:18px}.imui-msg-l .imui-msg-avatar{margin-right:10px}.imui-msg-r .imui-msg-avatar{margin-left:10px}.imui-msg-normal-wrap .imui-msg-avatar{display:none}.imui-msg-head{margin-bottom:8px;color:#999}.imui-msg-head .imui-msg-sender{margin-right:12px;vertical-align:middle;word-wrap:break-word}.imui-msg-head .imui-msg-date{margin-right:4px;vertical-align:middle;word-wrap:break-word}.imui-msg-l .imui-msg-head{text-align:left}.imui-msg-l .imui-msg-sender{color:#999;word-break:break-all}.imui-msg-r .imui-msg-head{text-align:right;justify-content:flex-end}.imui-msg-r .imui-msg-sender{color:#999;word-break:break-all}.imui-msg-normal-wrap .imui-msg-head{text-align:left}.imui-msg-normal-wrap .imui-msg-l .imui-msg-head{text-align:left}.imui-msg-normal-wrap .imui-msg-l .imui-msg-sender{color:#999}.imui-msg-normal-wrap .imui-msg-r .imui-msg-sender{color:#999}.imui-msg-content{flex:1;margin-top:-3px}.imui-msg-content .msg-content-body{display:flex}.imui-msg-content .msg-content-nobody{display:flex;flex-direction:row;align-items:flex-end}.imui-msg-content .msg-content-nobody .msg-body-html{background-color:#f0f2f5;border-color:#f0f2f5;padding:0}.imui-msg-content .msg-content-nobody .status-read-done{margin-left:10px}.imui-msg-content .msg-body-html{position:relative;padding:6px 9px;word-wrap:break-word;word-break:break-all;line-height:inherit;min-width:10px;min-height:14px;font-size:13px;color:#111;border-radius:6px;box-sizing:border-box}.imui-msg-content a{color:#3089dc;text-decoration:none}.imui-msg-content a:hover{text-decoration:underline}.imui-msg-l .msg-body-html{background-color:#fafafa}.imui-msg-l .msg-body-html:before{left:-14px;border-color:transparent #e6e6e6 transparent transparent}.imui-msg-l .msg-body-html:after{left:-13px;border-color:transparent #fafafa transparent transparent}.imui-msg-r .msg-content-body{flex-direction:row-reverse}.imui-msg-r .msg-body-html{background-color:#e4f0fd;border-color:#e4f0fd}.imui-msg-r .msg-body-html:before{right:-14px;border-color:transparent transparent transparent #e4f0fd}.imui-msg-r .msg-body-html:after{right:-13px;border-color:transparent transparent transparent #e4f0fd}.imui-msg-normal-wrap .msg-content-body{display:block;padding-left:12px;max-width:90%}.imui-msg-normal-wrap .msg-content-body .msg-body-html{display:inline;padding:0;border:none;background:none}.imui-msg-normal-wrap .msg-content-body .msg-body-html:before,.imui-msg-normal-wrap .msg-content-body .msg-body-html:after{display:none}.imui-msg-op-wrap{display:flex;align-items:center;white-space:nowrap;position:relative}.imui-msg-l .imui-msg-op-wrap{margin-left:10px}.imui-msg-l .imui-msg-menu-wrap{left:0}.imui-msg-l .bubble-menu-list{left:-30px}.imui-msg-r .imui-msg-op-wrap{margin-right:10px}.imui-msg-r .imui-msg-menu-wrap{right:0}.imui-msg-r .bubble-menu-list{right:-23px}.imui-msg-menu-wrap{position:absolute;display:block;bottom:0;outline:0;width:16px;height:16px}.imui-msg-menu-wrap .bubble-menu-trigger{position:relative;visibility:hidden;display:block;overflow:hidden;width:16px;height:16px;background-image:url("https://gw.alicdn.com/imgextra/i4/O1CN01TOvfjq1IxGWnf5FmC_!!6000000000959-2-tps-32-32.png");background-size:contain;background-repeat:no-repeat;cursor:pointer;color:#fff;vertical-align:bottom}.imui-msg-menu-wrap .bubble-menu-trigger:before{position:absolute}.imui-msg-menu-wrap .bubble-menu-list{visibility:hidden;position:absolute;bottom:20px;background:#fff;border-radius:6px;box-shadow:0 0 8px rgba(0,0,0,.15);z-index:100;-webkit-user-select:none;-moz-user-select:none;user-select:none}.imui-msg-menu-wrap .bubble-menu-list ul{list-style-type:none}.imui-msg-menu-wrap .bubble-menu-list li{height:30px;line-height:30px;cursor:pointer;text-align:left;padding-left:18px;padding-right:18px}.imui-msg-menu-wrap .bubble-menu-list li:hover{color:#3d7fff}.imui-msg-status .status-icon{width:14px;height:14px;text-align:center;display:block;line-height:14px}.imui-msg-status .status-loading{background:url("https://img.alicdn.com/tps/TB1zx0RKXXXXXbWXFXXXXXXXXXX-16-16.gif") no-repeat center}.imui-msg-status .status-error{color:#f33;cursor:pointer}.imui-msg-status .status-error:before{font-size:16px}.imui-msg-status .status-read-count{color:#1a92ed;cursor:pointer}.imui-msg-status .status-read-done{color:#999;cursor:default;margin-left:10px}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap{-webkit-user-select:text}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list:before,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list:before{bottom:auto;top:-11px;border-color:transparent transparent #fff transparent}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list:after,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list:after{bottom:auto;top:-12px;border-color:transparent transparent #eaeaea transparent}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i1,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i1{bottom:-36px}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i2,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i2{bottom:-72px}:not(.imui-msg):first-child+.imui-msg .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i3,.imui-msg:first-child .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-list.bml-i3{bottom:-108px}.imui-msg:hover .imui-msg-menu-wrap:focus .bubble-menu-list{visibility:visible}.imui-msg:hover .imui-msg-menu-wrap .bubble-menu-trigger{visibility:visible}.imui-msg-normal-wrap .imui-msg-op-wrap{display:inline}.imui-msg-normal-wrap .imui-msg-op-wrap .imui-msg-menu-wrap{display:none}.imui-msg-normal-wrap .imui-msg-op-wrap .status-icon{display:inline-block}.imui-msg-normal-wrap .imui-msg-op-wrap .imui-msg-status{display:inline}.imui-msg-entering{position:absolute;width:30px;height:10px;left:10px;bottom:10px;z-index:999;background:url("https://img.alicdn.com/tps/TB1MYzXLXXXXXcwXFXXXXXXXXXX-31-7.gif") no-repeat center}.imui-msg-audio{min-width:80px;max-width:200px;height:20px;line-height:24px;cursor:pointer;overflow:hidden;margin:-4px -4px}.imui-msg-audio:before{content:" ";display:block;width:20px;height:20px;background:url("https://img.alicdn.com/tps/TB1dVtCKXXXXXX.aXXXXXXXXXXX-30-30.png") no-repeat center 2px;background-size:100%;margin-top:-1px}.imui-msg-audio.imui-msg-audio-playing:before{background:url("https://img.alicdn.com/tps/TB1u5tPKXXXXXc8XFXXXXXXXXXX-30-30.gif") no-repeat center 2px;background-size:100%}.imui-msg-l .imui-msg-audio{text-align:right;padding:0 10px 0 5px}.imui-msg-l .imui-msg-audio:before{float:left}.imui-msg-r .imui-msg-audio{padding:0 5px 0 10px;text-align:left}.imui-msg-r .imui-msg-audio:before{float:right}.imui-msg-normal-wrap .imui-msg-audio{display:inline-block;background:#fff;border:1px solid #e6e6e6;height:26px;border-radius:2px;line-height:26px;margin:0;text-align:right}.imui-msg-normal-wrap .imui-msg-audio:before{float:left;margin-top:2px}.imui-msg-location{color:#333}.imui-msg-location .imui-location-icon{margin-right:2px}.imui-msg-location .imui-location-icon:before{color:#f33}.imui-msg-location:hover{text-decoration:none}.imui-msg-link{color:#3089dc}.imui-msg-link .link-sf{margin-right:2px}.imui-msg-link:before{vertical-align:-1px;margin-right:3px}.imui-msg-link.safe-link .link-sf:before{color:#1dc11d}.imui-msg-link.unknown-link .link-sf:before{color:#ffa033}.imui-msg-link.danger-link .link-sf:before{color:#f33}.imui-msg-card{padding:4px;background:#fff}.imui-msg-normal-wrap .imui-msg-card{border:1px solid #dfdfdf;border-radius:2px;margin-bottom:3px;padding:4px}.imui-msg-img{max-width:100%;display:block}.imui-msg-img.imui-msg-img-loading{display:block;width:24px;height:20px;background:url("https://img.alicdn.com/tps/TB1NIadKXXXXXXnXXXXXXXXXXXX-48-40.png") no-repeat center;background-size:100%}.imui-msg-emoji{display:inline;vertical-align:middle;width:30px}.imui-msg-system{color:#999;text-align:center;margin:20px auto;font-size:12px;line-height:20px;width:85%}.imui-msg-system>span{display:inline-block;background:#e6e9ed;padding:2px 10px;border-radius:2px;word-wrap:break-word;word-break:break-all}.imui-msg-atmsg{color:#0073bd}.imui-msg video{max-width:100%;display:block;-webkit-user-select:none}.imui-msg video::-webkit-media-controls-fullscreen-button,.imui-msg video::-webkit-media-controls-volume-slider,.imui-msg video::-webkit-media-controls-mute-button{display:none}.imui-msg-link-box{font-size:12px;color:#000;position:relative;width:260px;border:1px solid #e6e7eb;padding:10px 30px;line-height:15px;overflow:hidden;box-shadow:1px 1px 6px 0 #999;background:#fefce7;-webkit-user-select:none;z-index:999}.imui-msg-link-box .warning-icon{display:block;width:16px;height:16px;position:absolute;top:10px;left:10px;text-align:center;color:#f33}.imui-msg-link-box .warning-icon:before{font-size:12px;vertical-align:-1px}.imui-msg-link-box .warning-text{font-weight:bold}.imui-msg-link-box .warning-actions{margin-top:10px}.imui-msg-link-box .warning-action{color:#333;text-decoration:underline;margin-right:16px}.imui-msg-link-box .warning-color{color:#f33}.imui-msg-new-msg-box{position:fixed;bottom:4px;right:4px;background:#ababab;text-align:center;line-height:20px;color:#fff;font-size:10px;padding:2px 10px;border-radius:20px;z-index:999;cursor:pointer}.imui-msg-new-msg-box:before{position:absolute;display:block;width:9px;height:9px;right:2px;bottom:0;content:" ";background:#ababab;transform:skewX(30deg)}.imui-msg{display:flex;margin:20px 0;font-size:12px;line-height:1.5}.imui-msg-r{flex-direction:row-reverse}.imui-msg-date-split{display:none}.imui-msg-date{color:#bbb}.imui-msg-content .msg-body-html{font-size:14px}.imui-msg-content .msg-body-html .msg-body-text{white-space:pre-wrap;line-break:anywhere;line-height:20rpx}.imui-msg-link.safe-link .link-sf:before{content:"";display:inline-block;width:18px;height:20px;vertical-align:middle;margin-right:3px;background:url("https://img.alicdn.com/tfs/TB1GPiakwLD8KJjSszeXXaGRpXa-18-18.png") no-repeat 0 3px}.imui-msg-link.unsafe-link .link-sf:before{content:"";display:inline-block;width:18px;height:20px;vertical-align:middle;margin-right:3px;height:13px;width:13px;background:url("https://img.alicdn.com/tfs/TB1jXuekBDH8KJjSspnXXbNAVXa-18-18.png") no-repeat 0 -1px}.imui-msg-link .link-sf:before,.imui-msg-link.unknown-link .link-sf:before{content:"";display:inline-block;width:18px;height:20px;vertical-align:middle;margin-right:3px;background:url("https://img.alicdn.com/tfs/TB1nqWPkrYI8KJjy0FaXXbAiVXa-18-18.png") no-repeat 0 3px}.imui-msg-normal-wrap .msg-content-body{max-width:100%}.imui-msg-normal-wrap .imui-msg-content .msg-body-html{display:inline-block;max-width:90%}.imui-msg-normal-wrap .imui-msg-content .msg-body-html .msg-body-text{white-space:pre-wrap}.imui-msg-l .msg-body-html{background:#fff}.imui-msg-l .msg-body-html:after{border-color:transparent #fff transparent transparent}.imui-msg-normal-wrap .imui-msg-op-wrap .imui-msg-menu-wrap{position:static;display:inline;vertical-align:-2px;margin-left:6px}.imui-msg-normal-wrap .imui-msg-op-wrap .imui-msg-menu-wrap .bubble-menu-trigger{display:inline-block}.menu-hidden{display:none !important}.show-msg-menu .menu-hidden{display:initial !important}.single-msg-read-status{display:none !important}.show-read-status .single-msg-read-status{display:initial !important}.auto-scroll-btn{display:none;width:10px;height:7px;position:absolute;right:0;cursor:pointer}.to-end{bottom:0;background:url("/images/icon-to-end.png") no-repeat center}.to-top{top:0;background:url("/images/icon-to-start.png") no-repeat center}::-webkit-scrollbar{background:transparent;width:10px;height:10px}::-webkit-scrollbar-track-piece{display:none}::-webkit-scrollbar-track{border-radius:5px;background-color:transparent;margin-bottom:7px;margin-top:7px}::-webkit-scrollbar-track:hover::-webkit-scrollbar-thumb{background-color:#d5d5d5}::-webkit-scrollbar-thumb{background-color:#c0c5cc;width:8px;height:8px;border:2px solid transparent;border-radius:5px;background-clip:content-box;min-height:30px}::-webkit-scrollbar-thumb:hover{background-color:rgba(0,0,0,.4)}::-webkit-scrollbar-thumb:active{background-color:rgba(0,0,0,.5)}.scrollbar-small::-webkit-scrollbar{background:transparent;width:8px;height:8px}.scrollbar-small::-webkit-scrollbar-track{border-radius:2px;background-color:transparent}.scrollbar-small::-webkit-scrollbar-thumb{border:2px solid transparent;border-radius:4px;background-clip:content-box}html,body{width:100%;height:100%;overflow:hidden;background:#f0f2f5}body{display:flex;flex-flow:column nowrap;font-family:"microsoft yahei"}#app{width:100%;height:100%;flex:1;overflow:hidden}.msg-outer-body{display:flex;flex-flow:column nowrap;flex:1;position:relative;height:100%;overflow:hidden}.msg-wrap{flex:1;overflow-x:hidden;overflow-y:auto;padding:0 20px;position:relative}.imui-msg-l .imui-msg-op-wrap{margin-left:6px}.imui-msg-r .imui-msg-op-wrap{margin-right:6px}.imui-msg-normal-wrap .imui-msg-op-wrap{margin-left:6px}.imui-msg-img{display:inline-block;border-radius:6px;vertical-align:middle}.robot-icon{display:inline-block;width:17px;height:12px;vertical-align:-1px;background:url("https://g.alicdn.com/im/offline-qn-chatmsg/images/icon-robot.png") no-repeat center;margin:0 5px}.auto-replay-icon{display:inline-block;width:16px;height:14px;vertical-align:-4px;background-image:url("https://img.alicdn.com/imgextra/i4/O1CN01qokRQ31hhZJEXuKgN_!!6000000004309-2-tps-32-30.png");background-position:center;background-size:cover;margin:0 5px}.msg-loading{position:absolute;top:5px;left:0;background:url("https://g.alicdn.com/im/offline-qn-chatmsg/images/mediaload.gif") no-repeat center;height:20px;width:100%}.no-message-hint{font-size:12px;display:flex;align-items:center;justify-content:center;margin-top:4px;color:#999}.no-message-hint .no-message-hint-action{color:#3089dc;margin:0 2px;cursor:pointer}.add-at{cursor:pointer}.add-at:hover{color:#3089dc !important}.imui-msg-normal-wrap .imui-msg-head{margin-bottom:6px}.imui-msg-normal-wrap .imui-msg-content{width:100%}.imui-msg-normal-wrap .imui-msg-content .msg-body-html{line-height:1.4}.imui-msg-normal-wrap .imui-msg-content .imui-msg-status{display:inline}.imui-msg-normal-wrap .imui-msg-content .imui-msg-status .status-icon{display:inline-block}.imui-msg-normal-wrap .imui-msg-card{display:inline-block}/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}video{border-radius:6px}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent;cursor:pointer}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:bold}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}ul{padding:0;margin:0;list-style:none}.hidden{visibility:hidden}.file-msg-wrap .imui-msg-content .msg-body-html{padding:0;background:none;border:none;display:flex}.file-msg-wrap .imui-msg-content .msg-body-html:before,.file-msg-wrap .imui-msg-content .msg-body-html:after{display:none}.file-msg{background:#fcfcfc;padding:10px;display:flex;position:relative;width:280px;border-radius:6px}.file-msg .hidden{visibility:hidden;opacity:0}.file-msg .file-info{flex:1}.file-msg .file-suffix{width:60px;min-width:60px;height:60px;border-radius:4px;text-align:center;font-size:14px;color:#fff;line-height:60px;margin-right:10px;cursor:pointer}.file-msg .file-suffix.suffix-red{background:#f23c3c}.file-msg .file-suffix.suffix-orange{background:#ffa033}.file-msg .file-suffix.suffix-blue{background:#3089dc}.file-msg .file-suffix.suffix-green{background:#1dc11d}.file-msg .file-suffix.suffix-gray{background:silver}.file-msg .file-suffix.suffix-zip{background:silver url("https://img.alicdn.com/tfs/TB1_m05QpXXXXXHXVXXXXXXXXXX-8-40.png") no-repeat top center}.file-msg .file-suffix.suffix-default{background:#f5f5f5 url("https://gw.alicdn.com/imgextra/i4/O1CN01zptfWk1bWgEYJCpHK_!!6000000003473-2-tps-120-120.png") no-repeat center center;background-size:cover}.file-msg .file-name{font-size:14px;color:#333;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:188px}.file-msg .file-size{font-size:12px;color:#999}.file-msg .file-operation{position:absolute;right:10px;bottom:8px;font-size:14px}.file-msg .file-operation a{color:#3d7fff;margin-left:16px}.file-msg .file-operation a .cancel-upload,.file-msg .file-operation a .cancel-download{color:#999}.file-msg .animation-width{transition:width .2s ease}.file-msg .file-progress{position:absolute;height:4px;background:#d8d8d8;left:1px;bottom:1px;right:1px;border-radius:2px;opacity:1;transition:visibility ease-in .5s}.file-msg .file-progress i{display:block;width:0;height:100%;background-image:linear-gradient(90deg, #03a9fe 0, #3882e4 100%);border-radius:2px}@font-face{font-family:IMUIIcon;src:url("https://g.alicdn.com/im/offline-qn-chatmsg/iconfonts/IMUIIcon.woff") format("woff"),url("https://g.alicdn.com/im/offline-qn-chatmsg/iconfonts/IMUIIcon.ttf") format("truetype")}@font-face{font-family:"iconfont";src:url("//at.alicdn.com/t/font_2890338_vb2p46pppqm.woff2?t=1646301189754") format("woff2"),url("//at.alicdn.com/t/font_2890338_vb2p46pppqm.woff?t=1646301189754") format("woff"),url("//at.alicdn.com/t/font_2890338_vb2p46pppqm.ttf?t=1646301189754") format("truetype")}.msg-loading{background:url("https://g.alicdn.com/im/offline-qn-chatmsg/images/mediaload.gif") no-repeat center}.icon-sysmsg-hongbao{display:inline-block;height:14px;width:12px;background:url("https://g.alicdn.com/im/offline-qn-chatmsg/images/icon-hongbao.png") no-repeat center;background-size:contain;vertical-align:middle;margin-right:5px}.button-gray{font-size:12px;border:1px solid;cursor:pointer;text-align:center;border-color:#ccc;background-color:#fff;color:#333}.button-gray:hover{background-color:#efefef}.button-theme,.button-blue{font-size:12px;border:1px solid;cursor:pointer;text-align:center;border-color:#0275d8;background-color:#0275d8;color:#fff}.button-theme:hover,.button-blue:hover{border-color:#01549b;background-color:#025aa5}.button-naked{color:#014c8c;text-decoration:none;text-align:center}.button-naked:hover{text-decoration:underline}.auto-reply-text{color:#ec4e00}.auto-reply-tip{color:#004be3 !important;padding-left:8px;text-decoration:underline !important}.imui-msg-card-wrap{display:inline-block}.temp20014-wrap{overflow:hidden;width:264px;top:0;left:0}.temp20014-wrap .temp20014-box{top:0;left:0;z-index:2}.temp20014-wrap .temp20014-box::-webkit-scrollbar{width:4px;height:4px}.temp20014-wrap .temp20014-box::-webkit-scrollbar-thumb{width:4px-2px;height:4px-2px;background-color:transparent;border-right:1px solid #fff;border-radius:4px-2px}.temp20014-wrap .temp20014-box:hover::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2)}.temp20014-wrap .temp20014-box::-webkit-scrollbar-thumb:hover{background-color:rgba(0, 0, 0, 0.5)}.temp20014-wrap.small{width:264px}.temp20014-wrap.middle{width:324px}.temp20014-wrap.large{width:396px}.temp20014-msg .msg-body-html{background:none;border:none;padding:0}.temp20014-msg .msg-body-html:before,.temp20014-msg .msg-body-html:after{display:none}.temp20014-msg .imui-msg-op-wrap{display:none}.lucy-money{border-radius:6px}.lucy-money>.temp20014-box>.temp20014-box:first-child{left:0 !important;width:234px !important}.lucy-money.small>.temp20014-box>.temp20014-box:first-child{width:234px !important}.lucy-money.middle>.temp20014-box>.temp20014-box:first-child{width:324px !important}.lucy-money.large>.temp20014-box>.temp20014-box:first-child{width:396px !important}.lucy-money .temp20014-img{background-image:url("https://gw.alicdn.com/imgextra/i4/O1CN010Kinuk1kxY2snDOsg_!!6000000004750-2-tps-64-72.png") !important}.lucy-money>.temp20014-box>.temp20014-box:last-child{left:0 !important;top:75px !important}.lucy-money.small>.temp20014-box>.temp20014-box:last-child{top:65px !important}.lucy-money.middle>.temp20014-box>.temp20014-box:last-child{top:92px !important}.lucy-money.large>.temp20014-box>.temp20014-box:last-child{top:110px !important}.imui-msg-audio{max-width:240px;min-width:60px}.imui-msg-l .imui-msg-audio{padding:0 10px 3px 5px}.imui-msg-r .imui-msg-audio{padding:0 5px 3px 10px}.go-audio-text-setting{color:#3089dc}.audio-text{display:none;max-width:240px;margin-top:5px;padding-top:6px;color:#333;border-top:1px solid #e3e3e3;width:100%;font-size:12px}.show-audio-text .audio-text{display:inline-block}.show-audio-text .audio-show{display:inline-block}.show-audio-text .audio-hide{display:none}.imui-msg-normal-wrap .audio-wrap{display:inline-block;border-radius:6px;padding:0 5px;background:#fff}.imui-msg-normal-wrap .audio-wrap .imui-msg-audio{border:none;display:block}.imui-msg-normal-wrap .audio-wrap .audio-text{margin:0;padding:6px 0}.imui-msg-card-share a{color:#525252}.imui-msg-card-share a:hover{text-decoration:none}.imui-msg-card-share .card_share_shop{display:flex;width:240px;border-radius:8px;overflow:hidden;display:flex;flex-direction:column}.imui-msg-card-share .card_share_shop .share_shop{display:flex;flex:1;padding:10px;background-size:cover;background-position:center center}.imui-msg-card-share .card_share_shop .share_left{width:46px;height:46px}.imui-msg-card-share .card_share_shop .share_left .left_image{width:46px;height:46px;border-radius:4px;border:1px solid #fff}.imui-msg-card-share .card_share_shop .share_right{flex:1;padding-left:10px;color:#fff}.imui-msg-card-share .card_share_shop .share_right .share_right_hd{white-space:nowrap;text-overflow:ellipsis;display:block;overflow:hidden;width:100%;font-size:14px;line-height:28px}.imui-msg-card-share .card_share_shop .share_right .share_right_desc{height:14px}.imui-msg-card-share .card_share_shop .share_shop_footer{display:flex;flex-direction:row;align-items:center;height:25px;line-height:25px;background-color:#f8f8f8;padding:0px 10px;font-size:10px}.imui-msg-card-share .card_share_shop .share_shop_footer_icon{width:12px;margin-right:8px}.imui-msg-card-share .card_share{display:flex;width:240px;padding:10px;background-color:#fff;border-radius:10px;overflow:hidden}.imui-msg-card-share .card_share .share_left{width:50px;height:50px}.imui-msg-card-share .card_share .share_left .left_image{width:50px;height:50px;display:inline-block}.imui-msg-card-share .card_share .share_right{flex:1 1 0;overflow:hidden;margin-left:10px}.imui-msg-card-share .card_share .share_right .right_hd{line-height:20px;text-overflow:ellipsis;display:block;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:40px}.imui-msg-card-share .card_share .share_right .hd_tag{display:inline-block;height:16px;line-height:20px;vertical-align:middle}.imui-msg-card-share .card_share .share_right .right_bd{display:flex;justify-content:space-between;line-height:25px}.imui-msg-card-share .card_share .share_right .bd_price{flex:1;font-size:16px;color:#ff5000;text-align:left}.imui-msg-card-share .card_share .share_right .bd_buynum{width:80px;text-align:left;font-size:12px}.imui-msg-card-share .share_shop{display:flex}.imui-msg-card-share .share_shop .bd_rankurl{display:inline-block;height:16px;line-height:20px;vertical-align:middle}.imui-msg-card-share .shop_active .active_hd{display:flex}.imui-msg-card-share .shop_active .active_hd_left{width:50px;height:50px}.imui-msg-card-share .shop_active .active_hd_left .left_image{width:50px;height:50px;display:inline-block}.imui-msg-card-share .shop_active .active_hd_right{flex:1 1 0;overflow:hidden;margin-left:10px}.imui-msg-card-share .shop_active .hd_rankurl{display:inline-block;height:16px;line-height:20px;vertical-align:middle}.imui-msg-card-share .shop_active .hd_tlt{line-height:20px;text-overflow:ellipsis;display:block;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:40px}.imui-msg-card-share .shop_active .active_bd{margin-top:10px}.imui-msg-card-share .shop_active .active_bd .bd_actpic{width:100%}.imui-msg-card-share .share_active{width:240px}.imui-msg-card-share .share_active .active_bd{display:flex;overflow-x:scroll;overflow-y:hidden}.imui-msg-card-share .share_active .active_bd::-webkit-scrollbar{display:none}.imui-msg-card-share .share_active .active_bd:hover::-webkit-scrollbar{display:block}.imui-msg-card-share .share_active .bd_items{width:80px;height:80px;padding:0 5px;position:relative;box-sizing:border-box}.imui-msg-card-share .share_active .bd_items .items_pic{width:80px;height:80px}.imui-msg-card-share .share_active .bd_items .items_price{position:absolute;width:80px;height:20px;bottom:0px;line-height:20px;padding:0 5px;box-sizing:border-box;background:rgba(255,255,255,.6)}.imui-msg-card-share .share_active .bd_items:first-child{padding-left:0px}.imui-msg-card-share .share_online{background:#fff;width:240px;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.imui-msg-card-share .share_online .online_hd{height:120px}.imui-msg-card-share .share_online .hd_hostpic{height:120px;width:100%}.imui-msg-card-share .share_online .online_bd{display:flex;padding:5px 10px;background:#efe9e5}.imui-msg-card-share .share_online .online_bd .bd_left{width:50px;height:50px}.imui-msg-card-share .share_online .online_bd .bd_left .bd_picurl{width:50px;height:50px;display:inline-block}.imui-msg-card-share .share_online .online_bd .bd_right{flex:1 1 0;overflow:hidden;margin-left:10px}.imui-msg-card-share .share_online .online_bd .right_tlt{line-height:20px;color:#f15372;white-space:nowrap;text-overflow:ellipsis;display:block;overflow:hidden}.imui-msg-card-share .share_online .online_ft{background:#fff;height:25px;line-height:25px;box-sizing:border-box;padding:0 10px}.imui-msg-card-share .share_msg{background:#fff;width:240px}.imui-msg-card-share .share_msg .msg_hd{height:120px}.imui-msg-card-share .share_msg .msg_hd .hd_urlpic{width:100%;height:120px}.imui-msg-card-share .share_msg .msg_bd{margin:5px}.imui-msg-card-share .share_msg .msg_bd .msg_tlt{line-height:20px;font-size:15px;word-break:break-all;font-weight:bolder;margin:10px}.imui-msg-card-share .share_msg .msg_bd .msg_content{margin:10px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.imui-msg-card-share .share_msg .msg_ft{height:25px;line-height:25px;background-color:#f8f8f8;padding:0px 10px}.imui-msg-card-person{width:240px;padding:0px;overflow:hidden;border-radius:10px;background-size:cover;background-position:center center}.imui-msg-card-person .feed_hd{display:flex;height:48px;padding:8px}.imui-msg-card-person .feed_hd .bd_avator{width:46px;height:46px;border-radius:4px;border:1px solid #fff}.imui-msg-card-person .feed_hd .bd_content{flex:1 1 0;margin-left:10px;line-height:50px;white-space:nowrap;text-overflow:ellipsis;display:block;overflow:hidden;color:#fff}.imui-msg-card-person .feed_ft{height:25px;line-height:25px;background-color:#f8f8f8;padding:0px 10px;font-size:12px}.imui-msg-card-person .feed_ft img{width:12px;vertical-align:middle}.imui-msg-card-feed{width:240px;padding:10px}.imui-msg-card-feed .feed_hd{height:30px;line-height:30px;font-size:16px;font-weight:bolder}.imui-msg-card-feed .feed_bd{position:relative;height:200px}.imui-msg-card-feed .feed_bd .bd_pic{width:240px}.imui-msg-card-feed .feed_bd .bd_content{width:240px;line-height:20px}.u-syshongbao{color:#dd594d;text-decoration:underline}.u-syshongbao:hover{cursor:pointer}.tb-im-hover{position:relative}.tb-im-hover:hover .tb-im-hover__no-hover{opacity:0}.tb-im-hover:hover .tb-im-hover__hover{opacity:1}.tb-im-hover__hover{position:absolute;top:0;opacity:0}.tb-im-hover__no-hover{opacity:1}.imui-msg-wraper{margin:20px 0}.popup-over{position:fixed;z-index:1000}.item-snapshot-wrap{margin-left:-6px}.item-wrapper{width:269px;height:146px;border-radius:6px;background-color:#fff;padding-top:12px}.item-center{display:flex;flex-direction:row;padding-left:12px;padding-right:14px;border-bottom:1px solid #dfdfdf;height:114px}.item-pic{width:102px;height:102px;min-width:102px;border-radius:6px;margin-right:12px;background-size:contain}.item-right{display:flex;flex-direction:column}.item-pro-title{line-height:17px;text-overflow:ellipsis;display:block;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;min-height:34px;color:#666;font-size:14px}.item-pro-sale{line-height:15px;text-overflow:ellipsis;display:block;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;min-height:15px;color:#999;font-size:12px;margin-top:9px;margin-bottom:26px}.item-pro-price{font-size:12px;color:#ff5f00;overflow:hidden;max-width:133px;text-overflow:ellipsis;white-space:nowrap}.item-pro-oriprice{color:#999;margin-left:5.5px;text-decoration:line-through}.item-pro-shop{font-size:12px;color:#3d7fff;height:31px;padding-left:12px;line-height:31px;display:flex;flex-direction:row}.item-shop-url{text-overflow:ellipsis;display:block;overflow:hidden;-webkit-line-clamp:1;max-width:200px;white-space:nowrap}.item-shop-icon{width:12px;height:12px;margin-left:36px;margin-top:8px}.imui-msg-menu-wrap .show-bubble{visibility:visible}.st-btn{width:18px;height:18px;margin-right:20px}.st-wrapper{font-family:PingFangSC-Regular;height:50px;width:70%;margin-bottom:6px;border-radius:6px;margin-left:3%;background-color:#fff;box-shadow:0 0 20px 0 #e5e5e5;display:flex;flex-direction:row;justify-content:space-evenly;padding:0 12%;align-items:center;z-index:101}.st-item{display:flex;flex-direction:column;align-items:center;color:#333;font-size:12px}.st-close{font-size:12px;position:absolute;right:5%;color:#999}.st-text{margin-top:4px;font-size:12px;line-height:12px}.st-item:hover{color:#3d7fff}input[type=checkbox]{width:18px;height:18px;min-width:18px;display:inline-block;text-align:center;vertical-align:middle;position:relative}input[type=checkbox]::before{content:"";position:absolute;top:-2px;left:-2px;width:100%;height:100%;background:url("//gw.alicdn.com/imgextra/i1/O1CN01yThjZl1uaK7z9SVPv_!!6000000006053-2-tps-36-36.png") no-repeat;background-size:contain;border:none;padding:2px}input[type=checkbox]:checked::before{content:"";position:absolute;top:-2px;left:-2px;width:100%;background:url("//img.alicdn.com/imgextra/i2/O1CN01zAuv4G1eZNSQAYXj3_!!6000000003885-2-tps-36-36.png") no-repeat;background-size:contain;border:none;padding:2px}.alert-wrapper{position:fixed;bottom:40%;width:400px;background:#fff;box-shadow:0 0 12px 0 rgba(0,0,0,.12);font-family:PingFangSC-Regular;z-index:1001}.alert-hide{display:none}.alert-title{width:364px;background:#3d7fff;color:#fff;padding:11px 18px;font-size:14px}.alert-close{position:absolute;right:18px;font-size:14px;top:13px}.alert-center{display:flex;flex-direction:row;padding:30px 18px;align-items:center}.alert-coma{font-size:32px;color:#3d7fff;margin-right:6px}.alert-ct1{font-size:14px;color:#000;line-height:20px}.alert-ct2{font-size:14px;color:#999;line-height:20px}.alert-footer{display:flex;flex-direction:row;justify-content:flex-end;padding-right:18px;padding-bottom:18px}.alert-btn{padding:0 12px;text-align:center;border-radius:13px;font-size:12px}.alert-btn1{height:24px;background:#3d7fff;border-radius:13px;color:#fff;font-size:12px;line-height:24px}.alert-btn2{height:23px;background:#fff;color:#3d7fff;border:.5px solid #3d7fff;line-height:23px;margin-left:12px}.trans-wrapper{width:280px;background:#fff;border-radius:6px;color:#999;font-size:12px;padding:12px}.trans-title{font-size:14px;color:#111;padding-bottom:12px;border-bottom:1px solid #e3e3e3;font-weight:500}.trans-content{padding-top:11px;line-height:18px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.quote-wrapper{font-family:PingFangSC-Regular;background-color:#f0f2f5;box-shadow:0 0 20px 0 #e5e5e5;z-index:101;border-left:3px solid #dbdbdb;padding-top:12px;padding-left:2%;padding-right:30px;font-size:14px;color:#999;line-height:20px;position:relative;padding-bottom:10px}.quote-close{font-size:12px;position:absolute;right:5%;color:#999;top:7px}.quote-img{max-height:100px}.text-qt{font-size:12px;color:#999;border-bottom:1px solid #e4e6ed;padding-bottom:6px;margin-bottom:9px}.text-qt-ori{border-left:2px solid #e4e6ed;padding-left:10px}.text-qt-sender{display:inline-block;width:100%;margin-bottom:3px}.text-qt-img{width:200px}.quote-ctn{border-left:3px solid #dbdbdb;padding-left:11px}.msg-source-wrap{background-color:#fff;border-radius:7px;padding:0 3px;margin-right:6px;position:relative;top:2px;cursor:pointer}.msg-source-desc{position:absolute;width:72px;height:24px;border-radius:6px;background-color:#eff1f4;box-shadow:0 0 12px 0 rgba(0,0,0,.12);text-align:center;line-height:24px;left:0;top:20px;z-index:1001;display:none}.msg-source-wrap:hover .msg-source-desc{display:block}.enter-card .temp20014-box .temp20014-box .temp20014-box:last-child{height:55px !important}.msg-reedit{color:#3d7fff;text-decoration:none}.dx-consult .list-item{width:250px;max-width:250px !important;word-break:break-all}.dx-consult .list-item span{max-width:200px}.dx-system{display:flex;justify-content:center;font-size:12px;margin-bottom:20px}.context-menu{background-color:#fff;position:absolute;font-size:12px;display:flex;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;height:30px;width:100px;box-shadow:0 0 6px 0 rgba(0,0,0,.12);border-radius:9px;color:#111;line-height:30px;z-index:1001}.context-menu .context-copy{margin-right:8px}.dx-draw div div:nth-child(4) div>div{width:100% !important}.dx-draw div div:nth-child(4) div>div div:nth-child(2){width:100% !important}.status-modify{color:#3d7fff;margin-right:5px;margin-left:5px;cursor:pointer;min-width:27px}.msg-body-trans-split{height:1px;background:rgba(240,242,250,.6);margin:6px 0}.msg-body-trans-tip{display:flex;justify-content:space-between;margin-top:9px;margin-bottom:3px;min-width:174px}.msg-body-trans-tip-text{font-size:10px;line-height:10px;color:#999;margin-right:20px}.msg-body-trans-tip-action{font-size:10px;line-height:10px;color:#3d5eff}', ""]),
            e.exports = t
    }
    , function (e, t, n) {
        "use strict";
        Object.defineProperty(t, "__esModule", {
            value: !0
        }),
            t.startCheck = void 0;
        var r = n(16);
        t.startCheck = function () {
            if (window.Worker) {
                var e = new Worker("worker.js")
                    , t = document.getElementById("app");
                console.log("worker start");
                var n = function () {
                    e.postMessage({
                        type: "heartbeat",
                        time: (new Date).getTime(),
                        data: {
                            appDomChildLength: t ? t.children.length : 0,
                            nick: window && window._vs && window._vs.loginID ? window._vs.loginID.nick : ""
                        }
                    })
                };
                setTimeout(n, 15e3),
                    e.onmessage = function (e) {
                        var t = e.data.type;
                        if ("check" === t)
                            setTimeout(n, 5e3);
                        else if ("log" === t) {
                            var i = e.data.msg;
                            window && window.tracker && window.tracker.log({
                                code: 23,
                                msg: "心跳检测-" + i,
                                sampleRate: 1,
                                c1: i,
                                c2: r.getAppVersion(),
                                c3: window && window._vs && window._vs.loginID ? window._vs.loginID.nick : ""
                            })
                        }
                    }
                    ,
                    window.addEventListener("beforeunload", (function () {
                        e.postMessage({
                            type: "unload",
                            time: (new Date).getTime()
                        })
                    }
                    ))
            }
        }
    }
    , function (e, t, n) {
        "use strict";
        n.r(t);
        var r = n(19)
            , i = n(8);
        function o() {
            return (o = Object.assign || function (e) {
                for (var t = 1; t < arguments.length; t++) {
                    var n = arguments[t];
                    for (var r in n)
                        Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r])
                }
                return e
            }
            ).apply(this, arguments)
        }
        var a = Object.create(r.aplus_universal)
            , s = "object" == typeof pha && "object" == typeof pha.config
            , l = s && !i.isWeb;
        Object.assign(a, {
            launch: function (e, t) {
                if (void 0 === e && (e = r.aplus_universal.getPageSPM()),
                    void 0 === t && (t = {}),
                    !l) {
                    if (e && s && i.isWeb) {
                        var n = window.pha.config.bundleUrl || t.url || ""
                            , a = (/spm=([^&]+)/.exec(n) || ["", "0.0.0.0"])[1]
                            , u = e[0] || "0"
                            , c = e[1] || "0"
                            , d = n.indexOf("?");
                        if (window.WindVane && window.WindVane.call) {
                            var f = n.substring(0, -1 === d ? n.length : d);
                            return void window.WindVane.call("PHAJSBridge", "userTrack.pageEnter", {
                                pageName: t.pageName || f,
                                params: o({
                                    _toUT: 2,
                                    autosend: "1",
                                    url: f,
                                    _h5url: n,
                                    "spm-cnt": u + "." + c + ".0.0",
                                    "spm-url": a
                                }, t)
                            }, (function () { }
                            ))
                        }
                        console.error("windvane is not ready, use goldlog launch api")
                    }
                    r.aplus_universal.setPageSPM(e[0], e[1]),
                        r.aplus_universal.enter({
                            pageName: t.name,
                            pageUrl: t.url,
                            spmUrl: t["spm-url"],
                            referrer: t.referrer
                        }, t)
                }
            },
            updateNextProps: function (e) {
                void 0 === e && (e = {}),
                    r.aplus_universal.updateNextPageProperties(e)
            }
        }),
            a.sendPV = a.launch;
        var u = a
            , c = {
                render: "rx_render_err",
                data: "rx_data_fetch_err",
                error: "rax_error"
            }
            , d = function (e) {
                var t = i.isNode || "undefined" == typeof location ? "" : location.href || ""
                    , n = c[e.type] || (e.type ? e.type + "/" : "") + "rx_user_define_err"
                    , r = [t.replace(/[\?#].*$/, "").replace(/\/$/, ""), e.module || "", n].join("/").toLowerCase();
                return i.isWeex ? encodeURIComponent(r) : r
            }
            , f = 0
            , p = {
                screen: "undefined" == typeof screen ? "0x0" : (screen && screen.width) + "x" + (screen && screen.height),
                sampling: 1,
                version: "rx-tracker/3.0.7",
                native: i.isWeex ? 1 : 0,
                isInWindmill: 0
            }
            , g = "/jstracker.3";
        function m(e) {
            if (++f > 20 && i.isWeb)
                return !1;
            var t = Object.assign({
                url: d(e)
            }, p, e);
            if (t.sampling = (i.isNode || "undefined" == typeof location ? "" : location.href).indexOf("jt_debug=1") > -1 ? 1 : t.sampling,
                function () {
                    if (i.isWeb && "undefined" != typeof goldlog && window.JSTracker2 && window.JSTracker2.push)
                        return !0;
                    return !1
                }())
                window.JSTracker2.push(t);
            else if (Math.random() * t.sampling < 1)
                if (i.isWeex) {
                    var n;
                    try {
                        n = __weex_require__("@weex-module/userTrack")
                    } catch (e) { }
                    var r = "undefined" != typeof __weex_options__ && __weex_options__.weex
                        , o = i.isWeex && "object" == typeof r && r.config && "windmill" === r.config.container || !1
                        , a = !1;
                    if (o)
                        try {
                            var s = __weex_require__("@weex-module/keyboard");
                            "function" == typeof s.hideKeyboard && (a = !0)
                        } catch (e) { }
                    n.commitEvent && (o && a ? (t.isInWindmill = "weex",
                        n.commitEvent({
                            eventId: "19999",
                            eventid: "19999",
                            name: location.href,
                            pageName: location.href,
                            arg1: g,
                            arg2: "",
                            arg3: "",
                            param: t,
                            params: t
                        })) : n.commitEvent(location.href, "19999", g, "", "", t))
                } else
                    i.isWeb && "undefined" != typeof goldlog ? (t.grey = function (e) {
                        if (document && document.querySelector) {
                            var t = document.querySelector('meta[name="' + e + '"]');
                            if (t)
                                return t.getAttribute("content")
                        }
                        return ""
                    }("def-grey"),
                        "undefined" != typeof aplus && (t = function (e) {
                            var t = "";
                            if ("object" == typeof e)
                                for (var n in e)
                                    "" != t && (t += "&"),
                                        t += n + "=" + encodeURIComponent(e[n]);
                            else
                                t = e;
                            return t
                        }(t)),
                        goldlog.send && goldlog.send("//gm.mmstat.com" + g, t)) : function () {
                            if ("undefined" != typeof my && my.getSystemInfoSync && "function" == typeof my.getSystemInfoSync && ("TB" === my.getSystemInfoSync().app || "alipay" === my.getSystemInfoSync().app))
                                return !0;
                            return !1
                        }() && (t.isInWindmill = "web",
                            function (e) {
                                my.request && "function" == typeof my.request ? my.request({
                                    url: "https://gm.mmstat.com" + g,
                                    method: "GET",
                                    data: e,
                                    dataType: "text"
                                }).catch((function () { }
                                )) : my.httpRequest && "function" == typeof my.httpRequest && my.httpRequest({
                                    url: "//gm.mmstat.com" + g,
                                    method: "get",
                                    data: e,
                                    dataType: "json"
                                })
                            }(t))
        }
        var h = {
            report: m,
            reportError: function (e, t, n) {
                var r = {};
                e && e instanceof Error && (r = {
                    stack: JSON.stringify(e.stack),
                    name: e.name,
                    message: e.message,
                    type: "error",
                    module: t
                },
                    n && (r.reverse1 = n),
                    m(r))
            },
            reportApi: function (e, t) {
                e && e.url && (e.type = "api",
                    e.module = t,
                    e.sampling = e.sampling || "100",
                    m(e))
            },
            setConfig: function (e) {
                e && e.sampling && (p.sampling = e.sampling),
                    e && e.pid && (p.pid = e.pid)
            }
        };
        t.default = Object.assign(u, h)
    }
]);
